"use strict";function moveScroller(){var e=$("#scroller").width(),t=function(){var t="lg"===StackExchange.responsive.currentRange(),n=$(window).scrollTop(),i=$("#scroller-anchor").offset().top,o=$("#scroller"),a=StackExchange.scrollPadding.getPaddingTop(),r=a+"px";t&&n>i?o.height()>$(window).height()?o.css({"position":"fixed","top":"","bottom":"0","width":e,"z-index":3}):o.css({"position":"fixed","top":r,"bottom":"","width":e,"z-index":3}):o.css({"position":"relative","top":"","bottom":"","width":""})};StackExchange.responsive.addBreakpointListener(function(){var n=$("#scroller"),i=n[0].style.width,o=n[0].style.position;n.css({"position":"relative","width":""}),e=n.width(),n.css({"position":o,"width":i}),t()}),$(window).scroll(t).resize(t),t()}function initTagRenderer(e,t,n){window.tagRenderer||(n=n||{"tags":[],"id":""},window.tagRendererRaw=function(i,o,a,r){o=o||"",a=a||"a";var s="",c=r?"s-tag":"post-tag",l=StackExchange.helpers.encodeHexHtmlEntities(i);o||(e&&$.inArray(l,e)>-1?s=r?"s-tag__required":"required-tag":t&&$.inArray(l,t)>-1&&(s=r?"s-tag__moderator":"moderator-tag"));var u=$("<"+a+">").addClass(c).addClass(s).addClass($.inArray(i,n.tags)>-1?"site"+n.id+" themed channel"+n.id+"-tag":"").text(i);return"a"===a.toLowerCase()&&u.attr({"rel":"tag","href":o+"/questions/tagged/"+encodeURIComponent(i),"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":i})}),u.outerHTML()},window.tagRenderer=function(e,t,n,i){return $(tagRendererRaw(e,t,n,i))},window.tagRenderer.requiredTags=e,window.tagRenderer.moderatorOnlyTags=t,window.tagRenderer.channelOptions=n)}function showFadingHelpText(e){e.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}function initFadingHelpText(){var e={"wmd-input":"#how-to-format","tagnames":"#how-to-tag","tag-editor":"#how-to-tag","title":"#how-to-title","wmd-input-42":"#how-to-format","edit-comment":"#how-to-comment","js-stacks-editor-container":"#how-to-format"},t=$(".wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42, .edit-comment, .js-stacks-editor-container"),n=function(t){var n=$(t);return n.parent().hasClass("tag-editor")&&!n.closest(".js-mentions-input").length?e["tag-editor"]:n.hasClass("wmd-input")?e["wmd-input"]:n.hasClass("edit-comment")?e["edit-comment"]:n.hasClass("js-stacks-editor-container")?e["js-stacks-editor-container"]:e[$(t).attr("id")]};$(".js-help-pointer").click(function(e){var t=null;$(e.target).hasClass("js-dismiss-pointer")||$(e.target).closest(".js-dismiss-pointer").length?$($(this).data("focus-on-dismiss")).focus():t=$($(this).attr("data-for"));var n=this;return setTimeout(function(){$(n).remove(),$("html,body").animate({"scrollTop":t.offset().top-20})}),!1}),$(".js-back-to-edit-field").click(function(){var e=$($(this).attr("href")),t=$(this).attr("data-focus"),n=t?$(t):e;return $("html,body").animate({"scrollTop":e.offset().top-40},function(){n.focus()}),!1}),t.focusin(function(){var e=n(this);t.each(function(){var t=n(this);t!=e&&$(t).hide()});var i=$(e);i.is(":visible")||showFadingHelpText(i),$(".js-help-pointer").addClass("d-none");var o=$(".js-help-pointer[data-for='"+e+"']");o.removeClass("d-none"),o.data("focus-on-dismiss",this)})}!function(e){function t(){}function n(e,t){if(a)return t.indexOf(e);for(var n=t.length;n--;)if(t[n]===e)return n;return-1}var i=t.prototype,o=[],a=o.indexOf?!0:!1;i.getListeners=function(e){var t=this._events||(this._events={});return t[e]||(t[e]=[])},i.addListener=function(e,t){var i=this.getListeners(e);return-1===n(t,i)&&i.push(t),this},i.removeListener=function(e,t){var i=this.getListeners(e),o=n(t,i);return-1!==o&&(i.splice(o,1),0===i.length&&(this._events[e]=null)),this},i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,o,a=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"==typeof t)for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?a.call(this,i,o):r.call(this,i,o));else for(i=n.length;i--;)a.call(this,t,n[i]);return this},i.removeEvent=function(e){return e?this._events[e]=null:this._events=null,this},i.emitEvent=function(e,t){for(var n=this.getListeners(e),i=n.length;i--;)n[i].apply(null,t||o)===!0&&this.removeListener(e,n[i]);return this},"function"==typeof define&&define.amd?define(function(){return t}):e.EventEmitter=t}(this);var StackExchange=StackExchange||{};StackExchange.realtime=function(){function e(){return{"creationfailed":null,"onopen":null,"onmessage":null,"onclose":null,"onerror":null}}function t(t){function n(){try{return"WebSocket"in window?new WebSocket(t):new MozWebSocket(t)}catch(e){return e.message}}var i;return{"on":new e,"isOpen":function(){return i&&1===i.readyState},"readyState":function(){return i?i.readyState:null},"start":function(){if(!i){var e=this.on,t=n();"string"==typeof t?e.creationfailed&&e.creationfailed(t):(i=t,i.onopen=function(){e.open&&e.open()},i.onclose=function(){e.close&&e.close(),i=null},i.onmessage=function(t){e.message&&e.message(t)},i.onerror=function(){e.error&&e.error(),i=null})}},"close":function(){i&&(i.close(),i=null)},"dispose":function(){this.close()},"send":function(e){i&&i.send(e)},"open":function(){}}}function n(){B&&(B.dispose(),B=null)}function i(e){return new t(e)}function o(e){var t=e.split(","),o=t.length,r=W%o,l=t[r],u=StackExchange.options.realtime.staleDisconnectIntervalInHours;if("WebSocket"in window||"MozWebSocket"in window){if(B)return;if(B=new i(l),null===B)return;B.on.open=function(){if(Y||(Y=!0),W=0,s("WebSocket opened"),B&&1===B.readyState()){var e="",t=StackExchange.options;if(t){var e="|";t.routeName&&(e+=t.routeName.toString()),e+="|",t.user&&t.user.userId&&(e+=t.user.userId.toString()),e+="|",t.user&&t.user.accountId&&(e+=t.user.accountId.toString()),e+="|",t.user&&t.user.rep&&(e+=t.user.rep.toString()),e=e+"|"+window.location.host+"|",t.serverTime&&(e+=t.serverTime.toString()),e+="|",s("analytic: "+e),B.send(e)}}a(),c(),setInterval(N,6e4),u>0&&setTimeout(R,1e3*u*60*60)},B.on.message=function(e){var t=$.parseJSON(e.data||e);if("realtime-broadcast"===t.action){s("broadcast message - "+t.data);var i=$.parseJSON(t.data).a;("killWebSocket"===i||"restartWebSocket"===i)&&(s("Applying action: "+i),Q="killWebSocket"===i,Q?n():B.close())}else"debug-info"==t.action?s(t.data):J.emitEvent(t.action,[t.data])},B.on.close=function(){B=null,s("WebSocket closed"),!Q&&5>W&&z>0&&(W++,z--,s("reconnect attempt:"+W+" max retries:"+z),setTimeout(function(){StackExchange.realtime.init(e)},5*Math.random()*60*1e3))},B.on.error=function(){s("WebSocket failed"),n()},B.on.creationfailed=function(e){s("Sockets disabled - "+e),n()},B.start(),G.length>0&&B&&B.open()}}function a(){if(null!=B&&B.isOpen())for(var e=0,t=G.length;t>e;e++)s("sending "+G[e]),B.send(G[e])}function r(e){J.emitEvent(e.action,[e.data]),console.dir(J)}function s(e){(StackExchange&&StackExchange.options&&StackExchange.options.enableLogging||$&&$.cookie&&$.cookie("devlog"))&&console.log("realtime: "+e)}function c(){J.addListener("hb",function(e){s("heartbeat received; responding"),B.send(e)})}function l(e,t){G.push(e),t=t===!1?!1:!0,t&&a()}function u(e,t){J.removeListener(e,t),h(e)}function d(e,t){J.addListener(e,t),l(e)}function h(e){s("unsubscribing "+e);var t=$.inArray(e,G);-1!=t&&(G.splice(t,1),null!=B&&B.isOpen()&&B.send("-"+e))}function f(e){B?B.send("debug-"+e):s("not connected")}function p(e,t){var n=e+"-question-"+t;h(n)}function g(e,t){var n=e+"-question-"+t;l(n),J.addListener(n,function(e){if(!StackExchange.realtime.pauseQuestionNotifications){var t=$.parseJSON(e);if(t.acctid!=StackExchange.options.user.accountId)switch(s(n+" "+e),t.a){case"score":E(t);break;case"comment-add":b(t);break;case"answer-add":M(t);break;case"accept":v(t);break;case"unaccept":v(t,!0);break;case"post-edit":A(t);break;case"post-deleted":m(t)}}})}function m(e){var t=e.aId||e.qId,n=!!e.aId,i=n?$("#answer-"+e.aId):$("#question");i.css("opacity",.1);var o=$('<div class="realtime-post-deleted-notification" />');o.insertBefore(i);var a=StackExchange.options.user.canSeeDeletedPosts?"This post has been deleted - click to refresh the page":"This post has been deleted and is no longer viewable",r=$("<p>").text(a).appendTo(o);r.click(function(){window.location.reload(!0)}),$(".popup[data-postid="+t+"]").fadeOutAndRemove()}function v(e,t){$(".js-accepted-answer-indicator").each(function(){var n=!t&&$(this).closest(".js-voting-container").data("post-id")===e.answerid;$(this).toggleClass("d-none",!n)})}function b(e){0==$("#comment-"+e.commentid).length&&StackExchange.comments.realtimeMessage(e.id)}function y(e,t,n,i){var o=e+"-"+t;l(o),J.addListener(o,function(e){s("received (active) on "+o);var a=$.parseJSON(e);(!n||n(a))&&(I(a,t),i&&i(a))})}function k(e,t,n,i,o,a){U=n,K=o,y(e,t,function(e){if(i)for(var t=0;t<i.length;t++)if(-1==$.inArray(i[t],e.tags))return!1;return!0},a)}function w(e){var t=[],n=[];return e.forEach(function(e){"or"===e?n.length>0&&(t.push(n),n=[]):e.length>0&&"and"!==e&&n.push(e)}),n.length>0&&t.push(n),t}function x(e,t,n,i,o){var a=function(e){return i.noAnswers&&!e.noAnswers?(s("ignoring because has answers"),!1):i.hasBounty&&!e.hasBounty?(s("ignoring because no bounty"),!1):!0},r=function(e){for(var t=e.length-1;t>=0;t--)if("-"!==e[t][0])return e[t];return null};U=o,0===n.length?y(e,"questions-"+t,!1,a):w(n).forEach(function(n){var i=r(n);if(null!==i){var o="questions-"+t+"-tag-"+i;y(e,o,!1,function(e){if(!a(e))return!1;for(var t=0;t<n.length;t++){var i=n[t];if("-"!==i[0]){if(-1===$.inArray(i,e.tags))return s("ignoring because post does not contain "+i+" in "+o),!1}else{var r=i.substr(1);if(-1!==$.inArray(r,e.tags))return s("ignoring because post contains "+r+" in "+o),!1}}return!0})}})}function S(e){l(e+"-qcnt-feed"),J.addListener(e+"-qcnt-feed",function(e){$("div#q-cnt").html(e)}),l(e+"-evc-feed"),J.addListener(e+"-evc-feed",function(e){$("div#evc-cnt").html(e)}),l(e+"-acnt-feed"),J.addListener(e+"-acnt-feed",function(e){$("div#a-cnt").html(e)})}function C(e){var t=e+"-review-dashboard-update";l(t),J.addListener(t,function(e){var t=$.parseJSON(e),n=$('.dashboard-activity[data-review-task="'+t.i+'"]');0==n.find('.dashboard-user[data-user="'+t.u+'"]').length&&(n.find(".dashboard-user:nth-child(6)").remove(),n.css("overflow","hidden"),n.children().css({"left":"-44px"}),n.prepend(t.html).children().animate({"left":0},function(){n.css("overflow","visible")}))})}function _(){if(null!=StackExchange.options.user.accountId){var e=StackExchange.options.user.accountId+"-topbar";l(e),J.addListener(e,function(e){StackExchange.topbar.handleRealtimeMessage(e)})}}function j(e){if(null!=StackExchange.options.user.accountId){var t=e+"-"+StackExchange.options.user.userId+"-reputation";l(t),J.addListener(t,function(e){T(e)})}}function E(e){var t=$(".js-voting-container").filter(function(){return $(this).data("post-id")===e.id}).find(".js-vote-count");if(t.data("value")!==e.score){var n=StackExchange.vote.normalizePostScore(e.score);t.data("value",e.score).text(n),0===$(":animated").length&&t.fadeTo("fast",.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&StackExchange.vote.bindFetchVoteCounts()}}function T(e){var t=$("#hlinks .reputation-score, .links-container .reputation, .js-header-rep");t.text()!=e.score&&(0==$(":animated").length&&t.fadeTo("fast",.8).fadeTo("fast",1),t.text(e).attr("title",function(e){return"your reputation: "+e.reputation}({"reputation":e})),t.trigger("reputationchange"))}function M(e){if(0==$("#answer-"+e.answerid).length&&(H.push(e.answerid),StackExchange.cardiologist)){if(StackExchange.cardiologist.isHeartBeating()){var t=StackExchange.helpers.DelayedReaction(O,5e3);t.trigger()}else O();StackExchange.cardiologist.notifiedOfNewAnswer()}}function O(){$(".js-new-answer-activity").remove(),$("#answers-header").prepend(Z)}function A(e){var t=$(".question[data-questionid="+e.id+"], .answer[data-answerid="+e.id+"]");if(!(t.find(".js-new-post-activity[data-postid="+e.id+"]").length>0)){var n=$('<div class="new-post-activity bar-sm ta-center mb16 js-new-post-activity" data-postid="'+e.id+'">').append($('<a class="d-block py8" href="#">').text("An edit has been made to this post")),i=0===t.find(".inline-editor").length,o=function(){$(".js-new-post-activity[data-postid="+e.id+"]").remove(),i&&t.off("click",o),0===$("#review-content").length&&X([e.id]),$(document).trigger("refreshEdit",e.id)};i&&t.click(o),n.prependTo(t).find("a").click(function(e){return e.stopPropagation(),o(),!1})}}function P(){$("#tabs").show(),$(".js-new-answer-activity").remove();var e=$("#answers #answers-header"),t=e.find(".answers-subheader h2"),n=parseInt(t.text())+H.length;isNaN(n)&&(n=H.length),t.text(function(e){return 1==e.answerCount?e.answerCount+" Answer":e.answerCount+" Answers"}({"answerCount":n})),$.ajax({"url":"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({"postIdsSemiColonDelimited":H.join(";")})}).done(function(t){var n=$('<div class="dno" />').append(t);n.insertAfter(e).fadeIn(400,function(){n.removeClass("dno"),styleCode(),StackExchange.vote.init($(".question").data("questionid")),n.find(".answer").each(function(){StackExchange.comments.init({"post":$(this)})})})}),StackExchange.question.bindSuggestedEditPopupLinks(),N(),H=[]}function I(e,t){null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.isIgnored(e.body)||(q[e.id]={"id":e.id,"fetch":!0,"index":(new Date).getTime(),"siteid":e.siteid,"channel":t},$(".js-new-post-activity").remove(),$("#question-mini-list, #questions").prepend(tt),$(".tag-sponsorship").length>0&&$("#question-mini-list, #questions").css("margin-top","0px"))}function D(e,t){return e.index<t.index?-1:e.index>t.index?1:0}function F(){var e=[];for(var t in q)q.hasOwnProperty(t)&&e.push(q[t]);if(0!==e.length){var n=e.sort(D).slice(0,50);$.post("/posts/ajax-load-realtime-list/",{"postIdsSemiColonDelimited":n.map(function(e){return e.id}).join(";"),"channel":n[0].channel}).done(function(e){for(var t=0;t<n.length;t++){var i=n[t];i.body=e[i.id],i.body&&($("#question-summary-"+i.id).remove(),$(i.body).prependTo("#question-mini-list, #questions").hide().fadeIn())}L(0),null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,U),N(),$(".js-new-post-activity").remove()}),q={}}}function L(e){var t=document.title.replace(/^\(\d*\*?\) /,"");e>0&&(t="("+e+") "+t),window.setTimeout(function(){$(document).attr("title",t)},200)}function R(){Q=!0,StackExchange.notify.show('Instant updates have been disabled due to inactivity <a href=".">refresh</a> to reconnect',312),B.dispose()}function N(){for(var e=$("span.relativetime, span.relativetime-clean"),t=0;t<e.length;t++)if(e[t].title){var n=V(e[t].title);n&&(e[t].innerHTML=n)}}function V(e){if(e){var t=e.match(/^(\d{4}-\d\d-\d\d) (\d\d:\d\d:\d\dZ)/);if(t){var n=t[1]+"T"+t[2],i=new Date(n),o=((new Date).getTime()-i.getTime())/1e3+StackExchange.options.serverTimeOffsetSec,a=Math.floor(o/86400);if(!(isNaN(a)||0>a||a>=31))return 0==a&&(2>o&&"just now"||60>o&&(K?function(e){return 1==e.seconds,e.seconds+"s ago"}({"seconds":Math.floor(o)}):function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":Math.floor(o)}))||120>o&&(K?"1m ago":"1 min ago")||3600>o&&(K?function(e){return 1==e.minutes,e.minutes+"m ago"}({"minutes":Math.floor(o/60)}):function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":Math.floor(o/60)}))||7200>o&&(K?"1h ago":"1 hour ago")||86400>o&&(K?function(e){return 1==e.hours,e.hours+"h ago"}({"hours":Math.floor(o/3600)}):function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":Math.floor(o/3600)})))}}}var U,B=null,q={},H=[],W=0,G=[],z=10,Y=!1,K=!1,Q=!1,J=new EventEmitter,Z=function(){var e=Object.keys(H).length;0==e&&$(".js-new-answer-activity").remove();var t=$('<div class="new-answer-activity ta-center bar-sm mb16 js-new-answer-activity">').append($('<a class="d-block py8" href="#">').text(function(e){return 1==e.count?e.count+" new answer to this question":e.count+" new answers to this question"}({"count":e})));return t.click(function(){StackExchange.realtime.expandAnswers()}),t.find("a").click(function(e){return e.stopPropagation(),StackExchange.realtime.expandAnswers(),!1}),t},X=function(e,t){var n=[],i={};if($(e).each(function(e,t){var o=$(".question[data-questionid="+t+"], .answer[data-answerid="+t+"]");o.length>0&&(n.push(+t),i[+t]=o)}),0===n.length)return $.Deferred().resolve(i);var o="/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true&includeComments={includeComments}".formatUnicorn({"postIdsSemiColonDelimited":n.join(";"),"includeComments":!!t});return $.ajax({"type":"GET","url":o,"dataType":"html"}).then(function(e){var n=$(e),o=n.filter(".question, .answer").map(function(){var e=$(this),n=+(e.data("questionid")||e.data("answerid")||0),o=i[n];return et(o,e,n,t)}).get();return $.when.apply($,o)}).then(function(){return i})},et=function(e,t,n,i){var o=e.find(".postcell, .answercell"),a=t.find(".postcell, .answercell").css({"opacity":0}),r=e.hasClass("question"),s=$("body").hasClass("question-page"),c=$("h1 a.question-hyperlink"),l=t.data("title"),u=r&&s&&$.trim(c.text())!==l,d=e.find(".js-comments-list"),h=150,f=function(e){return e.animate({"opacity":0},h)},p=function(e){return e.animate({"opacity":1},h)};if(window.history&&s){var g=u?function(e){return e.pageTitle+" - "+e.siteName}({"pageTitle":l,"siteName":StackExchange.options.site.name}):document.title;window.history.replaceState(window.history.state,g,"#"+n)}return $.when(u?f(c):!0,i?f(d):!0,f(o)).then(function(){return e.prop("classList",t.prop("classList")),u&&c.text(l),i&&StackExchange.comments.replaceAll(e,t.find(".js-comment")),o.replaceWith(a),styleCode(),$.when(u?p(c):!0,i?p(d):!0,p(a))})},tt=function(){var e=Object.keys(q).length;L(e);var t=$('<div class="js-new-post-activity bg-black-050 bar-sm ta-center mt8 ml8">').append($('<a class="d-block py8" href="#">').text(function(e){return 1==e.count?e.count+" question with new activity":e.count+" questions with new activity"}({"count":e})));return t.click(function(){StackExchange.realtime.expandActiveQuestions()}),t.find("a").click(function(e){return e.stopPropagation(),StackExchange.realtime.expandActiveQuestions(),!1}),t};return{"init":o,"log":s,"simulate":r,"expandActiveQuestions":F,"expandAnswers":P,"subscribeToActiveQuestions":k,"subscribeToUQL":x,"subscribeToQuestion":g,"unsubscribeToQuestion":p,"pauseQuestionNotifications":!1,"subscribeToReputationNotifications":j,"updateRelativeDates":N,"subscribeToReviewDashboard":C,"subscribeToTopBarNotifications":_,"subscribeToCounts":S,"genericSubscribe":d,"genericUnsubscribe":u,"reloadPosts":X,"debug":f}}(),StackExchange.anonymous={},!function(e,t,n){"function"==typeof define?define(n):"undefined"!=typeof module?module.exports=n():t[e]=n(t)}("klass",this,function(e){function t(e){return a.call(n(e)?e:function(){},e,1)}function n(e){return typeof e===s}function i(e,t,n){return function(){var i=this.supr;this.supr=n[l][e];var o={}.fabricatedUndefined,a=o;try{a=t.apply(this,arguments)}finally{this.supr=i}return a}}function o(e,t,o){for(var a in t)t.hasOwnProperty(a)&&(e[a]=n(t[a])&&n(o[l][a])&&c.test(t[a])?i(a,t[a],o):t[a])}function a(e,t){function i(){}function r(){this.initialize?this.initialize.apply(this,arguments):(t||u&&s.apply(this,arguments),d.apply(this,arguments))}i[l]=this[l];var s=this,c=new i,u=n(e),d=u?e:this,h=u?{}:e;return r.methods=function(e){return o(c,e,s),r[l]=c,this},r.methods.call(r,h).prototype.constructor=r,r.extend=a,r[l].implement=r.statics=function(e,t){return e="string"==typeof e?function(){var n={};return n[e]=t,n}():e,o(this,e,s),this},r}e=e||this;var r=e.klass,s="function",c=/.*/,l="prototype";return t.noConflict=function(){return e.klass=r,this},t}),StackExchange.topbar=function(){function e(e,t){var n=e.data("cookie");if(n){var i=t($.cookie(n));i&&$.cookie(n,i,{"expires":new Date(e.data("expire-date")),"path":"/"})}}function t(e){StackExchange.options.enableLogging&&console.log("topbar: "+e)}function n(e){for(var t=0;t<A.length;t++){var n=A[t];if((n.$button||$()).get(0)===e)return!0;if(n.dialog&&n.dialog.contains(e))return!0}return!1}function i(){for(var e=0;e<A.length;e++)A[e].toggle(!1)}function o(e){var n;if(e&&(n=JSON.parse(e))){t("realtime message - "+e);for(var i in n)for(var o=0;o<A.length;o++)if(i==A[o].name){A[o].handleRealtimeMessage(n[i]);break}}}function a(e,t){var n=this,i={"enableHints":!0,"enablePrizm":!0,"isTopbarAware":!0,"onChoice":null,"searchUrl":"/search/ac?q=","transformResultsHtml":null};this.settings=$.extend({},i,t),this.resultsCache={},this.searchHintsLoaded=!1,this.refreshResultsOnNextShow=!1,e.on("s-popover:show",function(){n.refreshResultsOnNextShow&&(n.suggest.call(n),n.refreshResultsOnNextShow=!1)});var o=$("#"+e.attr("aria-controls")),a=o.find(".js-ac-results");if(StackExchange.mobile&&e.css("font-size","16px"),this.$searchPopover=o,this.$searchBox=e,this.$resultsDiv=a,this.$screenReaderInfo=o.find(".js-screen-reader-info"),this.$loadingIndicator=o.find(".js-spinner"),this.$searchHintsContainer=o.find(".js-search-hints"),this.settings.enableHints?e.on("s-popover:show",this.fetchSearchHints.bind(this)):this.searchHintsLoaded=!0,this.settings.isTopbarAware&&($(".js-products-menu").on("s-popover:show",this.hidePopover.bind(this)),e.on("s-popover:show",StackExchange.topbar.hideAll)),e.hasClass("js-search-autocomplete")){var r=StackExchange.helpers.DelayedReaction(this.suggest.bind(this),500,{"sliding":!0}),s=/Trident/.test(navigator.userAgent)?"textinput":"input";e.on(s,this.onInput.bind(this)),e.on(s,r.trigger),e.on("keydown",this.searchBoxOnKeyDown.bind(this)),o.on("keydown",this.searchPopoverOnKeyDown.bind(this)),a.on("click",".js-ac-result",this.choose.bind(this)),this.settings.isTopbarAware&&$(".js-top-bar").focusin(this.hideWhenFocusLost.bind(this))}}function r(){var e=$(".js-search-field");$(".js-search-channel-selector").change(function(){var e=$(this).find("option:selected");if(e&&1===e.length){var t=e.data("url");t&&$("#search").attr("action",t);var n=e.data("search-on");n&&$(".js-search-on").val(n)}}).trigger("change"),new a(e)}function s(){function e(e){n.toggleClass(o,e),t.toggleClass(a,e)}var t=$(".js-searchbar"),n=$(".js-searchbar-trigger"),i=$(".js-search-field"),o="topbar-icon-on",a="searchbar__open";n.on("click",function(t){t.preventDefault(),e(),StackExchange.helpers.DelayedReaction(function(){i.focus()},0).trigger()})}function c(e){var t=$("html").hasClass("html__unpinned-leftnav");if(arguments.length||(e=!t),t!==!!e){var n,i;e?($("html").addClass("html__unpinned-leftnav"),n="sm md lg",i=""):($("html").removeClass("html__unpinned-leftnav"),n="sm",i="md lg"),$(".js-pinned-left-sidebar").attr("data-is-here-when",i),$(".js-unpinned-left-sidebar").attr("data-is-here-when",n),StackExchange.responsive.forceCheck()}}function l(){function e(){if(o.is(":visible")){var e=o.offset(),t=e.top-r.scrollTop()+StackExchange.scrollPadding.getPaddingTop(),n=Math.max(StackExchange.scrollPadding.getPaddingTopMinimal(),t)+a,s=i.height(),c=n+s-t-o.height();n-=Math.max(0,c),i.css("top",n),o.css("min-height",s+a)}}var t=!1,n=(navigator.userAgent||"").match(/\bEdge\/(\d+)/);if(n&&parseInt(n[1],10)<17&&(t=!0),t||!window.CSS||!CSS.supports||!CSS.supports("(position: sticky) or (position: -webkit-sticky)")){var i=$(".js-sticky-leftnav");if(i.length){t&&i.addClass("left-sidebar__fake-sticky");var o=$(".js-pinned-left-sidebar"),a=parseInt(o.css("padding-top"),10),r=$(window);r.on("scroll",e),StackExchange.responsive.addBreakpointListener(e),e()}}}function u(){var e=$("#js-gdpr-consent-banner"),t=e.find(".js-notice-close");t.click(function(){t.prop("disabled",!0),$.ajax({"method":"POST","url":"/accounts/accept-gdpr-consent-banner","data":{"fkey":StackExchange.options.user.fkey},"dataType":"json","success":function(t){t&&e.remove()},"complete":function(){t.prop("disabled",!1)}})})}var d=klass({"name":"","url":"","cssClass":"","button":null,"$dialog":null,"$loadingPlaceholder":null,"$preloadedDialog":null,"$parent":null,"alignment":null,"hasRead":!1}).methods({"isLoading":function(){return null!=this.$loadingPlaceholder},"isLoaded":function(){return null!=this.$dialog},"isVisible":function(){var e=this.$dialog||this.$loadingPlaceholder;return null!=e&&e.is(":visible")},"toggle":function(e,t){if("boolean"!=typeof e)throw new Error("showOrHide is a required parameter");if(!e){if(this.isLoading())return this.showOrHide(!1),void 0;if(!this.isLoaded())return}if(this.isLoaded()||this.isLoading()?(this.showOrHide(e),e||t||!this.hasRead||this.markAsRead()):this.$preloadedDialog?this.loadChildContent():this.loadDialog(),e){for(var n=0;n<A.length;n++)this.button!=A[n]&&A[n].toggle(!1,t);$(".js-top-search-popover").removeClass("is-visible")}},"showOrHide":function(e){var t=this.$dialog||this.$loadingPlaceholder||$(),n=this.button.$button;if(e){var i=n.closest("li");this.$parent||(StackExchange.mobile?this.$parent=$(".js-topbar-dialog-corral"):i.length>0&&(this.$parent=$('<li role="presentation" />').insertAfter(i))),this.$parent?this.$parent.append(t):t.insertAfter(this.button.$button),this._bound_pdub||(this._bound_pdub=this.positionDialogUnderButton.bind(this)),this.positionDialogUnderButton(),StackExchange.responsive&&StackExchange.responsive.addBreakpointListener(this._bound_pdub)}else StackExchange.responsive&&this._bound_pdub&&StackExchange.responsive.removeBreakpointListener(this._bound_pdub);t.toggle(e),e&&this.isLoaded()&&(this.hasRead=!0)},"loadChildContent":function(){var e=this.$preloadedDialog.find(".child-content");if(this.$dialog=this.$preloadedDialog,this.showOrHide(!0),this.url){$("<div>",{"class":"child-content-loading"}).addSpinner().appendTo(e);var t=this;this.fetchUrl().done(function(n){e.html(n),t.afterLoad()})}},"loadDialog":function(){if(!this.isLoading()){this.$loadingPlaceholder=this.getLoadingPlaceholder(),this.showOrHide(!0);var e=this;this.fetchUrl().done(function(t){e.$dialog=$(t),e.afterLoad();var n=e.$loadingPlaceholder.is(":visible");e.showOrHide(n)}).always(function(){e.$loadingPlaceholder.remove(),e.$loadingPlaceholder=null})}},"afterLoad":function(){this.$dialog.find(".js-close-button").click(function(){StackExchange.topbar.hideAll()}),StackExchange.gps.bindTrackClicks(this.$dialog)},"getLoadingPlaceholder":function(){var e=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html(),t=this.cssClass+(StackExchange.options.user.isAnonymousNetworkWide?" anon":""),n=['<div class="topbar-dialog ',t,' dno">','<div class="header">',e,"</div>",'<div class="modal-content"/>',"</div>"];return $(n.join(""))},"positionDialogUnderButton":function(){var e=this.alignment||"right",t=this.button.$button.outerHeight(),n=this.$dialog||this.$loadingPlaceholder,i=n.parent();for(["top","left","right","max-width"].forEach(function(e){n[0].style.removeProperty(e)});i.not("body").length&&"static"===i.css("position");)i=i.parent();i=i.length?i:$("body");var o,a=this.button.$button.offset().left-i.offset().left;"right"===e&&(a=i.outerWidth()-a-this.button.$button.outerWidth(),o=i.offset().left+i.outerWidth()-a);var r={"top":t};StackExchange.responsive&&"sm"===StackExchange.responsive.currentRange()||(r[e]=a,o&&(r.maxWidth=o)),(this.$dialog||this.$loadingPlaceholder).css(r)},"fetchUrl":function(){t("fetching "+this.url);var e=$.ajax({"type":"GET","url":this.url,"dataType":"html"});return e},"markAsRead":function(){this.button.markAsRead(),this.isLoaded()&&this.$dialog.find(".unread-item").removeClass("unread-item")},"handleRealtimeMessage":function(){this.clearLoadedDialog()},"clearLoadedDialog":function(){this.isLoaded()&&(this.$dialog.remove(),this.$dialog=null,this.hasRead=!1)},"hasFocus":function(){return this.contains(document.activeElement)},"contains":function(e){var t=this.$dialog||this.$loadingPlaceholder;return t&&t.length&&e&&$.contains(t.get(0),e)}}),h=klass({"name":"","selector":"","dialog":null,"$button":null,"onClass":"","unreadCountPrefix":"","queuedUnreadCount":0,"showsOnMouseOver":!1,"pendingUnread":{}}).methods({"initialize":function(){this.dialog.name=name,this.dialog.button=this,P.push(this.dialog);var e=this;this.$button=$(this.selector),this.$button.click(function(){return e.toggle(),!1}),this.showsOnMouseOver&&this.$button.mouseover(function(){e.showOnMouseOver()}),this.onClass="topbar-icon-on"+(this.onClass?" ":"")+this.onClass},"toggle":function(e,t){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),this.$button.toggleClass(this.onClass,e),this.$button.attr("aria-expanded",e),this.dialog.toggle(e,t),!e&&this.dialog.hasFocus()&&this.$button.focus()},"showOnMouseOver":function(){for(var e=!1,t=0;t<A.length;t++){var n=A[t];if(n!=this&&n.showsOnMouseOver&&n.isOn()){e=!0;break}}e&&this.toggle(!0,!0)},"isOn":function(){return this.$button.hasClass(this.onClass)},"markAsRead":function(){this.setUnread($.extend({"count":0,"litUp":!1},this.pendingUnread))},"setUnread":function(e){return this.isOn()?($.extend(this.pendingUnread,e),void 0):(this.pendingUnread={},this.applyUnreadCount(e.count,e.litUp),(e.count>0||e.litUp)&&this.dialog.clearLoadedDialog(),void 0)},"applyUnreadCount":function(e,t){var n=this.$button,i=n.find(".unread-count, .js-unread-count"),o=n.data("unread-class");void 0!==t&&o&&n.toggleClass(o,t).data("lit-up",t),void 0!==e&&(n.data("unread-count",e),e>0?i.text(this.unreadCountPrefix+e).fadeIn().removeClass("d-none"):i.fadeOut());var a=this.getButtonLabelAndTitle(n.data("unread-count")||0,!!n.data("lit-up"));a&&(n.attr("aria-label",a.label),n.attr("title",a.title))},"handleRealtimeMessage":function(){},"getButtonLabelAndTitle":function(){return null}}),f=d.extend({"url":"/topbar/site-switcher/site-list","cssClass":"siteSwitcher-dialog","$searchItems":null,"$pinnedSiteSearchItems":null,"isPreloaded":!0,"$preloadedDialog":$(".siteSwitcher-dialog")}).methods({"afterLoad":function(){this.$dialog.find(".js-site-filter-txt").typeWatch({"highlight":!1,"wait":250,"captureLength":-1,"callback":$.proxy(this.filterSites,this)}),this.$searchItems=this.$dialog.find(".js-other-sites li").clone().map(function(){return{"title":$(".site-icon",this).attr("title").toLowerCase(),"description":$(".site-desc",this).text().toLowerCase(),"hostname":$("a",this).first().attr("href"),"li":this}});var e=this.$dialog;this.$dialog.find(".js-site-filter-txt").focus(function(){var t=e.offset().top+e.height(),n=e.find(".other-sites li:nth-child(2)"),i=n.offset().top+n.height();i>t&&e.animate({"scrollTop":e.scrollTop()+i-t},750)}),StackExchange.options.user.isAnonymous&&!StackExchange.options.user.isAnonymousOnThisSite||!$(".pinned-site-editor-container").length||($(".js-found-sites").hide(),this.$dialog.find("#js-site-search-txt").typeWatch({"highlight":!1,"wait":100,"captureLength":-1,"callback":$.proxy(this.findSitesToPin,this)}),this.$dialog.find("#edit-pinned-sites").click($.proxy(this.editPinnedSites,this)),this.$dialog.find("#cancel-pinned-sites").click({"forceListRefresh":$("#save-pinned-sites-btn").is(":enabled")},this.cancelSiteListEdits),this.$dialog.find("#pin-site-btn").click($.proxy(this.pinSite,this)),this.$dialog.on("click",".js-remove-pinned-site-link",function(){return $(this).parent().remove(),$("#save-pinned-sites-btn").enable(),$(".js-reset-pinned-sites").show(),!1}),this.$dialog.find("#save-pinned-sites-btn").click($.proxy(this.savePinnedSites,this)),this.$dialog.find(".js-reset-pinned-sites").click($.proxy(this.resetPinnedSites,this))),this.supr()},"showOrHide":function(e){this.supr(e)},"pinSite":function(){$("#pin-site-btn").disable();var e=$("#js-site-search-txt").val(),t=$.grep(this.$pinnedSiteSearchItems,function(t){return t.sitename===e});if(!t.length)return $("#pin-site-btn").enable(),void 0;var n=t[0],i=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();if(i.indexOf(n.siteid)>-1)return $("#pin-site-btn").enable(),void 0;
var o=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/pin-site","data":{"siteId":n.siteid},"dataType":"html"}).done(function(e){var t=$(e);t.hide(),$(".pinned-site-list").append(t),t.fadeIn("slow"),$("#js-site-search-txt").val(""),$("#save-pinned-sites-btn").enable(),o.toggleSiteListResetLink(!0)}).fail(function(){$("#pin-site-btn").parent().showErrorMessage("Something bad happened; please try again"),$("#pin-site-btn").enable()})},"savePinnedSites":function(){var e=$(".pinned-site-list li .pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray(),t=!$(".js-reset-pinned-sites").is(":visible")||!e.length;this.toggleSiteListResetLink(!t);var n=$(".js-reset-pinned-sites").siblings("input[name=fkey]").val();return $.ajax({"type":"POST","url":"/topbar/site-switcher/save-pinned-sites","data":{"siteIds":t?[]:e,"fkey":n||StackExchange.options.user.fkey},"dataType":"html","traditional":!0}).done($.proxy(function(e){$(".my-sites").html(e),this.cancelSiteListEdits(!1),$(".pinned-site-list").data("custom-list",!t),StackExchange.using("gps",function(){StackExchange.gps.track("site_switcher.edit",{})})},this)).fail(function(){$("#save-pinned-sites-btn").parent().showErrorMessage("Something bad happened; please try again")}),!1},"resetPinnedSites":function(){var e=this;return $.ajax({"type":"GET","url":"/topbar/site-switcher/default-active-sites","dataType":"html"}).done(function(t){$(".pinned-site-list").html(t),$("#save-pinned-sites-btn").enable(),e.toggleSiteListResetLink(!1)}).error(function(){$(".js-reset-pinned-sites").parent().showErrorMessage("Something bad happened; please try again")}),!1},"doSearch":function(e,t,n){var i;t=t.toLowerCase();var o=[];return $.each(e,function(e,n){var i={"index":e,"li":n.li,"item":n},a=n.title.indexOf(t);n.title==t?i.priority=1:0==a?i.priority=2:a>-1?i.priority=3:n.description.indexOf(t)>-1?i.priority=4:n.hostname.indexOf(t)>-1&&(i.priority=5),i.priority&&o.push(i)}),i=o.sort(function(e,t){return e.priority-t.priority||e.index-t.index}),n&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.submit",{"term":t,"numresults":o.length},!1)}),i},"_findSitesToPin":function(e){var t=$(".js-found-sites"),n=this.$pinnedSiteSearchItems;if(t.empty(),""===e)return t.hide(),$("#pin-site-btn").disable(),void 0;if(n=this.doSearch(n,e,!1),n.length){t.show(),$("#pin-site-btn").enable();var i=$(".pinned-site-link").map(function(e,t){return $(t).data("id")}).toArray();$.each(n,function(e,n){var o=$('<li class="pinned-site-candidate">'+n.item.sitename+"</li>");i.indexOf(n.item.siteid)>-1?o.addClass("already-pinned-site"):o.click(function(){var e=$(this).text();return $("#js-site-search-txt").val(e),$(".js-found-sites").hide(),!1}),o.appendTo(t)})}},"findSitesToPin":function(e){if(this.$pinnedSiteSearchItems)return this._findSitesToPin(e),void 0;var t=this;$.ajax({"type":"GET","url":"/topbar/site-switcher/all-pinnable-sites","dataType":"json"}).done(function(n){t.$pinnedSiteSearchItems=n,t._findSitesToPin(e)})},"filterSites":function(e){var t=$(".js-other-sites"),n=this.$searchItems;t.empty(),""!=e&&(n=this.doSearch(n,e,!0)),t.append(n.map(function(e){return this&&this.li||e.li}))},"editPinnedSites":function(){$(".siteSwitcher-dialog .header").not("#your-communities-header").css("opacity",.2),$(".siteSwitcher-dialog .modal-content").not("#your-communities-section").css("opacity",.2),$(".my-sites").hide(),$(".pinned-site-editor-container").show(),$("#edit-pinned-sites").hide(),$("#cancel-pinned-sites").show();var e=$(".pinned-site-list");if(""===e.html().trim()){var t=$("<div/>").append(StackExchange.helpers.getSpinnerImg()).html();e.append('<li style="text-align:center;">'+t+"</li>"),$.ajax({"type":"GET","url":"/topbar/site-switcher/current-pinned-sites","dataType":"html"}).done(function(t){e.html(t)}).fail(function(){e.showErrorMessage("Something bad happened; please try again")}).always(function(){e.find(".ajax-loader").remove()})}this.toggleSiteListResetLink("true"===e.data("custom-list").toString().toLowerCase());var n=$(".sortable"),i=this;return n.data("isSortable")||StackExchange.loadJqueryUi().done(function(){n.sortable({"axis":"y","update":function(){$("#save-pinned-sites-btn").enable(),i.toggleSiteListResetLink(!0)}}).disableSelection().data("isSortable",!0)}),!1},"toggleSiteListResetLink":function(e){$(".js-reset-pinned-sites").toggle(e)},"cancelSiteListEdits":function(e){return $(".header").not("#your-communities-header").css("opacity",1),$(".modal-content").not("#your-communities-section").css("opacity",1),$(".my-sites").show(),$("#edit-pinned-sites").show(),$(".pinned-site-editor-container").hide(),$("#cancel-pinned-sites").hide(),$("#save-pinned-sites-btn").disable(),e&&($(".pinned-site-list").empty(),$(".js-found-sites").hide(),$("#js-site-search-txt").val(""),$("#pin-site-btn").disable()),!1}}),p=h.extend({"name":"SiteSwitcher","selector":".js-site-switcher-button","dialog":new f,"showsOnMouseOver":!1,"onClass":"icon-site-switcher-on"}),g=d.extend({"cssClass":"feature-notice-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-feature-notice-dialog");var e=this.button,t=e.$button;this.$dialog.find(".js-close-button").click(function(){return e.mark(4),t.hide(),e.toggle(!1),!1}),this.$dialog.find(".js-cta-button").click(function(){return e.didClickCTA=!0,e.mark(2),!0}),this.showOrHide(!0)}}),m=h.extend({"name":"FeatureNotice","selector":".-feature-notice","dialog":new g}).methods({"initialize":function(){h.prototype.initialize.apply(this,arguments);var t=this.$button;e(t,function(e){return e?"!"==e.substring(0,1)?"!"+(1+parseInt(e.substring(1))):null:"!1"}),t.data("autopopup")&&this.toggle(!0,!1,!0)},"mark":function(t){e(this.$button,function(e){if(e){var n=e.split(";");if(2==n.length&&!isNaN(n[0])&&!isNaN(n[1]))return(n[0]|t)+";"+n[1]}return t+";"+Date.now()})},"markAsRead":function(){this.didClickCTA&&h.prototype.markAsRead.apply(this,arguments)},"toggle":function(e,t,n){e="boolean"==typeof e?e:!this.$button.hasClass(this.onClass),n=!!n,h.prototype.toggle.apply(this,arguments);{var i=this.$button;this.dialog.$dialog}e&&(this.mark(1),n||this.mark(8),i.hasClass("js-sample")&&StackExchange.using("gps",function(){StackExchange.gps.track("new_feature.show",{"campaign":i.data("campaign"),"location":i.data("location"),"auto_popup":n})}))}}),v=d.extend({"url":"/topbar/inbox","cssClass":"inbox-dialog"}),b=h.extend({"name":"Inbox","selector":".js-inbox-button","dialog":new v,"showsOnMouseOver":!1}).methods({"handleRealtimeMessage":function(e){this.setUnread({"count":e.UnreadInboxCount})},"getButtonLabelAndTitle":function(e){var t,n;return e>0?(t=function(e){return 1==e.__count,"Inbox ("+e.__count+" unread messages)"}({"__count":e}),n="You have unread inbox messages"):(t="Inbox",n="Recent inbox messages"),{"label":t,"title":n}}}),y=d.extend({"url":(StackExchange.options.site.routePrefix||"")+"/topbar/achievements","cssClass":"achievements-dialog"}).methods({"afterLoad":function(){this.alignRep(),this.bindDateGroupToggles(),this.displayUtcTime(),this.bindGpsTracker(),this.supr()},"alignRep":function(){var e=this.$dialog.find(".js-items .js-faux-column"),t=0;e.filter(".js-rep-change").each(function(){var e=$.trim($(this).text()).length;e>t&&(t=e)}),t>0&&e.width(6*(t+1))},"bindDateGroupToggles":function(){this.$dialog.find(".js-date-group-toggle").click(function(){var e=$(this),t=e.closest(".js-date-group"),n=t.find(".js-items"),i=t.find(".rep-site-container");e.find(".date-group-toggle").toggleClass("toggle-hidden"),n.add(i).fadeToggle("fast")}),this.$dialog.find(".rep-site-container").on("click",function(e){e.stopImmediatePropagation()})},"displayUtcTime":function(){var e=this.$dialog,t=function(){var t=new Date;t.setTime(t.getTime()+1e3*StackExchange.options.serverTimeOffsetSec);var n=t.getUTCHours(),i=t.getUTCMinutes();10>n&&(n="0"+n),10>i&&(i="0"+i),e.find(".js-utc-time").text(n+":"+i)};t(),setInterval(t,6e4)},"bindGpsTracker":function(){var e=$("#js-gps-container.js-empty-achiev");e.find("a:first").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:6 })"),e.find("a:last").addClass("js-gps-track").data("gps-track","achievements_popup.click({ item_type:7 })"),StackExchange.gps.bindTrackClicks(e)}}),k=h.extend({"name":"Achievements","selector":".js-achievements-button","dialog":new y,"unreadCountPrefix":"+","showsOnMouseOver":!1}).methods({"handleRealtimeMessage":function(e){var t={"count":e.UnreadRepCount};void 0!==e.UnreadNonRepCount&&(t.litUp=e.UnreadNonRepCount>0),this.setUnread(t)},"getButtonLabelAndTitle":function(e,t){var n,i;return e>0?(n=function(e){return 1==e.__count,"Achievements ("+e.__count+" new reputation)"}({"__count":e}),i="You have new reputation changes"):t?(n="Achievements (unread)",i="You have new achievements"):(n="Achievements",i="Recent achievements: reputation, badges, and privileges earned"),{"label":n,"title":i}}}),w=d.extend({"cssClass":"help-dialog"}).methods({"loadDialog":function(){this.$dialog=$(".js-help-dialog"),this.showOrHide(!0)}}),x=h.extend({"name":"Help","selector":".js-help-button","dialog":new w}),S=d.extend({"cssClass":"network-logo-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-network-logo-dialog"),this.showOrHide(!0);var e=this.button;this.$dialog.find(".js-close-button").click(function(){return e.toggle(!1),!1})}}),C=h.extend({"name":"NetworkLogo","selector":".js-network-logo","dialog":new S}),_=d.extend({"url":"/topbar/review","cssClass":"review-dialog"}),j=h.extend({"name":"Review","selector":".js-review-button","dialog":new _}),E=d.extend({"url":"/topbar/mod-inbox","cssClass":"modInbox-dialog"}).methods({}),T=h.extend({"name":"ModInbox","selector":".js-mod-inbox-button","dialog":new E}),M=d.extend({"cssClass":"js-leftnav-dialog","alignment":"left"}).methods({"loadDialog":function(){this.$dialog=$(".js-leftnav-dialog"),this.showOrHide(!0);var e=this;StackExchange.responsive&&StackExchange.responsive.addBreakpointListener(function(t,n){$("html").hasClass("html__unpinned-leftnav")||"sm"===n&&e.button.toggle(!1)})}}),O=h.extend({"name":"LeftNav","selector":".js-left-sidebar-toggle","dialog":new M});a.prototype={"query":function(){return this.$searchBox.val().trim()},"hasQuery":function(){return!!this.query()},"fetchSearchHints":function(){var e=this;this.searchHintsLoaded||$.ajax({"type":"GET","url":"/search/hints"}).success(function(t){e.$searchHintsContainer.append(t),e.searchHintsLoaded=!0}).fail(function(e,t,n){StackExchange.debug.log("Autocomplete Error: "+n.toString())})},"hasResults":function(){return this.$resultsDiv[0].childElementCount>0},"hideResults":function(){this.showResults("")},"hidePopover":function(){this.$searchPopover.removeClass("is-visible")},"hideWhenFocusLost":function(e){$(e.target).is(this.$searchBox)||0!==$(e.target).parents(".js-top-search-popover").length||this.hidePopover()},"onInput":function(){var e=this.hasQuery();this.toggleSpinner(e),e||this.settings.enableHints||this.hidePopover()},"showResults":function(e){var t=0===$.trim(e).length;this.$searchHintsContainer.find(".js-search-hints-text").toggleClass("d-none",!t),this.toggleSpinner(!1);var n=this.settings.transformResultsHtml||function(e){return $(e)},i=n(e);this.$resultsDiv.empty().append(i).toggleClass("d-none",t);var o=this.$resultsDiv.find(".js-ac-result").length;this.$screenReaderInfo.text(0===o?"No results":function(e){return 1==e.__results,e.__results+" results found"}({"__results":o}))},"toggleSpinner":function(e){this.$loadingIndicator.toggleClass("d-none",!e)},"suggest":function(){var e=this,t=e.query();if(!e.hasQuery())return e.hideResults(),void 0;var n=e.resultsCache[t];if(void 0!==n)e.showResults(n);else{var i=new URL(this.settings.searchUrl+encodeURIComponent(t),location.href);$.get(i.href).done(function(n){e.resultsCache[t]=n,e.showResults(n)}).fail(function(t,n,i){StackExchange.debug.log("Autocomplete Error: "+i.toString()),e.toggleSpinner(!1)})}},"selected":function(e){if(0===arguments.length)return this.$resultsDiv.find(".js-ac-result:focus");if(e){if(e=$(e),!e.hasClass("js-ac-result"))return;e.siblings().find(".js-ac-enter-hint").addClass("d-none"),e.siblings().blur(),e.focus(),e.find(".js-ac-enter-hint").toggleClass("d-none")}else this.$resultsDiv.children().blur()},"selectNext":function(){if(this.hasResults()){var e=this.selected(),t=e.next(".js-ac-result");return 0===e.length?(this.$resultsDiv.children(".js-ac-result").first().focus().find(".js-ac-enter-hint").toggleClass("d-none"),void 0):(t.length>0&&(this.selected(t),t[0].scrollIntoView({"behavior":"smooth","block":"nearest"})),void 0)}},"selectPrev":function(){if(this.hasResults()){var e=this.selected(),t=e.prev(".js-ac-result");t.length>0?(this.selected(t),t[0].scrollIntoView({"behavior":"smooth","block":"nearest"})):(this.$searchBox.focus(),this.$resultsDiv.children(".js-ac-result").first().find(".js-ac-enter-hint").addClass("d-none"))}},"searchBoxOnKeyDown":function(e){switch(e.key){case"ArrowDown":this.hasResults()&&this.selectNext(),e.preventDefault();break;case"Escape":this.hidePopover()}},"searchPopoverOnKeyDown":function(e){switch(e.key){case"ArrowDown":this.hasResults()&&this.selectNext(),e.preventDefault();break;case"ArrowUp":this.hasResults()&&this.selectPrev(),e.preventDefault();break;case"Escape":this.hidePopover(),this.$searchBox.focus()}},"choose":function(e){var t=$(e.target).closest(".js-ac-result"),n=this.$resultsDiv.find(".js-ac-result").index(t);return this.settings.enablePrizm&&StackExchange.using("gps",function(){StackExchange.gps.track("sitesearch.autocomplete.click",{"completion_index":n})}),this.settings.onChoice?(e.preventDefault(),this.settings.onChoice(t),!1):void 0}};var A=[],P=[];return{"init":function(e){e=e||{},window.devicePixelRatio>=1.5&&$(".js-avatar-me").attr("src",function(e,t){return t.replace("?s=24","?s=48")}),A.push(new p),A.push(new C),$(".js-left-sidebar-toggle").length&&A.push(new O),StackExchange.settings.userMessaging&&StackExchange.settings.userMessaging.showNewFeatureNotice&&A.push(new m),A.push(new b),A.push(new k),A.push(new x),A.push(new j),StackExchange.options.user.isModerator&&A.push(new T),$(document).click(function(e){n(e.target)||i()});var t=document.body.style;if("justifyContent"in t||"WebkitJustifyContent"in t||$(".top-bar *:visible").css({"display":"inline-block","white-space":"nowrap","vertical-align":"middle"}).not(".-logo, .-logo *, svg, .-badges *").css("width","auto"),r(),s(),l(),u(),$(".js-products-menu").click(function(){return!1}),$("#popover-review-queue").length){var o=$(".js-review-button");o.on("s-popover:hide",function(e){var t=e.originalEvent.detail.dispatcher;t&&0===$(t).closest(".js-top-bar").length&&e.preventDefault()}),o.attr({"data-controller":"s-popover","aria-controls":"popover-review-queue"}),StackExchange.helpers.toggleStacksPopover(o,!0),$(".js-review-queue-popover-learn-more, .js-review-queue-popover-close-button, .js-review-button").click(function(){StackExchange.helpers.toggleStacksPopover(o,!1),StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.ShowReviewQueueNotice|StackOverflow.Models.UserFlags.ReviewQueueNoticeIsForCampaign,!1),StackExchange.helpers.toggleAccountPreferenceFlags(StackOverflow.Models.AccountPreferenceFlags.DismissReviewQueueNoticeCampaign,!0)})}},"hideAll":i,"handleRealtimeMessage":o,"toggleUnpinnedLeftNav":c,"SearchAutoComplete":a}}(),StackExchange.notify=function(){function e(e,t){var n=$("#dismissed-messages");n.val(n.val()+"~"+e+(t?" "+t:"")+"~")}function t(e,t){var n=$("#dismissed-messages").val();return n?new RegExp("~"+e+(t?" "+t:"")+"~").test(n):!1}function n(e,t,n){var i=parseInt($("body").css("margin-top").match(/\d+/)),o=t*i/e;n?$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({"marginTop":o+"px"},"fast","linear"):$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").css("marginTop",o+"px")}var i=0,o=function(t,o){var a=$("#notify-"+t+(o?"-"+o:""));a.length&&(t>=0&&$.post("/messages/mark-as-read",{"messagetypeid":t,"id":o?o:null}),e(t,o),i--,a.fadeOut("fast",function(){n(i+1,i,!0),a.remove(),0===$("#notify-container div").length&&$("#notify-container").hide()}))},a=function(e){if(i++,t(e.messageTypeId,e.id))return!1;var n="";e.messageTypeId&&(n=' id="notify-'+e.messageTypeId+(e.id?"-"+e.id:"")+'"');var a="<div"+n+' style="display:none"><span class="notify-close">'+$("<a>&times;</a>").attr("title","dismiss this notification").outerHTML()+'</span><span class="notify-text">'+e.text+"</span>";if(e.showProfile){var r=encodeURIComponent("/users/"+e.userId+"?tab=badges&sort=recent");a+=" "+function(e){return'See your <a href="'+e.url+'">profile</a>.'}({"url":"/messages/mark-as-read?messagetypeid="+e.messageTypeId+"&returnurl="+r})}a+="</div>";var s=$(a);return e.cssClass&&s.addClass(e.cssClass),s.find(".notify-close").click(function(){e.close&&e.close(),o(e.messageTypeId,e.id)}),$("#notify-container").append(s),$("#notify-container").show(),!0},r=function(){$("#notify-container div").fadeIn("slow")},s=function(){$("body:not(.no-message-slide), body:not(.no-message-slide) .js-top-bar").animate({"marginTop":"2.5em"},"fast","linear")},c=function(e,t){var n=$('<div class="link-more">').append($("<a>").text(function(e){return 1==e.numNotifications?"view "+e.numNotifications+" more notification":"view "+e.numNotifications+" more notifications"}({"numNotifications":e})));$("#notify-container").append(n),n.click(function(){n.detach();for(var e=0;e<t.length;e++)a(t[e]);r()})};return{"showMessages":function(e,t){for(var o=0,s=i,l=t?2:e.length,u=0;l>u&&u<e.length;u++)a(e[u])&&o++;if(n(s,o,!1),r(),t&&o<e.length){var d=e.slice(l);c(e.length-o,d)}},"show":function(e,t,n){s(),a({"text":e,"messageTypeId":t,"cssClass":n}),r()},"close":o,"getMessageText":function(e){return $("#notify-"+e+" .notify-text").text()}}}();var styleCode=function(){function e(){return $("#js-codeblock-lang").text()||null}function t(){if("undefined"!=typeof jtab)return jtab.renderimplicit(),void 0;var t=StackExchange.options.site.styleCodeWithHighlightjs,n=!1;$(".js-post-body pre code, .js-wmd-preview pre code").parent().each(function(){var i=t?"s-code-block":"prettyprint",o="prettyprint-override";if($(this).hasClass(o)&&($(this).removeClass(o).addClass(i),n=!0),!$(this).hasClass(i)){var a=e();a&&($(this).addClass(a).addClass(i),n=!0)}});var i=/posts\/\d*\/revisions$/,o=window.location.href.match(i),a=/review\/suggested-edits\/\d*$/,r=window.location.href.match(a);n&&!t?StackExchange.using("prettify",function(){StackExchange.prettify.applyCodeStyling()}):!n||o||r||StackExchange.using("highlightjs",function(){$("pre.s-code-block code:not(.hljs)").each(function(){StackExchange.highlightjs.instance.highlightElement(this)})})}return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),StackExchange.ifUsing("snippets",function(){StackExchange.snippets.redraw&&StackExchange.snippets.redraw()}),t(),styleCode.initializeSpoilers()}}();styleCode.initializeSpoilers=function(){$("body").off("click.spoilers",".spoiler").on("click.spoilers",".spoiler",function(e){return e.target.classList.contains("spoiler")&&!e.target.classList.contains("is-visible")?(e.preventDefault(),e.target.classList.add("is-visible"),!1):void 0}),$(".spoiler:not([data-spoiler])").attr("data-spoiler","Reveal spoiler")},styleCode.updateSpoilersOnPreviewRefresh=function(){StackExchange.MarkdownEditor&&StackExchange.MarkdownEditor.creationCallbacks.add(function(e){e.hooks.chain("onPreviewRefresh",function(){styleCode.initializeSpoilers()})})},styleCode.updateLangdivDelayed=StackExchange.helpers.DelayedReaction(function(e){var t=$("#js-codeblock-lang");t.length&&$.get("/api/tags/langdiv",{"tags":e.join(" ")}).done(function(e){e?t.replaceWith(e):t.empty(),StackExchange.MarkdownEditor.refreshAllPreviews(),styleCode()})},1500,{"sliding":!0}),StackExchange.helpers.MagicPopup=function(e){function t(t,i){if($.contains(document.documentElement,t)&&(!e.predicate||e.predicate(t))){var a=$("<div />").attr("id",e.id).addClass(e.className).html(i),r=$(".lightbox, .lightbox-panel"),s=r.length>0?+r.css("z-index"):1e3,c=$("<div />").css({"position":"absolute","z-index":s+2,"width":1,"height":1,"top":0,"left":0});e.unclipped||c.css({"overflow":"hidden"}),c.append(a).appendTo("body"),window.MathJax&&MathJax.Hub.Typeset(a[0]);var l=e.showing(t,a),u={"left":l.left};l.hasOwnProperty("bottom")?(u.bottom=l.bottom,u.top="auto"):u.top=0|l.top;var d;e.shown&&(d=function(){e.shown(t,a)}),c.css(u);var h={"height":a.outerHeight()+8,"width":a.outerWidth()+8};e.fade?c.css(h).css("display","none").fadeIn(300,d):c.animate(h,300,d),n=function(){c.stop().remove(),e.removed&&e.removed(t,a),o=null,n=null},o=StackExchange.helpers.DelayedReaction(n,e.dismissDelay||5);var f=c;l.additional&&(f=f.add(l.additional)),f.hover(o.cancel,o.trigger)}}var n,i,o,a,r={},s=StackExchange.helpers.DelayedReaction(function(i,o){if(!a&&i){var s;e.cache&&"c_"+i in r?s=$.Deferred().resolve(r["c_"+i]):(s=$.ajax({"type":"GET","url":i,"dataType":"html"}),e.cache&&s.done(function(e){r["c_"+i]=e})),s.done(function(e){n&&n(),""!=e&&t(o,e)})}},500);$(document).delegate(e.selector,{"mouseenter":function(){return o&&this===i?(o.cancel(),void 0):(i=this,s.trigger(e.getUrl(this),this),a=!1,!1)},"mouseleave":function(){a=!0,s.cancel(),o&&o.trigger()}})},StackExchange.tagmenu=function(){function e(e){return function(n){var i=t(n);return null!==i?i+e:i}}function t(e){var t=$(e);if(t.closest(".mixed-site-content, .js-post-body, .js-tag-preferences-container").length)return null;var n=t.attr("href"),i=t.data("tag-menu-tagname");if(i&&(i=i.toString()),!(i||n&&"/"===n.charAt(0)))return null;var o=i||t.text();return o.indexOf("*")>-1?null:(t.attr("title",""),"/tags/"+encodeURIComponent(o))}function n(e,t){var n=$(e),i=$(window),o=t.find(".js-source-arrow"),a=$(".left-sidebar:visible"),r=n.offset(),s=n.outerHeight(),c=r.left+n.outerWidth()/2,l=t.outerWidth(),u={"left":c-l/2},d=r.top+s,h=i.scrollTop(),f=h+i.height()+-StackExchange.scrollPadding.getPaddingTop();t.outerHeight()+d>f&&r.top+8-t.outerHeight()>h?(u.bottom=i.height()-r.top-8,o.addClass("-bottom")):(u.top=d,o.addClass("-top"));var p=a.length?a.offset().left+a.outerWidth():0,g=i.width();r.left+l>g&&(u.left=g-l),u.left<p&&(u.left=p);var m=c-(u.left+l/2);return o.css("margin-left",m+"px"),u}var i=!1,o=function(){if(!i&&(i=!0,!StackExchange.options.isMobile)){var t={"selector":".post-tag:not(.user-tag,.no-tag-menu,.invalid-tag,.job-link)","className":"tag-popup","getUrl":e("/popup"),"showing":n,"fade":!0,"unclipped":!0};StackExchange.helpers.MagicPopup(t)}};return{"init":o}}(),StackExchange.usermenu=function(){function e(e,t){var n=$(e),i=n.find("img:last"),s=i.offset(),c=i.height(),l=i.width(),u=Math.max(l,c),d=64*c/u,h=64*l/u,f=t.find("img:first").css({"width":h,"height":d}),p=f.offset();f.css("visibility","hidden"),o=i.clone().css({"position":"absolute","zIndex":1003,"left":s.left,"top":s.top,"width":l,"height":c}).appendTo("body");var g=function(){return f[0].complete?(f.css("visibility","visible"),o.fadeOutAndRemove(),void 0):(setTimeout(g,100),void 0)},m=Math.max(0,s.left-p.left+t.outerWidth()-$(window).width()+8);o.animate({"width":h,"height":d,"top":s.top+p.top,"left":s.left-m},200,g),t.trigger("userhovershowing",e),a=!0;var v=t.find(".um-header-info a:not(.um-user-link), .um-about-me a, .um-links a").length>0;return StackExchange.gps.track("user_popup.show",{"is_own":r,"has_links":v}),setTimeout(function(){a&&StackExchange.gps.track("user_popup.read",{"is_own":r,"has_links":v})},2e3),t.on("click",".um-gravatar a, a.um-user-link",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":0,"is_own":r})}),t.on("click",".um-header-info a:not(.um-user-link)",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":1,"is_own":r})}),t.on("click",".um-about-me a",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":2,"is_own":r})}),t.on("click",".um-links a",function(){StackExchange.gps.track("user_popup.click",{"clicked_link":3,"is_own":r})}),{"top":s.top,"left":s.left-p.left-m,"additional":o}}function t(e,t){t.trigger("userhovershown")}function n(e){$(e).trigger("userhoverremoved"),o.remove(),a=!1}var i,o,a,r,s=function(){function o(e){var t=$(e),n=t.closest(".user-hover"),i=n.find(".user-details a").attr("href"),o=new RegExp("/users/([^/]+).*$"),a=o.exec(i);return a?(r=StackExchange.options.user.isAnonymous?!1:(0|a[1])>0&&(0|a[1])==(0|StackExchange.options.user.userId),"/users/user-info/"+a[1]):null}i||(i=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({"selector":".user-hover .user-gravatar48, .user-hover .user-gravatar32","predicate":function(e){return!$(e).closest(".mixed-site-content").length},"getUrl":o,"cache":!0,"id":"user-menu","showing":e,"shown":t,"removed":n}))};return{"init":s}}(),StackExchange.chatAd=function(){function e(e){if(/^\/questions\/\d+/i.test(window.location.pathname)&&(m=0),h=e.chatUrl,f=e.reloadUrl,e.tagBased){var n=t();if(!n)return;f&&(f+=(/\?/.test(f)?"&":"?")+"tags="+encodeURIComponent(n))}null===e.preloadedData?a():d(e.preloadedData,null,null)}function t(){var e=$(".question .post-taglist .post-tag");return e.length?e.map(function(e,t){return $(t).text()}).get().join(" "):null}function n(e){return 10>e?"0"+e:e}function i(e){var t=new Date;return t.setTime(1e3*e),[t.getUTCFullYear(),"-",n(t.getUTCMonth()+1),"-",n(t.getUTCDate())," ",n(t.getUTCHours()),":",n(t.getUTCMinutes()),":",n(t.getUTCSeconds()),"Z"].join("")}function o(e){var t=Math.floor((new Date).getTime()/1e3),i=t-e,o=i%60,a=Math.floor(i/60),r=Math.floor(i/3600);if(1>i)return"just now";if(60>i)return function(e){return 1==e.seconds?e.seconds+" sec ago":e.seconds+" secs ago"}({"seconds":o});if(3600>i)return function(e){return 1==e.minutes?e.minutes+" min ago":e.minutes+" mins ago"}({"minutes":a});if(86400>i)return function(e){return 1==e.hours?e.hours+" hour ago":e.hours+" hours ago"}({"hours":r});var s=Math.floor(i/86400);if(1==s)return"yesterday";if(2>=s)return function(e){return 1==e.__count?e.__count+" day ago":e.__count+" days ago"}({"__count":s});var c=new Date(1e3*e);return function(e){return e.month+" "+e.date+" at "+e.hours+":"+e.minutes}({"month":v[c.getMonth()],"date":c.getDate(),"hours":c.getHours(),"minutes":n(c.getMinutes())})}function a(){f&&$.get(f,null,d)}function r(e){if("!"===e.charAt(0)){var t=e.substr(1);if(/^https?:\/\/i.stack.imgur.com\//.test(t)){var n=/\?/.test(t)?"&":"?";t+=n+"g&s=32"}return t}return"https://www.gravatar.com/avatar/"+e+"?s=23&d=identicon&r=PG"}function s(e){for(var t=$('<div class="d-flex gs4 ai-center fw-wrap" />'),n=0;n<e.length&&7>n;n++){var i=e[n],a=i.name;i.lastPost&&(a+=": "+o(i.lastPost));var s=$('<img class="bar-sm">').attr({"title":a,"src":r(i.emailhash),"width":23,"height":23}),c=$('<a class="flex--item">').attr("href",h+"/users/"+i.id).append(s);t.append(c)}return t}function c(e){return $('<div class="flex--item"><img src="'+h+"/rooms/users/"+e+'.jpeg" /></div>')}function l(e){var t=e.user,n=e.userid;return n?$("<a>").attr("href",h+"/users/"+n).text(t):$("<span>").text(t)}function u(){f&&(m>=p&&window.setTimeout(a,1e3*p),p+=g)}function d(e){var t=$(".js-chat-ad-rooms");if(e.error)return u(),void 0;t.empty();for(var n=e.rooms,a=0;a<n.length&&2>a;a++){var r=n[a],d=h+"/rooms/"+r.id,f=(r.messages||[]).length>0?r.messages[0]:null,p=$('<div class="d-flex fd-column gs2" />');$('<a class="flex--item" />').attr("href",d).text(r.name).appendTo(p),f&&$('<div class="flex--item fs-fine fc-black-300 mb4" />').attr("title",i(r.lastPost)).html(o(r.lastPost)+" - ").append(l(f)).appendTo(p),r.singleImage?p.append(c(r.id)):p.append(s(r.users)),t.append($('<div class="s-sidebarwidget--item" />').append(p))}t.toggleClass("d-none",0===n.length);var g=$(".js-chat-ad-link");e.activeUsers>1?g.text(function(e){return 1==e.num?e.num+" person chatting":e.num+" people chatting"}({"num":e.activeUsers})):g.text("Visit chat"),g.attr("title",function(e){return 1==e.users&&1==e.rooms?e.users+" user active in "+e.rooms+" room the last 60 minutes":1==e.users?e.users+" user active in "+e.rooms+" rooms the last 60 minutes":1==e.rooms?e.users+" users active in "+e.rooms+" room the last 60 minutes":e.users+" users active in "+e.rooms+" rooms the last 60 minutes"}({"users":e.activeUsers,"rooms":e.activeRooms})),u()}var h,f,p=180,g=30,m=480,v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{"init":e}}(),$.extend(StackExchange.helpers,function(){function e(e){for(var t in i)i.hasOwnProperty(t)&&(e=e.replace(new RegExp("["+t+"]","g"),i[t]));return e}function t(e){if(e=$.trim(e),/^\|.*\|$/.test(e))return"|";var t=StackExchange.settings.tags.allowNonAsciiTags?o:"";return!/\s/.test(e)&&RegExp("[A-Za-z"+t+"0-9#\\-.*]\\+[A-za-z"+t+"0-9#\\-.]").test(e)?"+":/[\s|,;]+/}function n(e,t,n,i){for(var a=$.trim(e).split(StackExchange.helpers.tagSeparator(e)),r=[],s=0;s<a.length;s++){var c=a[s];i||(c=c.toLowerCase()),StackExchange.settings.tags.allowNonAsciiTags||(c=StackExchange.helpers.noDiacritics(c)),c=c.replace(/_/g,"-");var l=(i?"[^A-Za-z0-9.#+":"[^a-z0-9.#+")+(t?"*":"")+(StackExchange.settings.tags.allowNonAsciiTags?o:"")+"-]";c=c.replace(new RegExp(l,"g"),""),c=c.replace(/^[#+-]+/,""),c=c.replace(/[.-]+$/,"");var u=["or","and","not"],d=-1!==u.indexOf(c),h=-1!==r.indexOf(c);c.length>0&&(!d&&!h||n)&&r.push(c)}return r}var i={"àåáâäãåąɐᵄᶛ":"a","æǣǽᴂᵆ":"ae","çćčĉ":"c","đƍðÐ":"d","èéêëęǝᴈᵌ":"e","ⅎ":"f","ğĝᵷ":"g","ĥɥʮᶣ":"h","ìíîïıᴉᵎ":"i","ĵ":"j","ʞ":"k","ł":"l","ɯɰᵚᶭᴟ":"m","ñń":"n","òóôõöøő":"o","œɶᴔ":"oe","řɹɺɻʴʵ":"r","śşšŝ":"s","ß":"ss","ʇ":"t","Þ":"th","ùúûüŭů":"u","ʌᶺ":"v","ʍ":"w","ýŸÿʎ":"y","żźž":"z"},o="\\u0030-\\u0039\\u0041-\\u005a\\u005f\\u0061-\\u007a\\u00aa\\u00b5\\u00ba\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376-\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0621-\\u064a\\u0660-\\u0669\\u066e-\\u066f\\u0671-\\u06d3\\u06d5\\u06e5-\\u06e6\\u06ee-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07c0-\\u07ea\\u07f4-\\u07f5\\u07fa\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0966-\\u096f\\u0971-\\u0972\\u097b-\\u097f\\u0985-\\u098c\\u098f-\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc-\\u09dd\\u09df-\\u09e1\\u09e6-\\u09f1\\u0a05-\\u0a0a\\u0a0f-\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32-\\u0a33\\u0a35-\\u0a36\\u0a38-\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a66-\\u0a6f\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2-\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0-\\u0ae1\\u0ae6-\\u0aef\\u0b05-\\u0b0c\\u0b0f-\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32-\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c-\\u0b5d\\u0b5f-\\u0b61\\u0b66-\\u0b6f\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99-\\u0b9a\\u0b9c\\u0b9e-\\u0b9f\\u0ba3-\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0be6-\\u0bef\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58-\\u0c59\\u0c60-\\u0c61\\u0c66-\\u0c6f\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0-\\u0ce1\\u0ce6-\\u0cef\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d28\\u0d2a-\\u0d39\\u0d3d\\u0d60-\\u0d61\\u0d66-\\u0d6f\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32-\\u0e33\\u0e40-\\u0e46\\u0e50-\\u0e59\\u0e81-\\u0e82\\u0e84\\u0e87-\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa-\\u0eab\\u0ead-\\u0eb0\\u0eb2-\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0ed0-\\u0ed9\\u0edc-\\u0edd\\u0f00\\u0f20-\\u0f29\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8b\\u1000-\\u102a\\u103f-\\u1049\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065-\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u1090-\\u1099\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1159\\u115f-\\u11a2\\u11a8-\\u11f9\\u1200-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u1676\\u1681-\\u169a\\u16a0-\\u16ea\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u17e0-\\u17e9\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u1900-\\u191c\\u1946-\\u196d\\u1970-\\u1974\\u1980-\\u19a9\\u19c1-\\u19c7\\u19d0-\\u19d9\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b50-\\u1b59\\u1b83-\\u1ba0\\u1bae-\\u1bb9\\u1c00-\\u1c23\\u1c40-\\u1c49\\u1c4d-\\u1c7d\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u203f-\\u2040\\u2054\\u2071\\u207f\\u2090-\\u2094\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2183-\\u2184\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2c6f\\u2c71-\\u2c7d\\u2c80-\\u2ce4\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3006\\u3031-\\u3035\\u303b-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31b7\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fc3\\ua000-\\ua48c\\ua500-\\ua60c\\ua610-\\ua62b\\ua640-\\ua65f\\ua662-\\ua66e\\ua67f-\\ua697\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78c\\ua7fb-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8d0-\\ua8d9\\ua900-\\ua925\\ua930-\\ua946\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa50-\\uaa59\\uac00-\\ud7a3\\uf900-\\ufa2d\\ufa30-\\ufa6a\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe33-\\ufe34\\ufe4d-\\ufe4f\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff10-\\uff19\\uff21-\\uff3a\\uff3f\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc";
return{"noDiacritics":e,"tagSeparator":t,"sanitizeAndSplitTags":n}}()),StackExchange.question=function(){function e(){$(".js-answer-help").removeClass("d-none").attr("aria-hidden","false")}function t(e){e.preventDefault(),$(".js-answer-help").addClass("d-none").attr("aria-hidden","true")}function n(){$("#qualityBanWarningShown").val("true"),$(".js-answer-ban").removeClass("d-none").attr("aria-hidden","false")}function i(e){e.preventDefault(),$(".js-answer-ban").addClass("d-none").attr("aria-hidden","true")}function o(e){return $(".question[data-questionid="+e+"], .answer[data-answerid="+e+"]")}function a(e){var t=o(e);if(0===t.length)return!1;var n=t.hasClass("question")?"#question":"#"+e;return location.hash!==n?location.hash=n:t.scrollIntoView(),u(t),!0}function r(e,t){var n=o(t);if(0===n.length)return!1;var i="#comment"+e+"_"+t;return location.hash!==i?location.hash=i:StackExchange.comments.highlight(e,t),!0}function s(){var e=function(e,n){e.attr("aria-pressed",n?"true":"false").each(function(){var e=$(this).data("selected-classes");e&&$(this).toggleClass(e,n)});var i=t(e)?e.data("remove-endorsement-title"):e.data("add-endorsement-title");e.each(function(){Stacks.setTooltipHtml($(this)[0],i,{"placement":"right"})})},t=function(e){return"true"===e.attr("aria-pressed")},n=function(){var e=$(this);if(!e.is(":working")){e.working(!0);var n=t(e),i=e.data("action-edit-endorsement-url"),a=$.ajax({"type":"POST","url":i,"content":"application/json; charset=utf-8","dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"EndorseActions":[{"perform":n?"Remove":"Add","slug":r}]}});a.success(function(e){e.Success?o(e):StackExchange.helpers.showToast(e.Message,{"type":"danger"})}).error(function(){StackExchange.helpers.showToast("Error updating recommendation",{"type":"danger"})}).always(function(){e.working(!1).trigger("update")})}},i=function(e){var t=$(this);if(!t.is(":working")){t.working(!0);var n=t.data("action-endorse-modal-url");return StackExchange.helpers.loadModal(n).done(function(){function e(){for(var e=0;e<s.length;e++){var t=$(s[e]),n=!!t.data("original-state"),i=!!t.is(":checked");if(n!==i)return!0}return!1}function n(i,c){if(i.preventDefault(),!e())return StackExchange.helpers.showToast("No changes to save"),void 0;var l=[];if(c&&c.length>0)l=c;else for(var u=0;u<s.length;u++){var d=$(s[u]),h=!!d.data("original-state"),f=!!d.is(":checked");h!==f&&l.push({"slug":d.data("slug"),"perform":f?"add":"remove"})}var p=r.prop("action");$.post(p,{"fkey":StackExchange.options.user.fkey,"endorseActions":l}).success(function(e){if(e.Success){o(e);for(var t=0;t<l.length;t++){var r="add"===l[t].perform;l[t].perform=r?"remove":"add"}StackExchange.helpers.showToast(e.Message.Message,{"type":"success","actions":[{"labelContents":"Undo","click":function(){n(i,l)}}]}),a()}else StackExchange.helpers.showToast(e.Message,{"type":"danger"})}).error(function(){StackExchange.helpers.showToast("Error updating recommendations",{"type":"danger"})}).always(function(){t.working(!1).trigger("update")})}const i=$(".js-stacks-managed-popup"),a=function(){i.remove()};var r=$(".js-change-recommendation"),s=$("input.js-community-selection"),c=$(".js-submit-recommendation");s.change(function(){c.prop("disabled",!e())}),r.submit(n),s.change(),t.working(!1).trigger("update")}).always(function(){t.working(!1).trigger("update")}),t.working(!1).trigger("update"),e.preventDefault(),!1}},o=function(t){var n=$(".js-endorse-link");e(n,!1);var i=$(".js-endorsements");i.empty();for(var o=0;o<t.ExplicitEndorsements.length;o++){var a=t.ExplicitEndorsements[o],r=a.PostId,s=a.HasEndorsements,c=$(a.EndorsementContent);if(r&&c){var l=$("#answer-"+r),u=l.find(".js-endorsements");if(u.length>0)u.replaceWith(c);else{var d=$("#answer-"+r).find(".answercell");d.prepend(c)}var h=c.parents(".answer"),f=h.find(".js-endorse-link");e(f,s)}}},a=$(".js-endorse-link"),r=a.data("single-community-slug");r?a.click(n):a.click(i),$(".js-endorse-link").each(function(){var n=$(this);e(n,t(n))})}var c,l=function(e){var t=e?e.closest(".question"):$(".question"),n=t.data("questionid");if(!n)throw new Error("getQuestionId could not find an id");return n},u=function(e){e.addClass("highlighted-post")},d=function(){var e="click.shareLinks";$(document).off(e).on(e,".bottom-share-links a",function(){var e=$(this).attr("href"),t=null;e&&e.length&&(e.indexOf("%3fsgp%3d")>=0?t=1:e.indexOf("%3fsfb%3d")>=0?t=2:e.indexOf("%3fstw%3d")>=0?t=3:e.indexOf("%3fsem%3d")>=0&&(t=4)),t&&StackExchange.gps.track("share.click",{"location":3,"service":t},!0)});var t=$(".bottom-notice");t&&t.length&&t.data("loc")&&t.off(e).on(e,"a",function(){var e=0,n=t.data("loc"),i=$(this).attr("href");$(this).hasClass("post-tag")?e=1:/\/ask$/.test(i)?e=2:/\/tags$/.test(i)?e=4:/\/unanswered$/.test(i)?e=5:(/\/questions$/.test(i)||/\/questions[?\/]/.test(i))&&(e=3),StackExchange.gps.track("next_action.click",{"type":e,"location":n},!0)})},h=function(e,t,n){var i,o,a=document.title,r=n.searchRouteOverride||"/search/titles",s=n.onResults||function(){},c=0;e.attr("autocomplete","off");var l=function(l){var u=e.val();if(!(""==u||u==i&&l!==!0||StackExchange.settings.site.newTitleSearchBoxEnabled&&$(".title-float-selected:visible").length>0)){for(var d=u.split(" "),h=0,f=0;f<d.length;f++)$.trim(d[f]).length>0&&h++;var p=(new Date).getTime(),g=(p-c)/1e3;(l===!0||!(3>h||5>g)||e.hasClass("edit-field-overlayed"))&&(c=p,i=u,n.siteName&&(document.title=u?u+" - "+n.siteName:a),$(".js-similar-questions-loader").length?(t.empty(),StackExchange.helpers.addStacksSpinner(t,"lg","fc-orange-400 ml16 mt12")):(t.empty(),StackExchange.helpers.addSpinner(t)),o&&o.fadeOutAndRemove(),$.ajax({"url":r,"dataType":"json","data":{"title":u},"success":function(e){e&&e.content?(t.html(e.content),setTimeout(function(){s(t.find(".answer-link a").attr("target","_blank"))},1),$(".js-link").attr("target","_blank"),$(".js-similar-questions-outer-div").length&&($(".js-similar-questions-outer-div").removeClass("d-none"),$(".js-question-summary-scroll").one("scroll",function(){StackExchange.using("gps",function(){StackExchange.gps.track("similarquestions.title_scroll")})}))):s(null)},"complete":function(e){e.responseJSON.content.length>0&&StackExchange.helpers.removeSpinner(t)}}))}},u=!1;return t.mouseenter(function(){u=!0}).mouseleave(function(){u=!1}),e.keyup(l).blur(function(){var e=function(){c=0,l()};u?t.one("mouseleave",e):e()}),e.val()&&l(),function(e){c=0,l(e)}},f=function(){try{localStorage.removeItem("nextPrevTrackState"),localStorage.removeItem("nextPrevTrackState2"),localStorage.removeItem("nextPrevState")}catch(e){}},p=function(){var e,t;$(document).on({"mouseenter":function(){var n=$(this),i=n.find(".js-new-contributor-label"),o=n.find(".js-new-contributor-popover");t&&this===e?t.cancel():(o.addClass("is-visible").css({"top":n.height()+4,"left":i.position().left+i.width()/2-n.width()/2,"width":n.width()}),e=this,t=StackExchange.helpers.DelayedReaction(function(){o.removeClass("is-visible"),t=null},100))},"mouseleave":function(){t&&t.trigger()}},".js-new-contributor-indicator")},g=function(){var e=window.location.hash.replace("#","").toLowerCase();if(e){var t=e.split("_"),n=t[0],i=t[1],o=!0;switch(n){case"answer":StackExchange.using("editor",function(){var e=$("#wmd-input");e.is(":visible")?e.focus():window.setTimeout(function(){$(".js-add-another-answer").click()},10)});break;case"addcomment":i&&$("#comments-link-"+i).find(".js-add-link").click();break;case"notify":$(".js-inline-mentions-edit-link").click();break;default:o=!1}o&&window.history.replaceState(null,null,window.location.href.split("#")[0])}};return{"initTitleSearch":h,"getQuestionId":l,"initShareLinks":d,"canViewVoteCounts":function(){return c},"scrollToPost":a,"scrollToComment":r,"instrumentVotingForVotePromptExperiment":function(){$(".js-voting-container").each(function(e,t){var n=$(t),i=+n.data("post-id"),o=n.find(".js-vote-up-btn"),a=n.find(".js-vote-down-btn");o.attr("data-gps-track","post.prompted_vote({post_id:"+i+", vote_type: 2})").addClass("js-gps-track"),a.attr("data-gps-track","post.prompted_vote({post_id:"+i+", vote_type: 3})").addClass("js-gps-track"),StackExchange.using("gps",function(){StackExchange.gps.bindTrackClicks(n)})})},"init":function(a){c=a.canViewVoteCounts,StackExchange.question.fullInit?StackExchange.question.fullInit(a):(StackExchange.question.bindAnonymousVoteDisclaimers(),StackExchange.OutdatedAnswers.initAnon(!0)),StackExchange.comments.init({"autoShowCommentHelp":a.autoShowCommentHelp,"commentHighlightFocus":a.commentHighlightFocus}),d(),a.showAnswerBanWarning&&$("#wmd-input").one("focus",n),$(".js-answer-ban-close-btn").on("click",i),a.showAnswerHelp&&!a.showAnswerBanWarning&&$("#wmd-input").one("focus",e),$(".js-answer-help-close-btn").on("click",t),a.focusPostEditor&&($("#wmd-input").focus(),$("#post-form")[0].scrollIntoView(!0)),s(),a.showCitation&&$(document).on("click",".js-post-menu .js-cite-link",function(e){e.preventDefault(),citation.show($(this))}),StackExchange.helpers.bindOnHashChange_HighlightDestination(function(e,t){StackExchange.comments.highlight(e,t)},function(e){var t=o(e);u(t)}),f(),p(),$(".downvoted-answer").on("click",function(e){var t=$(e.target).parents(".downvoted-answer");t.find(".s-prose, .comment-body, .post-signature, .vote > *").toggleClass("o100")}),window.setTimeout(g,0)}}}(),StackExchange.question.bindAnonymousVoteDisclaimers=function(){function e(e){var t=$(this),n=t.closest(".js-voting-container"),i=t.hasClass("js-vote-up-btn"),o=t.hasClass("js-vote-down-btn"),a=t.hasClass("js-bookmark-btn"),r=t.hasClass("js-follow-post"),s=t.closest(".answer").length;if(e.preventDefault(),i||o||r){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Voting isn't available in read-only mode.",{"transient":!0}),void 0;var c=n.data("post-id");if(r){var l=t.closest(".question").length>0;s=!l,c=parseInt(l?t.closest(".question").data("questionid"):t.closest(".answer").data("answerid"))}var u=r?21:i?2:3;if(n.is(":working"))return;n.working(!0),StackExchange.helpers.removeMessages(),$.ajax({"type":"POST","url":"/posts/popup/anon-vote/{postId}?voteTypeId={voteTypeId}".formatUnicorn({"postId":c,"voteTypeId":u}),"data":{"fkey":StackExchange.options.user.fkey},"dataType":"html","success":function(e){-1!==e.indexOf("js-research-toast")?StackExchange.helpers.showToast(e,{"transient":!1}):(StackExchange.openid.showLoginModal(e,{"returnElements":t}),(i||o)&&StackExchange.using("gps",function(){StackExchange.gps.track("vote_popup.show",{"type":s?2:1})}))},"complete":function(){n.working(!1)}})}else if(a){if(StackExchange.options.inReadOnly)return n.showErrorMessage("Bookmarking is disabled while the site is in read-only mode.",{"transient":!0}),void 0;$(".anon-vote-popup").fadeOutAndRemove();var d=function(e){return"Please "+e.startAnchor+"log in or register"+e.endAnchor+" to bookmark this question."}({"startAnchor":'<a href="/users/login?ssrc=bookmark_question&returnurl='+escape(document.location)+'">',"endAnchor":"</a>"});StackExchange.using("gps",function(){StackExchange.gps.track("favorite_popup.show",{})}),StackExchange.helpers.showMessage(t,d,{"type":"info","position":{"my":"left top","at":"right center"},"css":{"margin-left":"-10px"}})}}$(".js-vote-down-btn, .js-vote-up-btn, .js-bookmark-btn:not(.disabled), .js-follow-post:not(.disabled)").each(function(){var t=$(this);t.data("bound-anonymous")||(t.data("bound-anonymous",!0),t.click(e))}),StackExchange.question.bindFetchAcceptedAnswerDates()},StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".js-accepted-answer-indicator").on("mouseenter mouseleave focus",function(){var e=$(this);if(!e.is(":working")){e.working(!0);var t=e.closest(".answer").data("answerid");if(!t)return e.removeAttr("title data-controller"),void 0;var n="/posts/"+t+"/accepted-answer-date";$.get(n,function(t){e.setTooltipHtml(t)})}})},StackExchange.question.addAnswerIvcObservers=function(){function e(e,n){e.forEach(function(e){if(e.isIntersecting){var i=e.target.closest(".answer"),o=i.dataset.answerid;t.has(o)||(t.add(o),navigator.sendBeacon(i.dataset.ivc)),n.unobserve(e.target)}})}const t=new Set,n=new IntersectionObserver(e);document.querySelectorAll(".answer .js-vote-count").forEach(function(e){n.observe(e)})},StackExchange.comments=function(){function e(e,t,n){this.postId=e,this.location=t.closest(".answer").length?"answer":t.closest(".question").length?"question":"other",this.jDiv=t,this.jCommentsList=t.find(".js-comments-list"),this.jCommentsLinkContainer=$("#comments-link-"+e),this.context=n}function t(e){"string"==typeof e&&(e=$("#comment-"+e)),e.addClass("comment__highlight"),setTimeout(function(){e.removeClass("comment__highlight new_comment")},0)}function n(e){var t=$("#comments-"+e);if(t.length){var n=i(t),o=n.jCommentsLinkContainer,a=(n.jCommentsList,n.remainingCommentsCount());a++,o.data("comments-count",a),o.attr("title","Expand to show all comments on this post, or add one of your own"),n.setCommentsMenu(a),o.removeClass("disabled-link"),n.remainingCommentsCount(a),o.show().fadeTo("fast",.7).fadeTo("fast",1)}}function i(t){var n=t.constructor===$?t:$(t),i=n.closest(".js-comments-container");0===i.length&&(i=n.closest(".js-post-comments-component, .question, .answer, div[id^='post-'], .js-article").find(".js-comments-container"));var o=i.data("post-id"),a=i.data("comment-context")||"none",r=o+"-"+a;if(h[r])return h[r];var s=new e(o,i,a);return h[r]=s,s}function o(e){return 0===window.location.pathname.indexOf("/review")?0:e.closest(".question").length?1:e.closest(".answer").length?2:0}function a(e){e.preventDefault();var t=$(this),n=i(t),o=0===n.remainingCommentsCount(),a=t.hasClass("disabled-link"),s=n.jCommentsLinkContainer.data("rep");o&&n.jCommentsLinkContainer.data("anon")&&(StackExchange.options.isMobile?StackExchange.helpers.showMessage(n.jCommentsLinkContainer,function(e){return 1==e.rep,"Commenting requires an account with "+e.rep+" reputation"}({"rep":s}),{"type":"info","position":{"my":"left top","at":"right center"},"relativeToBody":!0}):r(n.postId,t)),o&&n.jCommentsLinkContainer.data("reg")&&StackExchange.helpers.showMessage(t,function(e){return 1==e.rep,"You must have "+e.linkStart+e.rep+" reputation"+e.linkEnd+" to comment"}({"rep":s,"linkStart":"<a href='/help/privileges/comment'>","linkEnd":"</a>"}),{"type":"info","position":{"my":"left top","at":"right center"},"relativeToBody":!0}),t.hasClass("js-show-link")&&StackExchange.using("gps",function(){StackExchange.gps.track("comment.show")});var c=!1;if(t.hasClass("js-add-link")){c=!0;var l=n.location||"other",u=o?"all_shown":"hidden";StackExchange.using("gps",function(){StackExchange.gps.track("comment.add",{"location":l,"type":u})})}a||(e.preventDefault(),n.addShow(!1,c))}function r(e,t){t.is(":working")||(t.working(!0),StackExchange.helpers.removeMessages(),StackExchange.using("gps",function(){StackExchange.gps.track("comment_popup.show",{"type":o(t)})}),$.ajax({"type":"POST","url":"/posts/popup/anon-comment/{postId}".formatUnicorn({"postId":e}),"data":{"fkey":StackExchange.options.user.fkey},"dataType":"html","success":function(e){StackExchange.openid.showLoginModal(e,{"returnElements":t})},"complete":function(){t.working(!1)}}))}function s(e){e=e||{};var t=e.post||document;h={},$(t).off("click","a.js-add-link",a).on("click","a.js-add-link",a),$(t).off("click","a.js-show-link",a).on("click","a.js-show-link",a),t==document&&l(e.hashPrefix),c(null,!0),e.commentHighlightFocus&&(d=e.commentHighlightFocus)}function c(t,n){n||(p=t),t=t||p||{};for(var i in t)t.hasOwnProperty(i)&&(e.prototype[i]=t[i])}function l(e){var t=location.href.indexOf("/questions/")>0,n=!t&&(location.href.endsWith("/election")||location.href.indexOf("/election/")>0),i=/\/collectives\/.+\/articles\//.test(location.href);(n||t||i)&&(t&&0==$(".question[data-questionid]").length||$(".js-comment .comment-date > span").each(function(){var o=$(this),a=o.closest(".js-comment").attr("id").substr("comment-".length),r=0;if(t){var s=o.closest(".answer"),c=s&&s.length?s.data("answerid"):0;r=c?c:StackExchange.question.getQuestionId()}else r=i?o.closest(".js-comments-container").data("post-id"):o.closest(".js-nomination").data("postid");var l=(e?e:"")+"#comment"+a+"_"+r;t||n||i?o.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({"hash":l})):o.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({"hash":l,"pid":r}))}))}function u(e,t){var n="#comment-"+e,i=$(n);if(i.length)StackExchange.comments.flashHighlight(i),i[0].scrollIntoView(!0);else{var o=$("#comments-link-"+t);o.length&&StackExchange.comments.loadAll(o).done(function(){StackExchange.comments.flashHighlight(e),($(n)[0]||o.closest(".question, .answer")[0]).scrollIntoView(!0)})}}var d,h={},f=function(){};e.prototype={"checkDiscussion":f,"ensureInput":f,"renderTextInput":f,"alterAddEditDataBeforeSubmit":f,"saveEditingComments":f,"restoreEditingComments":f,"isInputShown":function(){var e=this.jDiv.find('form[id^="add-comment-"]');return e.children().length&&e.is(":visible")},"commentsShown":function(){this.remainingCommentsCount(0)},"remainingCommentsCount":function(e){return"undefined"==typeof e?parseInt(this.jCommentsList.data("remaining-comments-count"))||0:(this.jCommentsList.data("remaining-comments-count",e),void 0)},"addShow":function(e,t){var n=this,i=this.loadAllComments().done(function(){n.checkDiscussion()});if(t){var o=this.ensureInput();o&&!e&&o.focus()}i.done(function(){o&&o.length>0&&n.jCommentsLinkContainer.hide()})},"ajax":function(e,t,n,i){n&&!i&&StackExchange.helpers.addSpinner(n,{"margin-left":"10px"});var o=this;return $.ajax(e).fail(function(e){var a=e.responseText;(!a||a.indexOf("<html")>=0)&&(a=t||"An error occured"),StackExchange.helpers.showErrorMessage(n||o.jDiv,a,{"transient":409==e.status}),n&&!i&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},"setCommentsMenu":function(e){var t="",n="";e>0&&(n=function(e){return 1==e.count?"Show <b>"+e.count+"</b> more comment":"Show <b>"+e.count+"</b> more comments"}({"count":e})),this.isInputShown()||!this.jCommentsList.data("cansee")&&!this.jCommentsList.data("canpost")||(t=StackExchange.settings.comments.addButtonSaysSuggestImprovements?"Suggest improvements":"Add a comment"),t.length||n||!this.jCommentsList.data("comments-unavailable")||(t="Comments disabled on deleted / locked posts / reviews"),StackExchange.options.inReadOnly&&(t="");var i=this.jCommentsLinkContainer.find(".js-add-link"),o=this.jCommentsLinkContainer.find(".js-show-link");i.html(t),o.html(n),t.length?i.removeClass("dno"):i.addClass("dno"),n.length?o.removeClass("dno"):o.addClass("dno"),t.length&&n.length?this.jCommentsLinkContainer.find(".js-link-separator").removeClass("dno"):this.jCommentsLinkContainer.find(".js-link-separator").addClass("dno"),this.jCommentsList.data("addlink-disabled")&&i.addClass("disabled-link")},"clearHighlights":function(){this.jCommentsList.find(".js-comment").removeClass("new_comment").css("background-color","")},"showComments":function(e,n,i,o){this.saveEditingComments(n);var a=!i,r={};if(this.clearHighlights(),a&&this.jCommentsList.find(".js-comment").each(function(e,t){t.id&&t.id.length&&(r[t.id]=!0)}),this.jCommentsList.empty().append(e),a){var s=null;this.jCommentsList.find(".js-comment").each(function(e,t){t.id&&t.id.length&&!r[t.id]&&(s||(s=t),$(t).addClass("new_comment"))});var c=this.jCommentsList.find(".new_comment");t(c),d&&c.length&&!o&&c[0].scrollIntoView(!0)}this.restoreEditingComments(),this.setCommentsMenu(0),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]),l(),this.commentsShown()},"loadAllComments":function(e,t,n,i){this.jDiv.removeClass("dno");var o=0===this.remainingCommentsCount();if(!e&&o)return $.Deferred().resolve().promise();var a=this;return this.ajax({"type":"GET","url":"/posts/"+this.postId+"/comments"+(t||""),"dataType":"html"},"An error occurred while fetching comments").done(function(e){a.showComments(e,null,n,i)}).promise()}};var p;return{"init":s,"loadAll":function(e,t){return i(e).loadAllComments(!0,t,!0,!0)},"replaceAll":function(e,t){i(e).showComments(t,null,!0,!0)},"realtimeMessage":n,"flashHighlight":t,"highlight":u,"extendPostUi":c,"uiForPost":i}}(),StackExchange.share=function(){function e(e,t,n){window.open(e,t,n)||(window.location.href=e)}function t(e,t,n){n="undefined"!=typeof n?n:"1",t+="="+n;var i=e.indexOf("?"),o=e.indexOf("#");return-1==i?-1==o?e+"?"+t:e.substring(0,o)+"?"+t+e.substring(o):-1==o?e+"&"+t:e.substring(0,o)+"&"+t+e.substring(o)}return{"twitter":function(n,i,o,a){i=t(i,"stw",a);var r=257;o.length>r&&(o=o.substring(0,r-3)+"..."),n.click(function(){e("https://twitter.com/share?url="+encodeURIComponent(i)+"&ref=twitbtn&text="+encodeURIComponent(o),"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},"facebook":function(n,i,o,a){i=t(i,"sfb",a),n.click(function(){e("https://www.facebook.com/sharer.php?u="+encodeURIComponent(i)+"&ref=fbshare&t="+encodeURIComponent(o),"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})},"devTo":function(n,i,o,a){var r,s;r=(s=i.match(/^.*:\/\/stackoverflow\.com\/[qa]\/(\d+)(?:\/\d+)?$/))?"{% stackoverflow {postId} %}".formatUnicorn({"postId":s[1]}):(s=i.match(/^.*:\/\/([a-z]*(?:\.meta)?\.stackoverflow)\.com\/[qa]\/(\d+)(?:\/\d+)?$/))?"{% stackexchange {postId} {host} %}".formatUnicorn({"postId":s[2],"host":s[1]}):(s=i.match(/^.*:\/\/(([a-z0-9]*(?:\.meta)?)\.stackexchange\.com)\/[qa]\/(\d+)(?:\/\d+)?$/))?"{% stackexchange {postId} {host} %}".formatUnicorn({"postId":s[3],"host":s[2]||s[1]}):(s=i.match(/^.*:\/\/((?:meta\.)?[a-z0-9]*)\.(?:com|net|org)\/[qa]\/(\d+)(?:\/\d+)?$/))?"{% stackexchange {postId} {host} %}".formatUnicorn({"postId":s[2],"host":s[1]}):t(i,"sdv",a),n.click(function(){e("https://dev.to/new?prefill=---%0Atitle%3A%20{title}%0Apublished%3A%20true%0A---%0A%0A{body}".formatUnicorn({"title":encodeURIComponent(o),"body":encodeURIComponent(r)}),"sharedev","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})}}}(),StackExchange.newsletterAd=function(){function e(e){var t=$('<div class="popup newsletter-popup lightbox-panel" style="display:block"></div>').append($("<div />",{"class":"popup-close"}).append("<a>&times;</a>",{"title":"close this popup (or hit Esc)"})).append(e);$("body").loadPopup({"lightbox":!0,"html":t,"target":$("body")})}function t(t){$("#newsletter-signup").click(function(){var e=$(this);StackExchange.helpers.addSpinner("#newsletter-signup-container"),$.ajax({"url":t.subscribeUrl.replace(/-1/,StackExchange.options.user.userId),"type":"POST","dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"siteId":StackExchange.options.site.id},"success":function(t){t.url?window.location.href=t.url:"confirmed"==t.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==t.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"error":function(){e.parent().showErrorMessage(function(e){return"there was a problem signing up for the newsletter"+e.br+"please try again later"}({"br":"<br />"}))},"complete":function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})}),$("#newsletter-preview").click(function(){var t=$(window).height(),n=Math.min(600,t-100),i=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',n,'px;">','<iframe src="',$(this).attr("href"),'" width="660" height="',n,'" frameborder="0"></iframe>',"</div>"].join("");return e(i),!1})}return{"init":t}}(),function(e,t,n,i){var o=!("selectionStart"in e("<input type='text' />")[0]);e.fn.caret=function(e,a){var r,s,c=this[0];if("object"==typeof e&&"number"==typeof e.start&&"number"==typeof e.end)r=e.start,s=e.end;else if("number"==typeof e&&"number"==typeof a)r=e,s=a;else if("string"==typeof e)(r=c.value.indexOf(e))>-1?s=r+e[t]:r=null;else if("[object RegExp]"===Object.prototype.toString.call(e)){var l=e.exec(c.value);null!=l&&(r=l.index,s=r+l[0][t])}if("undefined"!=typeof r){if(o){var u=this[0].createTextRange();u.collapse(!0),u.moveStart("character",r),u.moveEnd("character",s-r),u.select()}else this[0].selectionStart=r,this[0].selectionEnd=s;return this[0].focus(),this}if(o){var d=document.selection;if("textarea"!=this[0].tagName.toLowerCase()){var h=this.val(),f=d[n]()[i]();f.moveEnd("character",h[t]);var p=""==f.text?h[t]:h.lastIndexOf(f.text);f=d[n]()[i](),f.moveStart("character",-h[t]);var g=f.text[t]}else{var f=d[n](),m=f[i]();m.moveToElementText(this[0]),m.setEndPoint("EndToEnd",f);var p=m.text[t]-f.text[t],g=p+f.text[t]}}else var p=c.selectionStart,g=c.selectionEnd;var v=c.value.substring(p,g);return{"start":p,"end":g,"text":v,"replace":function(e){return c.value.substring(0,p)+e+c.value.substring(g,c.value[t])}}}}(jQuery,"length","createRange","duplicate"),StackExchange.nocaptcha=function(){function e(e,n){var i=['<div class="popup captcha-popup lightbox-panel" style="display: block; text-align: left;">','<div class="popup-close">',$("<a>",{"title":"close this popup (or hit Esc)","text":"×"}).prop("outerHTML"),"</div>",e,"</div>"].join("");$("body").loadPopup({"target":$("body"),"html":i,"lightbox":!0,"loaded":function(e){t(e,n)}})}function t(e,t){var n=e.find("form:first");StackExchange.helpers.enableSubmitButton(n),n.submit(function(){return StackExchange.helpers.disableSubmitButton(n),n.find('input[type="submit"]').addSpinnerAfter(),$.ajax({"url":"/nocaptcha","type":"POST","dataType":"json","data":n.serialize(),"success":function(i){i.captchaError?(StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),n.find(".form-error").html(i.captchaError),Recaptcha.reload()):(e.find(".popup-close a").click(),t(i))},"error":function(){StackExchange.helpers.removeSpinner(),StackExchange.helpers.enableSubmitButton(n),StackExchange.helpers.showErrorMessage(n,"An error occurred submitting the CAPTCHA")}}),!1})}return{"init":e}}(),StackExchange.gps=function(){function e(){return StackExchange&&StackExchange.options&&StackExchange.options.site&&StackExchange.options.site.routePrefix&&StackExchange.options.site.routePrefix.length?StackExchange.options.site.routePrefix:""}function t(e){return v?!0:(v=!0,e&&n()?(StackExchange.gps.sendPending=s,StackExchange.gps.track=c,u(),s(),i(".tagged-questions-page, .questions-page, .tags-page",".js-gps-related-tags .post-tag","related_tags.click",", item_type:1"),i(".question-page",".js-gps-related-questions .spacer","related_questions.click"),i(".question-page .post-taglist",".post-tag","question_tags.click",", location:1"),i(".question-page #sidebar .tagged",".post-tag","question_tags.click",", location:2"),o(),!0):(StackExchange.gps.track=function(e,t,n,i){i&&i()},delete StackExchange._gps_track,!1))}function n(){try{if(!window.localStorage)return!1;if(window.localStorage["gps-probe"]="1","1"!=window.localStorage["gps-probe"])return!1;window.localStorage.removeItem("gps-probe")}catch(e){return!1}return!0}function i(e,t,n,i){$(e).find(t).each(function(e){$(this).addClass("js-gps-track").data("gps-track",n+"({ position:"+(e+1)+i+" })")})}function o(e){var t=$(e||document).find(".js-gps-track").off("click.gps").one("click.gps",function(){var e=$.trim($(this).data("gps-track"));if(e)for(var t=a(e),n=0;n<t.length;n++){var i=t[n];StackExchange.gps.track(i[0],i[1],!0)}});m("bindTrackClicks bound {0} elements in {1}",t.length,e||"document")}function a(e){function t(e){if("true"===e)return!0;if("false"===e)return!1;if("'"===e[0]||'"'===e[0])return e.substring(1,e.length-1);var t=parseFloat(e);return isNaN(t)?e:t}for(var n=[],i=e.match(/([a-z._-]+)(\([^)]+\))?/gi),o=0;o<i.length;o++){var a=i[o];if(a.indexOf("{")<0)n.push([a,{}]);else{for(var r=a.match(/([a-z._-]+)\s*\(\s*\{([^}]+)\}\s*\)/i)||[],s=r[1],c=$.trim(r[2])||"",l=c.match(/[^,]+/gi)||[],u={},d=0;d<l.length;d++){var h=l[d],f=h.indexOf(":"),p=$.trim(h.substr(0,f)),g=$.trim(h.substr(f+1)),m=t(g);u[p]=m}n.push([s,u])}}return n}function r(e,t){$(e).on("click",t+" a[href]:not(.question-hyperlink, .answer-hyperlink)",function(){var e=$(this),t=e.attr("href");StackExchange.helpers.isInNetwork(t)||("undefined"==typeof ga?m("outbound link clicked "+t):ga("send","event","outbound","click",t,{"useBeacon":!0}))})}function s(e){var t=h();if(t.length>0){for(var n=(new Date).getTime(),i=[],o=0;o<t.length&&i.length<20;o++){var a=t[o],r=n-a.now;0>r||r>36e5?p(a):i.push(a)}i.length>0?g(i,e):e&&e()}}function c(e,t,n,i){var o={"evt":e,"properties":t||{},"now":(new Date).getTime()};f(o),navigator&&navigator.sendBeacon&&(n=!1),n?(i&&i(),window.setTimeout(s,1e4)):s(i)}function l(e){e&&StackExchange.options&&StackExchange.options.user&&(e.properties&&!e.properties.user_type&&(e.properties.user_type=StackExchange.options.user.user_type),!e.ab&&StackExchange.options.user.ab&&(e.ab=StackExchange.options.user.ab))}function u(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(e,t){f(t)}),delete StackExchange._gps_track)}function d(){return"gps-pending"+e()}function h(){var e=d(),t=localStorage[e];return t?JSON.parse(t):[]}function f(e){l(e);var t,n=d(),i=localStorage[n];if(i){var o=JSON.parse(i);o.push(e),t=JSON.stringify(o)}else t=JSON.stringify([e]);m("addToPending "+JSON.stringify(e)),localStorage[n]=t}function p(e){var t=d(),n=localStorage[t];if(n){for(var i=JSON.parse(n),o=JSON.stringify(e),a=-1,r=0;r<i.length;r++){var s=JSON.stringify(i[r]);if(o==s){a=r;break}}if(-1!=a)return i.splice(a,1),0==i.length?(localStorage.removeItem(t),void 0):(localStorage[t]=JSON.stringify(i),void 0)}}function g(t,n){$.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=JSON.stringify(t[i]);b[o]&&(t.splice(i,1),i--)}for(var i=0;i<t.length;i++){var o=JSON.stringify(t[i]);b[o]=!0}var a=JSON.stringify(t);if(navigator&&navigator.sendBeacon)try{m("sending (beacon): "+a);var r=e()+"/gps/event";if(navigator&&navigator.sendBeacon(r,a)){for(var i=0;i<t.length;i++){p(t[i]);var o=JSON.stringify(t[i]);delete b[o]}return n&&n(),void 0}}catch(s){m(s)}m("sending (AJAX): "+a),$.ajax({"type":"POST","url":"/gps/event","data":{"data":a},"success":function(){for(var e=0;e<t.length;e++)p(t[e])},"complete":function(){for(var e=0;e<t.length;e++){var i=JSON.stringify(t[e]);delete b[i]}n&&n()}})}function m(e){if((StackExchange.options&&StackExchange.options.enableLogging||$.cookie("devlog"))&&"string"==typeof e){if(arguments.length>1){var t=Array.prototype.slice.call(arguments,1);e=String.prototype.formatUnicorn.apply(e,t)}console.log("gps: "+e)}}var v=!1,b={},y=StackExchange.gps.track,k=StackExchange.gps.sendPending;return{"init":t,"bindTrackClicks":o,"track":y,"sendPending":k,"trackOutboundClicks":r}}(),StackExchange.openid=function(){function e(e,t){return e?(t&&$(e).data("ssrc",t),$(e).data("ssrc")):u}function t(t,n){var i=e(n);t&&(StackExchange.gps.track("openid.click",{"openid_provider":t,"location":i},!0),StackExchange.gps.track("signup.openid.click",{"openid_provider":t,"location":i},!0)),StackExchange.gps.track("signup.start",{"openid_provider":t,"location":i,"tid":StackExchange.options.user.tid},!0)}function n(n,i,o){var u=decodeURIComponent(i),d="unknown";o&&o.length?d=o:(0===u.indexOf("/questions/")&&(d="question_page"),"/questions/ask"===u&&(d="question_ask"));var h=$(n);e(h,d),h.removeClass("dno");var f=h.find(".google-login");f.click(function(){t("Google",h),r(h)});var p=h.find(".facebook-login");p.click(function(){t("Facebook",h),a(h)});var g=h.find(".github-login");g.click(function(){t("GitHub",h),s(h)});var m=h.find(".stackexchange-login");m.click(c(function(){t("Stack Exchange",h),StackExchange.navPrevention.stop(),window.location="/users/signup?ssrc="+encodeURIComponent(d)+"&returnUrl="+encodeURIComponent(u)
})),h.find(".js-submit-openid").click(function(){l(h,u)})}function i(){d||(d=!0,Stacks.addController("signup-modal",{"targets":["form","oauthVersion","oauthServer"],"connect":function(){var e=$(this.element);StackExchange.gps.bindTrackClicks(e),StackExchange.ga.bindHandlers(e)},"signUp":function(e){e.preventDefault(),this.oauthServerTarget.value=e.currentTarget.getAttribute("data-oauthserver"),this.oauthVersionTarget.value=e.currentTarget.getAttribute("data-oauthversion")||"2.0",c(function(){this.formTarget.submit()}.bind(this))()},"linkClick":function(e){e.preventDefault();var t=e.currentTarget.href;c(function(){StackExchange.navPrevention.stop(),window.location=t})()}}))}function o(){return i(),StackExchange.helpers.showModal.apply(StackExchange.helpers,arguments)}function a(t){t.find(".ssrc").val(e(t)),t.find(".use-facebook").val("true"),t.find(".use-google").val(""),t.find(".use-github").val(""),t.find(".js-submit-openid").click()}function r(t){t.find(".ssrc").val(e(t)),t.find(".use-google").val("true"),t.find(".use-facebook").val(""),t.find(".use-github").val(""),t.find(".js-submit-openid").click()}function s(t){t.find(".ssrc").val(e(t)),t.find(".use-google").val(""),t.find(".use-facebook").val(""),t.find(".use-github").val("true"),t.find(".js-submit-openid").click()}function c(e){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(e)})}}function l(t,n){var i=t.find(".use-facebook").val(),o=t.find(".use-google").val(),a=t.find(".use-github").val();c(function(){var r=!!StackExchange.options.site.isChildMeta,s=(r?StackExchange.options.site.parentUrl:"")+"/users/signup?returnurl="+encodeURIComponent(n),c=$('<form method="post" action="'+s+'"></form>'),l=$('<input type="hidden" name="oauth_version" />'),u=$('<input type="hidden" name="oauth_server" />');c.append(l),c.append(u),l.val("2.0"),i?u.val("https://www.facebook.com/v2.0/dialog/oauth"):o?u.val("https://accounts.google.com/o/oauth2/auth"):a&&u.val("https://github.com/login/oauth/authorize"),c.append("<input type='hidden' name='fkey' value='"+StackExchange.options.user.fkey+"' />"),$('<input type="hidden" name="ssrc" />').val(e(t)).appendTo(c),StackExchange.navPrevention.stop(),c.hide().appendTo("body").submit()})()}var u="unknown",d=!1;return{"initPostLogin":n,"showLoginModal":o}}();var UniversalAuth=function(){var e=1,t=200,n=1e4,i=5*n,o=!1;return{"redirectOnCompletion":function(e,a){if(o)return window.location.replace(e),void 0;var r,s=0,c=function(){if(o)return window.location.replace(e),clearInterval(r),void 0;var c=n>s,l=i>s;s+=t;var u=s>=n,d=s>=i,h=c&&u;h&&a&&a();var f=l&&d;f&&clearInterval(r)};r=setInterval(c,t)},"performAuth":function(){if(UniversalAuth.enabled()){var t=$.cookie("clear-ic");t&&$(document).ready(function(){var e=$("<img/>").attr({"style":"display:none","src":StackExchange.settings.intercom.hostBaseUrl+"/intercom/logout.gif?appId="+StackExchange.settings.intercom.appId,"crossOrigin":"use-credentials"});$("#footer").append(e),$.cookie("clear-ic",null,{"path":"/"})});var n=$.cookie("uauth");null!==n&&($.post("/users/login/universal/request",function(t){var n=[],i=function(){var e=null!==$.cookie("uauth");if(!e&&n){for(var t=0;t<n.length;t++){var i=n[t],a=i[0];if(!a.complete)return}o=!0}};$.each(t,function(t,o){var a="//"+o.Host+"/users/login/universal.gif?authToken="+encodeURIComponent(o.Token)+"&nonce="+encodeURIComponent(o.Nonce);$(document).ready(function(){var t=$("<img/>").attr({"style":"display:none","src":a,"crossOrigin":"use-credentials"});n.push(t),t.one("load",function(){var o=t[0].width,a=t[0].height;if(2===o&&2===a&&e>0){e--;var r=$.cookie("uauth");if(!r){var s=new Date,c=new Date(s.getTime()+3e5);$.cookie("uauth","true",{"path":"/","domain":document.domain,"expires":c}),n=null,setTimeout(function(){UniversalAuth.performAuth()},10)}}i()}),$("#footer").append(t)})})},"json"),$.cookie("uauth",null,{"path":"/","domain":document.domain}))}},"enabled":function(){return!0}}}();StackExchange.ready(function(){function e(){try{$.cookie("fkey",StackExchange.options.user.fkey,{"path":"/","expires":1/144})}catch(e){}}if(StackExchange.options.user.isAnonymous){var t=/\bfkey=/i;$(document).ajaxSend(function(n,i,o){"post"===o.type.toLowerCase()&&(t.test(o.url)||t.test(o.data))&&e()}),$(document).on("submit","form",function(){var t=$(this);"post"===(t.attr("method")||"").toLowerCase()&&t.find("input[name='fkey']").length&&e()})}}),StackExchange.loadJqueryUi=function(){var cssLink=StackExchange.settings.paths.jQueryUICSSPathOverride,jsLink=StackExchange.settings.paths.jQueryUIJSPathOverride;if(cssLink||(cssLink="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/themes/smoothness/jquery-ui.css"),jsLink||(jsLink="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"),$.ui)return $.Deferred().resolve();$("<link>").attr({"href":cssLink,"rel":"stylesheet","type":"text/css","media":"all"}).appendTo("head");var result=$.Deferred(),locale=StackExchange.options.locale,datepickerLanguageGetter,datepickerLanguageScript;return $.ajaxSetup({"cache":!0}),"en"!==locale&&(datepickerLanguageGetter=$.ajax({"url":"/Content/Js/third-party/jquery-ui/datepicker-"+locale+".js","dataType":"text","type":"GET"}).done(function(e){datepickerLanguageScript=e})),$.when(datepickerLanguageGetter||$.Deferred().resolve(),$.getScript(jsLink)).done(function(){eval(datepickerLanguageScript),result.resolve()}),$.ajaxSetup({"cache":!1}),result.promise()},StackExchange.patchJqueryUiForTouch=function(){!function(e){"function"==typeof define&&define.amd?define(["jquery","jquery.ui"],e):e(jQuery)}(function(e){function t(e){return{"x":e.originalEvent.changedTouches[0].pageX,"y":e.originalEvent.changedTouches[0].pageY}}function n(e,t){if(!(e.originalEvent.touches.length>1)){e.cancelable&&e.preventDefault();var n=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}if(e.support.touch="ontouchstart"in document||"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,e.support.touch&&e.ui.mouse){var i,o=e.ui.mouse.prototype,a=o._mouseInit,r=o._mouseDestroy;o._touchStart=function(e){var o=this;this._startedMove=e.timeStamp,o._startPos=t(e),!i&&o._mouseCapture(e.originalEvent.changedTouches[0])&&(i=!0,o._touchMoved=!1,n(e,"mouseover"),n(e,"mousemove"),n(e,"mousedown"))},o._touchMove=function(e){i&&(this._touchMoved=!0,n(e,"mousemove"))},o._touchEnd=function(e){if(i){n(e,"mouseup"),n(e,"mouseout");var o=e.timeStamp-this._startedMove;if(!this._touchMoved||500>o)n(e,"click");else{var a=t(e);Math.abs(a.x-this._startPos.x)<10&&Math.abs(a.y-this._startPos.y)<10&&(this._touchMoved&&"stylus"!==e.originalEvent.changedTouches[0].touchType||n(e,"click"))}this._touchMoved=!1,i=!1}},o._mouseInit=function(){var t=this;t.element.on({"touchstart":e.proxy(t,"_touchStart"),"touchmove":e.proxy(t,"_touchMove"),"touchend":e.proxy(t,"_touchEnd")}),a.call(t)},o._mouseDestroy=function(){var t=this;t.element.off({"touchstart":e.proxy(t,"_touchStart"),"touchmove":e.proxy(t,"_touchMove"),"touchend":e.proxy(t,"_touchEnd")}),r.call(t)}}})},StackExchange.processTimings=function(){function e(e,t){var n={};t=t||e.name||!1;for(var i in e)if("toJSON"!==i&&"entryType"!==i)if(t){if("subresources"===i)continue;var o=Math.round(e[i]);n[i]=o?o:e[i]}else 0!==e[i]&&(n[i]=0===e[i]?null:e[i]-e.navigationStart);return n}function t(){if(StackExchange.options.timingsGuid&&window.performance&&window.performance.timing&&window.performance.getEntriesByType){var t=[],n=[],i=!1,o=function(o){for(var a=0;a<n.length;a++)n[a].cancel();if(!i){i=!0;var r=$.extend(e(window.performance.timing,!1),{"guid":StackExchange.options.timingsGuid,"Info":StackExchange.options.timingsInfo,"fkey":StackExchange.options.user.fkey,"subresources":t.map(function(t){return e(t,!0)})}),s=JSON.stringify(r);if(navigator&&navigator.sendBeacon&&-1===location.search.indexOf("__debug=1"))try{var c="/_/client-timings";StackExchange.options.site&&StackExchange.options.site.routePrefix&&StackExchange.options.site.routePrefix.length&&(c=StackExchange.options.site.routePrefix+c);var l=new Blob([s],{"type":"application/json"});if(navigator&&navigator.sendBeacon(c,l))return}catch(u){}o||$.ajax({"url":"/_/client-timings","type":"POST","contentType":"application/json; charset=utf-8","data":s})}},a=StackExchange.helpers.DelayedReaction(o,StackExchange.settings.monitoring.clientTimingsDebounceTimeout,{"sliding":!0});n.push(a);var r=StackExchange.helpers.DelayedReaction(o,StackExchange.settings.monitoring.clientTimingsAbsoluteTimeout);r.trigger(),n.push(r);var s={},c=window.setInterval(function(){for(var e=window.performance.getEntriesByType("resource"),n=!1,i=0;i<e.length;i++)if(!s[i]){var o=e[i];t.push(o),n=!0,s[i]=!0}n&&a.trigger()},50);n.push({"cancel":function(){c&&(window.clearInterval(c),c=null)}}),window.performance.onresourcetimingbufferfull=function(){window.performance.clearResourceTimings(),s={}},$(window).unload(function(){o(!0)})}}return t}(),StackExchange.showFlashMessageIfAny=function(){var e="flash-message-json",t=$.cookie(e);if(t)try{$.cookie(e,null,{"path":"/","domain":document.domain});var n=decodeURIComponent(t.replace(/[+]/g," ")),i=JSON.parse(n);if(StackExchange.options.enableLogging&&console.log("flash message: showing "+n),StackExchange.options.isMobile)return StackExchange.helpers.showMobileMessage(i.message,i.type),void 0;switch(i.position){case"toast":StackExchange.helpers.showToast(i.message,{"type":i.type,"transient":i.transient,"transientTimeout":i.transientTimeout});break;case"notice":StackExchange.helpers.showStacksNotice(i.message,i.type);break;default:StackExchange.helpers.showBannerMessage(i.message,i.type)}}catch(o){}},StackExchange.prepareEditor=function(){var e=function(e){setTimeout(function(){var t=e.useStacksEditor?"stacksEditor":"editor";e.useStacksEditor||styleCode.initializeSpoilers(),StackExchange[t].initIfShown(e)},1)},t=function(e){var t=!1;$("#wmd-input, #title, #tagnames, #edit-comment, #m-address, #display-name, .js-fake-stacks-editor").one("focus click keydown",function(){t||(t=!0,e())})},n=function(n){for(var i=n.postfix||"",o="bold-button italic-button spacer1 link-button quote-button code-button image-button spacer2 olist-button ulist-button heading-button hr-button spacer3 undo-button redo-button".split(" "),a=$('<ul id="wmd-button-row'+i+'" class="wmd-button-row" />').appendTo(".wmd-button-bar"),r=0,s=0;s<o.length;s++){var c=o[s],l=/spacer/.test(c),u=$("<li id='wmd-"+c+i+"' />").prop("className","wmd-"+(l?"spacer":"button")).css("left",25*s).appendTo(a);$("<span />").css("background-position",r+"px -20px").appendTo(u),l||(r-=20)}var d=document.createElement("li");d.className="wmd-spacer wmd-spacer-max",a.append(d),t(function(){a.addSpinner({"float":"right"}),StackExchange.using("editor",function(){a.remove(),n.autoShowMarkdownHelp&&(n.immediatelyShowMarkdownHelp=!0),e(n)})})};return function(i){return i.onDemand?(i.useStacksEditor?t(function(){$.when(StackExchange.using("highlightjs",$.noop),StackExchange.using("stacksEditor",$.noop)).then(function(){e(i)})}):n(i),void 0):(i.useStacksEditor?$.when(StackExchange.using("highlightjs",$.noop),StackExchange.using("stacksEditor",$.noop)).then(function(){e(i)}):StackExchange.using("editor",function(){e(i)}),void 0)}}(),StackExchange.Auth=function(){var e=function(e,t){for(var n=!1,i=0;i<e.length;i++)if(e[i].id==t.id){t.changed=e[i].message==t.message,e[i].message=t.message,n=!0;break}n||(t.changed=!0,t.index>=e.length?e.push(t):e.splice(t.index,0,t))},t=function(t,n,i){var o=15,a=8,r=t.val(),s=/[a-z]/.test(r),c=/[A-Z]/.test(r),l=/\d/.test(r),u=/(_|[^\w\d])/.test(r),d=0;if(s&&d++,c&&d++,l&&d++,u&&d++,2===d&&r.length>=o)return i(n,"pw-weak",t),i(n,"pw-short",t),void 0;var h=$("<span><p>"+function(e){return"Please add one of the following things to make your password stronger:"+e.pEnd+" "+e.listStart+" "+e.char+" letters "+e.itemEnd+" "+e.num+" numbers "+e.itemEnd+" "+e.listEnd}({"pEnd":"</p>","listStart":"<ul>","listEnd":"</ul>","itemEnd":"</li>","char":'<li id="ch">',"num":'<li id="num">'})+"</span>");(s||c)&&l?i(n,"pw-weak",t):3>d?((s||c)&&h.find("#ch").remove(),l&&h.find("#num").remove(),e(n,{"id":"pw-weak","index":1,"attachTo":t,"message":h})):i(n,"pw-weak",t);var f=t.val().length;if(a>f){var p=a-f;e(n,{"id":"pw-short","index":2,"attachTo":t,"message":function(e){return 1==e.remaining?"Must contain at least "+e.remaining+" more character.":"Must contain at least "+e.remaining+" more characters."}({"remaining":p})})}else i(n,"pw-short",t)};return{"addOrUpdateError":e,"passwordStrengthValidation":t}}(),StackExchange.Hero=function(){var e={"name":null,"version":null},t=function(){var t="hero-dismissed",i={"ld":"","d":[]},o=$.cookie(t);if(o){var a=o.split("!");a.shift(),i.d=a}i.ld=(new Date).getTime();var r=e.name+"_"+e.version,s=!0;for(var c in i.d)if(i.d.hasOwnProperty(c)){var l=i.d[c],u=l.split("_");if(u===e.name){i.d[c]=r,s=!1;break}}s&&i.d.push(r),$.cookie(t,n(i),{"path":"/","expires":365})},n=function(e){return[e.ld].concat(e.d).join("!")},i=function(t,n){e.name=t,e.version=n};return{"init":i,"dismiss":t}}(),StackExchange.checklist=function(){function e(e,t,n){return $.post(e,{"fkey":StackExchange.options.user.fkey,"preference":t,"hideCompletedOrDismiss":n})}$(document).on("click",".js-toggle-completed-requirements",function(t){var n=$(t.target),i=n.closest(".js-checklist"),o=n.hasClass("is-visible"),a=n.data("preference"),r=n.data("url");e(r,a,o).always(function(){i.find(".js-requirement.is-finished").closest("li").toggleClass("dno"),n.toggleClass("is-visible is-hidden").text(o?"Show all items":"Hide completed items")})})}(),StackExchange.responsiveness=StackExchange.responsiveness||{},function(){StackExchange.responsiveness.addSwitcher=function(){var e=!!$.cookie("no-responsiveness");$('<li class="-item"><a class="-link" role="button" /></a></li>').find("a").text(e?"Enable Responsiveness":"Disable Responsiveness").click(function(){$.cookie("no-responsiveness",e?null:"1",e?{"path":"/"}:{"path":"/","expires":180}),location.reload(!0)}).end().appendTo(".js-primary-footer-links")}}(),StackExchange.userQuestionList=function(){function e(e){var t=e.split(/[\s|,;]+/).filter(function(e){return e.length>0});t=r(t.join(" ")).split(" ");for(var n=t.length-2;n>=0;n--)"not"===t[n]&&t.splice(n,2,"-"+t[n+1]);return t.join(" ")}function t(e,t){var n=function(t,n){return t.test(e[n])},i=function(e){return n(/^not$/i,e)?y:n(/^and$/i,e)?v:n(/^or$/i,e)?b:m};if(0===t)return["and","or"];var o=[],a=i(t-1);a===y?o.push("and","or","not"):a!==m&&o.push("and","or");for(var r=t-1;r>=0;r--){var s=i(r);if(s===b)break;s===m&&o.push(e[r])}return o}function n(e,t){var n=e.map(function(){return!0}),i=function(t,n){return t.test(e[n])},o=function(e){return i(/^not$/i,e)?y:i(/^and$/i,e)?v:i(/^or$/i,e)?b:m},a=function(t,i){for(var a=[],r=[],s=-1,c=t;i>=c;c++)switch(o(c)){case b:a=[],r=[],s=-1;break;case v:s=-1;break;case y:s=c;break;case m:var l=e[c],u=-1!==s?r:a;-1===u.indexOf(l)?u.push(l):(n[c]=!1,-1!==s&&(n[s]=!1)),s=-1}},r=function(e,t){for(var i=m,a=t,r=t;r>=e;r--)if(n[r]){var s=o(r);if(i!==m){if(s===y){n[r]=!1;continue}if(s===v&&(i===v||i===b)){n[r]=!1;continue}s!==b||i!==v&&i!==b||(n[a]=!1)}i=s,a=r}};a(0,t-1),a(t,e.length-1),r(0,t-1),r(t,e.length-1);var s;for(s=0;t>s&&i(g,s);s++)n[s]=!1;for(s=e.length-1;s>=t&&i(p,s);s--)n[s]=!1;return n}function i(e){for(var t=e.split(StackExchange.helpers.tagSeparator(e)),n=t.length-1;n>=0;n--){var i=t[n];/^-[^-]/.test(i)&&(t.splice(n+1,0,i.substring(1)),t[n]="not")}return StackExchange.helpers.sanitizeAndSplitTags(t.join(" "),!0,!0)||[]}function o(e){var t=i(e);return t.length>1&&"not"===t[0]?"-"+t[1]:t[0]}function a(e){var t=/^-/.test(e);return $.get("/filter/tags",{"q":e.replace(/^-/,""),"newstyle":!0},"json").then(function(n){var i=Math.max(n.length,6);return t&&n.forEach(function(e){e.Negated=!0}),["not","or","and"].forEach(function(t){(0===e.length||-1!==t.indexOf(e))&&n.unshift({"Name":t})}),n.length>i?n.slice(0,i):n})}function r(e){var t,o=i(e||"");return o.length>0&&(t=n(o,0),o=o.filter(function(e,n){return t[n]})),o.length>0&&(t=n(o,o.length),o=o.filter(function(e,n){return t[n]})),o.join(" ")}function s(e){var t="";switch(e.tagModeId){case"Watched":t="";break;default:t=encodeURIComponent(e.tagQuery)}var n=[];e.sortId.length>0&&n.push("sort="+e.sortId),e.filterIds.length>0&&n.push("filters="+e.filterIds),"Specified"!==e.tagModeId&&n.push("tagMode="+e.tagModeId),e.uqlId&&n.push("uqlId="+e.uqlId),n.push("edited=true");var i="Watched"===e.tagModeId?"/questions/tagged":t?"/questions/tagged/"+t:"/questions",o=StackExchange.options.site.routePrefix||"";return window.location.origin+o+i+"?"+n.join("&")}function c(e,t,n,i,o){i.prop("disabled",!0),$.ajax({"type":"POST","url":e,"data":$.extend({},t,{"fkey":StackExchange.options.user.fkey,"name":n}),"dataType":"json","success":function(e){if(e.Success)o?o(e):e.RedirectUrl?location.href=e.RedirectUrl:e.Message&&StackExchange.helpers.showToast(e.Message,{"type":"info","transient":!0});else{var t=e.Message||"An error occurred during save.";if($(".js-modal-container").hasClass("d-none"))StackExchange.helpers.showToast(t,{"type":"danger","transient":!0});else{var n=StackExchange.stacksValidation.handlerFor($("#uql-name-field"));n.add("error",t)}}},"error":function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred during save.";if($(".js-modal-container").hasClass("d-none"))StackExchange.helpers.showToast(t,{"type":"danger","transient":409===e.status});else{var n=StackExchange.stacksValidation.handlerFor($("#uql-name-field"));n.add("error",t)}},"complete":function(){i.prop("disabled",!1)}})}function l(e,t,n,i){confirm(function(e){return'Are you sure you want to delete "'+e.name+'"?'}({"name":t}))&&c("/questions/user-lists/"+e+"/delete",{},null,n,i)}function u(e,r){StackExchange.using("tagEditor",function(){StackExchange.tagEditor(e,{"excerpts":!1,"columns":1,"operators":p,"customFilterTags":n,"customSafeTags":i,"customExistingTags":t,"sanitizeSearchTerm":o,"getDataPromise":a,"useStacksClasses":!0}),e.next(".tag-editor").on("change",function(){r.prop("checked",!0)}).on("keypress",function(e){0!==e.which&&r.prop("checked",!0)}).on("click",".js-delete-tag",function(){r.prop("checked",!0)})})}function d(){Stacks.addController("se-uql",{"targets":["tagQuery","name","toggleMoreButton","morePopover","toggleFormButton","form","saveButton","saveTemplate","applyButton"],"resetForm":function(){this.formTarget.reset();var e=this.tagQueryTarget;if(e.func_clear){var t=r(e.value);e.func_clear(),t.split(/ +/).forEach(e.func_add,e)}},"showSaveModal":function(e){e.preventDefault();var t=$($(this.saveTemplateTarget).text());t.data("passed-data",this.readForm()),StackExchange.helpers.showModal(t,{"returnElements":$(e.currentTarget)})},"toggleEditor":function(){$(this.toggleFormButtonTarget).click().focus()},"cancelEditor":function(){this.resetForm(),$(this.formTarget).hasClass("is-expanded")&&$(this.toggleFormButtonTarget).click()},"readForm":function(){function t(e){return $(n[e]).filter(":checked")}var n=this.formTarget.elements,i=t("sortId").val()||"",o=t("filterId").map(function(){return this.value}).get().join(","),a=t("tagModeId").val()||"Specified",r="Specified"===a?e(this.tagQueryTarget.value||""):"",s=$(n.uqlId).val();return{"sortId":i,"filterIds":o,"tagModeId":a,"tagQuery":r,"id":s}},"navigate":function(e){e.preventDefault();var t=this.readForm();t.uqlId=this.data.get("id");var n=t.tagQuery.trim();if("true"===this.data.get("sanitize-tag-query")&&n.length>0){var i=$(this.applyButtonTarget);i.addClass("is-loading"),$.ajax({"type":"POST","url":"/questions/sanitize-tag-query","data":{"fkey":StackExchange.options.user.fkey,"tagQuery":n},"dataType":"json","success":function(e){t.tagQuery=e.TagQuery,location.href=s(t)},"error":function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred processing the tag query.";StackExchange.helpers.showToast(t,{"type":"danger","transient":409===e.status})},"complete":function(){i.removeClass("is-loading")}})}else location.href=s(t)},"connect":function(){var e=$(this.tagQueryTarget);e.attr("value",i(e.val()).join(" "));var t=$(this.formTarget.elements.tagModeId).filter("[value=Specified]");u(e,t)}})}function h(){Stacks.addController("se-uql-save",{"targets":["name","saveButton"],"validateName":function(e,t){var n=StackExchange.stacksValidation.handlerFor($(this.nameTarget));if(!n)return!0;if(e&&!n.hasType("error"))return!0;n.clear("error");var i=this.nameTarget.value.trim();return t||""!==i||n.add("error","Title is missing."),i.length>32&&n.add("error",function(e){return 1==e.count?"Title is "+e.count+" character too long.":"Title is "+e.count+" characters too long."}({"count":i.length-32})),"en"!==StackExchange.options.locale||/^[ -~]*$/.test(i)||n.add("error","Please only include ASCII characters."),!n.hasType("error")},"liveValidate":function(){this.validateName(!0,!0)},"updateExisting":function(e){if(e.preventDefault(),this.validateName()){var t=$(this.element).data("passed-data");c("/questions/user-lists/"+t.id+"/update",t,this.nameTarget.value.trim(),$(this.saveButtonTargets))}},"createNew":function(e){if(e.preventDefault(),this.validateName()){var t=$(this.element).data("passed-data");c("/questions/user-lists/create",t,this.nameTarget.value.trim(),$(this.saveButtonTargets))}}})}function f(){Stacks.addController("se-uql-list",{"targets":["item"],"getParentItem":function(e){return $(this.itemTargets).has(e).get(0)},"deleteCurrent":function(e){var t=e.currentTarget,n=this.getParentItem(t);l(this.getElementData(n,"id"),this.getElementData(n,"name"),$(t),function(){location.reload()})},"editCurrent":function(e){e.preventDefault(),this.triggerEvent("edit-current-requested")}})}var p=/^(?:and|or|not)$/i,g=/^(?:and|or)$/i,m=0,v=1,b=2,y=3,k=function(e){d(),h(),f(),e.sharingUrl&&history.replaceState&&history.replaceState({},document.title,e.sharingUrl+location.hash)};return{"init":k}}(),StackExchange.stacksValidation=function(){function e(e){var n=e.data("stacks-validation-handler");return n||(n=new t(e),e.data("stacks-validation-handler",n)),n.invalid?null:n}function t(e){return this.hideIcons=!1,this.$input=e,this.$container=e.closest(".js-stacks-validation"),this.$container.length?(this.$message=this.$container.find(".js-stacks-validation-message"),this.messages=[],void 0):(this.invalid=!0,void 0)}function n(e){return e.html}function i(e){return e.type}t.prototype={"_updateMessages":function(){if(this.$message.empty().toggleClass("d-none",!this.messages.length),this.messages.length){var e;e=1===this.messages.length?this.messages[0].html:"<ul><li>"+this.messages.map(n).join("</li><li class='mt8'>")+"</li></ul>",this.$message.html(e).find("a").attr("target","_blank")}},"_updateIcon":function(){if(this.$container.find(".js-stacks-validation-icon").remove(),this.messages.length&&!this.hideIcons){var e=this.highestType();Svg[o[e]].With("s-input-icon js-stacks-validation-icon").insertAfter(this.$input)}},"_updateClass":function(){this.$container.removeClass("has-error has-warning has-success"),this.messages.length&&this.$container.addClass("has-"+this.highestType())},"_update":function(){this._updateMessages(),this._updateIcon(),this._updateClass()},"highestType":function(){return this.messages.map(i).reduce(function(e,t){return"error"===e||"error"===t?"error":"warning"===e||"warning"===t?"warning":"success"})},"hasType":function(e){return this.messages.some(function(t){return t.type===e})},"add":function(e,t){this.messages.some(function(n){return n.type===e&&n.html===t})||(this.messages.push({"type":e,"html":t}),this._update())},"addText":function(e,t){this.add(e,$("<span>").text(t).html())},"clear":function(e){this.messages=e?this.messages.filter(function(t){return t.type!==e}):[],this._update()}};var o={"error":"AlertCircle","warning":"Alert","success":"Checkmark"};return{"handlerFor":e}}(),StackExchange.bindShowMoreHotNetworkQuestions=function(){var e=$("#hot-network-questions"),t=e.find(".js-show-more"),n=e.find(".js-hidden");if(e.length&&t.length&&n.length){var i=$("#mainbar").height(),o=$("#sidebar").height()+550;n.attr("style","visibility:hidden").removeClass("dno");var a=0,r=[];n.each(function(e,t){var n=$(t).height();r.push(n),a+=n});var s=o+a;if(i>=s)return t.remove(),n.attr("style","").show(),void 0;var c=[],l=o;n.each(function(e,t){var n=$(t),o=r[e];i>=l+o&&(c.push(n),l+=o)}),n.attr("style","").addClass("dno"),c.forEach(function(e){return e.show()}),t.click(function(){return n.show(),t.remove(),!1})}},StackExchange.mockups=function(){function e(){StackExchange.externalEditor.init({"thingName":"mockup","getIframeUrl":function(e){var t="/plugins/mockups/editor";return e&&(t+="?edit="+encodeURIComponent(e)),t},"buttonTooltip":"UI wireframe","onShow":function(e){window.addMockupToEditor=e},"onRemove":function(){window.addMockupToEditor=null}})}return{"init":e}}(),StackExchange.schematics=function(){function e(){if(!window.postMessage)return 0;var e=document.createElement("div");e.innerHTML="<svg/>";var t="http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI);if(!t)return 0;var n=navigator.userAgent;return/Firefox|Chrome/.test(n)?3:/Apple/.test(navigator.vendor)||/Opera/.test(n)?2:1}function t(){var t;StackExchange.externalEditor.init({"thingName":"schematic","getIframeUrl":function(e){var t="/plugins/schematics/editor";return e&&(t+="?edit="+encodeURIComponent(e)),t},"buttonTooltip":"Schematic","checkSupport":function(){var t=e();switch(t){case 3:return!0;case 2:return confirm("Your browser is not officially supported by the schematics editor; however it has been reported to work. Launch the editor?");case 1:return confirm("Your browser is not officially supported by the schematics editor; it may or may not work. Launch the editor anyway?");default:case 0:return alert("Sorry, your browser does not support all the necessary features for the schematics editor."),!1}},"onShow":function(e){var n=$("<div class='popup'>").css("z-index",1111).text("Loading editor").appendTo("body").show().addSpinner({"marginLeft":5}).center({"dy":-200});$("<div style='text-align:right;margin-top: 10px'>").append($("<button>cancel</button>").click(function(){n.remove(),e()})).appendTo(n),t=function(t){if(t=t.originalEvent,"https://www.circuitlab.com"===t.origin){t.data||e();var i=$.parseJSON(t.data);if(i&&"success"===i.load)return n.remove(),void 0;if(i&&i.edit_url&&i.image_url){i.fkey=StackExchange.options.user.fkey;var o=$("<div class='popup'>").css("z-index",1111).appendTo("body").show(),a=function(){o.text("Storing image").addSpinner({"marginLeft":5}).center(),$.post("/plugins/schematics/save",i).done(function(t){o.remove(),e(t.img)}).fail(function(e){if(409===e.status){var t="Storing aborted";e.responseText.length<200&&(t=e.responseText),o.text(t+", will retry shortly").addSpinner({"marginLeft":5}).center(),setTimeout(a,1e4)}else o.remove(),alert("Failed to upload the schematic image.")})};a()}}},$(window).on("message",t)},"onRemove":function(){$(window).off("message",t)}})}return{"init":t}}(),StackExchange.externalEditor=function(){function e(e){if("function"==typeof e)return e;var t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n="<!-- Begin "+t+"[^>]*? -->\\s*!\\[[^\\]]*\\]\\((http://[^ )]+)[^)]*\\)\\s*<!-- End "+t+" -->";return function(e,t,i,o,a){function r(e,t,n){for(var i=-1,o=-1;;){if(o=t.indexOf(e,o+1),-1===o)break;(0>i||Math.abs(o-n)<Math.abs(o-i))&&(i=o)}return i}return e.replace(new RegExp(n,"g"),function(e,n,s){var c={"payload":n.replace(/[^-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]/g,""),"pos":r(e,t,s),"len":e.length};return-1===c.pos?e:(a.push(c),e+"\n\n"+i+o+"-"+(a.length-1)+"%")})}}function t(t){function n(e,t){function n(t){function n(){StackExchange.helpers.closePopups(m.add(o)),u()}var o,a=g||v.caret(),c=v[0].value||"",d=t?t.pos:a.start,h=t?t.len:a.end-a.start,f=c.substring(0,d),p=c.substring(d+h);g=null;var m=null,b=function(t,o){if(!t)return setTimeout(n,0),v.focus(),void 0;StackExchange.navPrevention.start();var r=void 0===o?i(t):o,s=f.replace(/(?:\r\n|\r|\n){1,2}$/,""),c=s+r+p.replace(/^(?:\r\n|\r|\n){1,2}/,""),l=a.start+r.length-f.length+s.length;setTimeout(function(){e.textOperation(function(){v.val(c).focus().caret(l,l)}),n()},0)};if(r){var y=r(t?t.payload:null);m=$("<iframe>",{"src":y})}else if(s){var k=s(t?t.payload:null);m=$(k)}m.addClass("esc-remove").css({"position":"fixed","top":"2.5%","left":"2.5%","width":"95%","height":"95%","background":"white","z-index":1001}),$("body").loadPopup({"html":m,"target":$("body"),"lightbox":!0}).done(function(){$(window).resize(),l(b)})}$('<style type="text/css"> .wmd-'+o+"-button span { background-position: 0 0; } .wmd-"+o+"-button:hover span { background-position: 0 -40px; }</style>)").appendTo("head");var f,p,g,m=e.getConverter().hooks,v=$("#wmd-input"+t);v.on("keyup",function(e){var t=e.keyCode||e.charCode;if(8===t||46===t){var n=v.caret().start;v.caret(n,n)}}),m.chain("preConversion",function(e){var t=(e.match(/%/g)||[]).length,n=v.length?v[0].value||"":"";return f=new Array(t+2).join("%"),p=[],a(e,n,f,o,p)}),m.chain("postConversion",function(e){return e.replace(new RegExp(f+o+"-(\\d+)%","g"),function(e,t){return"<sup><a href='#' class='edit-"+o+"' data-id='"+t+"'>"+d+"</a></sup>"})});var b="The "+o+" editor does not support touch devices.",y=!1;$("#wmd-preview"+t).on("touchend",function(){y=!0}).on("click","a.edit-"+o,function(e){return y?(alert(b),y=!1,!1):(y=!1,(!h||h())&&n(p[$(e.target).attr("data-id")]),!1)}),$("#wmd-input"+t).keyup(function(e){e.shiftKey||e.altKey||e.metaKey||!e.ctrlKey||77!==e.which||(!h||h())&&n()}),setTimeout(function(){var e=$("#wmd-image-button"+t),i=$("<li class='wmd-button wmd-"+o+"-button' id='wmd-"+o+"-button"+t+"' title='"+c+" Ctrl-M'>").insertAfter(e),a=!1;$("<span>").appendTo(i).on("touchend",function(){a=!0}).click(function(){return a?(alert(b),a=!1,void 0):(a=!1,(!h||h())&&n(),void 0)})},0)}function i(e){return('\n\n<!-- Begin {THING}: In order to preserve an editable {THING}, please\n     don\'t edit this section directly.\n     Click the "edit" link below the image in the preview instead. -->\n\n![{THING}]('+e+")\n\n<!-- End {THING} -->\n\n").replace(/{THING}/g,o)}var o=t.thingName,a=e(t.thingFinder||t.thingName),r=t.getIframeUrl,s=t.getDivContent,c=t.buttonTooltip,l=t.onShow,u=t.onRemove||function(){},d=t.editLabel||"edit the above "+o,h=t.checkSupport;StackExchange.MarkdownEditor.creationCallbacks.add(n)}return{"init":t}}(),function(e,t){function n(t){return e("<div>").addClass(t)}function i(){var e="sif"+_;return _++,e}function o(){return e("<iframe>").attr({"name":i(),"sandbox":"allow-forms allow-modals allow-scripts","class":"snippet-box-edit snippet-box-result","frameBorder":0})}function a(t){return e("<pre>").addClass("prettyprint-override lang-"+t+" snippet-code-"+t)}function r(t){return e("<a>").text(t)}function s(t,n){return e("<textarea>").attr("name",t).val(n)}function c(t,n,i){return e("<form>").css("display","none").attr({"action":t,"method":n,"target":i})}function l(t,n){return e("<input>").attr({"type":"text","name":t,"value":n})}function u(){return e('<button type="button" class="s-btn">')}function d(t){return e("<code>").text(t)}function h(n,i){i=i||{},n.each(function(){var n=e(this),o=n.data("_snippet");if(!o){var a=i.markdownPluginMode;if(o=a?f():p(),a){var r=function(){o&&(o.setUIInnerHtml(C),o.generate(n),o.resize(),e(t).resize(function(){o&&o.resize()}),n.data("_snippet",o),i.state&&o.load(i.state))};StackExchange.using("snippetsJsCodeMirror",function(){setTimeout(function(){$().then(r)},1)})}else o.generate(n),n.data("_snippet",o),i.state&&o.load(i.state)}})}function f(){function n(e){L=e}function i(n,i,o){function a(){var e=o.getValue(),t=e.match(s);t&&t.length>2?n.val(t[1]+":"+t[2]):n.val("")
}var r="function"==typeof i?i:function(e,t){return i.replace(/\*version\*/g,e).replace(/\*file\*/g,t)},s=r("##version##","##file##").replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&").replace("cdnjs\\.cloudflare\\.com","(?:cdnjs\\.cloudflare\\.com|ajax\\.googleapis\\.com)").replace(/##version##/g,"(.*?)").replace(/##file##/g,"(.*?)");n.change(function(){var t=e(this).val().split(":"),n=t.length>1?t[1]:"";t=t[0];var i=o.getValue(),a=!1,c=""===t?"":r(t,n);return i=i.replace(new RegExp(s,"g"),function(){return a=!0,c}),i=i.trim(),a?(o.setValue(i),void 0):(""!==t&&(o.setValue(c+"\n"+i),o.save()),void 0)});var c;o.on("change",function(){t.clearTimeout(c),c=t.setTimeout(a,1e3)})}function o(n){function o(e,n,i){var o,a=CodeMirror.fromTextArea(e,{"electricChars":!1,"smartIndent":!1,"lineNumbers":!0,"lineWrapping":!0,"mode":n,"tabSize":2,"indentWithTabs":!1,"readOnly":!1});return a.on("change",function(){x=!0,t.clearTimeout(o),o=t.setTimeout(function(){a.save()},500)}),a.beautify=function(){a.setValue(i(a.getValue().trim(),{"indent_size":a.options.tabSize,"indent_char":" ","unformatted":["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"]}))},a}function r(e){return'<script src="https://cdnjs.cloudflare.com/ajax/libs/'+e+'/*version*/*file*"></script>'}return m?m:(m=e(L),e(m).find("#snpte-close-button").click(function(t){return StackExchange.helpers.closePopups(e(this).closest(".snippet-modal"),"esc"),t.preventDefault(),!1}),v=m.find("#snpte-jquery-select"),b=m.find("#snpte-d3-select"),y=m.find("#snpte-knockout-select"),k=m.find("#snpte-angular-select"),w=m.find("#snpte-vue-select"),C=m.find("#snpte-react-select"),$=m.find("#snpte-react-dom-select"),_=m.find("#snpte-hide-snippet"),j=m.find("#snpte-show-console"),E=m.find("#snpte-use-babel"),m.find("#snpte-button-run").click(function(){a()}),m.find("#snpte-button-tidy").click(function(){I.beautify(),D.beautify(),F.beautify()}),m.find("#snpte-button-insert").click(function(){StackExchange.helpers.closePopups(e(".snippet-modal"))}),m.find("#snpte-button-reset").click(function(){u()}),n.empty().append(m),T=m.find("#snpte-box-edit-html"),M=m.find("#snpte-box-edit-css"),O=m.find("#snpte-box-edit-js"),P=m.find("#snpte-box-edit-result"),A=P.clone(),CodeMirror.commands.insertTab=CodeMirror.commands.insertSoftTab,CodeMirror.keyMap.default["Shift-Tab"]="indentLess",CodeMirror.commands.indentAuto=function(e){e.beautify()},I=o(T[0],"htmlmixed",html_beautify),D=o(M[0],"css",css_beautify),F=o(O[0],"javascript",js_beautify),i(v,r("jquery"),I),i(b,r("d3"),I),i(y,r("knockout"),I),i(k,r("angular.js"),I),i(w,r("vue"),I),i(C,function(e,t){var n=($.find("option[value^='"+e+"']").attr("value")||"").split(":"),i=n[1]||t;return'<script src="https://cdnjs.cloudflare.com/ajax/libs/react/'+e+"/"+t+'"></script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/'+e+"/"+i+'"></script>'},I),m.find("#snpte-button-extlib").click(function(){function e(e,t){return e.length<t.length?!1:(e=e.toLowerCase(),0!=e.indexOf("https://")&&0!=e.indexOf("http://")&&0!=e.indexOf("//")?!1:e.substr(e.length-t.length,t.length).toLowerCase()==t.toLowerCase()?!0:!1)}var t=prompt("Please enter the URL of an external JS or CSS file");if(null!=t&&""!=t&&""!=t.trim()){var n=I.getValue();if(e(t,".css")){var i='<link href="'+t+'" rel="stylesheet"/>';I.setValue(i+"\n"+n)}else if(e(t,".js")){var i='<script src="'+t+'"></script>';I.setValue(i+"\n"+n)}else alert("Sorry, but that resource is invalid. Resources must begin with http:// or https:// and allowed extensions are: .css, .js")}}),e.each([I,D,F],function(t,n){n.on("focus",function(){e(n.getInputField()).parent().parent().parent().children(".js-name").hide()}),n.on("blur",function(){e(n.getInputField()).parent().parent().parent().children(".js-name").show()})}),void 0)}function a(){d(),h()}function r(e){var t=e.html,n=e.css,i=e.js,o=e.console,a=e.hide,r=e.babel;null!=t&&(g.html=t,T.val(t)),null!=n&&(g.css=n,M.val(n)),null!=i&&(g.js=i,O.val(i)),null!=o&&(g.console=o,o===!1&&j.prop("checked",o)),a&&(g.hide=a,_.prop("checked",!0)),r&&(g.babel=r,E.prop("checked",!0)),I.setValue(t),D.setValue(n),F.setValue(i),x=!1}function u(){T.val(""),M.val(""),O.val(""),v.val(""),b.val(""),y.val(""),k.val(""),w.val(""),C.val(""),j.prop("checked",!0),_.prop("checked",!1),E.prop("checked",!1);var e="";S&&(e="//"+S),f();var t=e+"/js",n=c(t,"GET",P.attr("name")).appendTo("body");n.submit(),I.setValue(""),D.setValue(""),F.setValue("")}function d(){return g.html=T.val(),g.css=M.val(),g.js=O.val(),g.console=j.prop("checked"),g.hide=_.prop("checked"),g.babel=E.prop("checked"),g}function h(){var e=g.css,t=g.js,n=g.html,i=g.console,o=g.babel;if(""!=e||""!=t||""!=n){var a="";S&&(a="//"+S),f();var r=a+"/js",u=c(r,"POST",P.attr("name"));s("js",t).appendTo(u),s("css",e).appendTo(u),s("html",n).appendTo(u),l("console",""+(i===!0)).appendTo(u),l("babel",""+(o===!0)).appendTo(u),u.appendTo("body"),u.submit().remove()}}function f(){if(!A)throw"No template available for result destination";if(!P)throw"Cannot insert new result destination";var e=A.clone();P.replaceWith(e),P=e}function p(){var e=x;I.refresh(),D.refresh(),F.refresh(),x=e}var g={"html":null,"css":null,"js":null,"console":!0,"hide":!1,"babel":null},m=null,v=null,b=null,y=null,k=null,w=null,C=null,$=null,_=!1,j=!0,E=null,T=null,M=null,O=null,A=null,P=null,I=null,D=null,F=null,L=null;return{"setUIInnerHtml":n,"resize":p,"writeResult":h,"save":d,"clear":u,"load":r,"run":a,"generate":o,"registerExternalLibChange":i}}function p(){function i(i){var s=null;if(v)return v;k=null,y=o(),v=!0;var c=u().addClass("s-btn__primary").append(e('<span class="icon-play-white _hover">'),e("<span>").text(" Run code snippet")).click(function(){a(),s.hide()}),l=u().addClass("hideResults").text("Hide results").click(function(){d(),s.show()});l.hide(),StackExchange.options.isMobile||(s=n("popout-code").append(r("Expand snippet").addClass("snippet-expand-link")).click(function(){var n=k;if(n){var i=n.element;i.removeClass("expanded-snippet"),i.find(".snippet-expand-link").text("Expand snippet"),i.find(".snippet-show-link, .snippet-show-link-chevron").show();var o=n.parent,a=o.children();a.length?e(a[n.indexWithinParent]).before(i):e(o).append(i),k=null,e(".topbar, .container, .top-bar, #footer").show(),h.show(),e(t).scrollTop(w)}else{w=e(t).scrollTop();var i=e(this).closest(".snippet");k={"element":i,"indexWithinParent":i.index(),"parent":i.parent()},i.addClass("expanded-snippet"),i.find(".snippet-expand-link").text("Return to post"),i.find(".snippet-show-link, .snippet-show-link-chevron").hide(),e(".topbar, .container, .top-bar, #footer").hide(),e("body").append(i),h.hide()}}));var h=e('<input class="copySnippet s-btn s-btn__filled" type="button">').click(function(){var t=e("#show-editor-button"),n=e("#post-editor").find("textarea.wmd-input");if(t.is(":visible")){var i=t.offset().top;e("html").animate({"scrollTop":i-60}),e("body").animate({"scrollTop":i-60},{"complete":function(){t.children("input").click()}})}else{var o=n.offset().top;e("html, body").animate({"scrollTop":o-60})}var a=m(g);n.val(n.val()+"\n\n"+a),StackExchange.MarkdownEditor.refreshAllPreviews()});h.val("Copy snippet to answer");var f=n("snippet-ctas").append(c,h,l);StackExchange.options.isMobile||f.append(s),b=n("snippet-result-code").append(y).hide();var p=n("snippet-result").append(f,b);return i.append(p),v}function a(){y&&y.remove(),y=o(),b.append(y),y.parent().is(":hidden")&&(y.closest(".snippet-result").find(".hideResults").css("display",""),y.parent().slideDown(200,function(){if(!k){var t=n("popout").append(r("Full page")),i=n("popin").append(r("Close")).hide();t.click(function(){y.data("_style",y.attr("style")),y.css({"position":"fixed","top":0,"left":0,"width":"100%","height":"100%","background-color":"#FFFFFF","z-index":9e3}),y.parent().css("position",""),e(this).hide(),i.show(),e("body").css("overflow","hidden")}),i.click(function(){y.removeAttr("style"),y.attr("style",y.data("_style")),y.parent().css("position","relative"),e(this).hide(),t.show(),e("body").css("overflow","")}),e(this).append(t,i)}})),f()}function d(){var t=y.parent();t.is(":visible")&&(y.closest(".snippet-result").find(".hideResults").hide(),t.children(".popout, .popin").remove(),t.slideUp(200,function(){e(this).hide(),y.remove(),y=null}))}function h(e){var t=e.css,n=e.js,i=e.html,o=e.console,a=e.hide,r=e.babel;null!=t&&(g.css=t),null!=n&&(g.js=n),null!=i&&(g.html=i),o&&(g.console=o),a&&(g.hide=a),r&&(g.babel=r)}function f(){var e=g.css,t=g.js,n=g.html,i=g.console,o=g.babel;if(""!=e||""!=t||""!=n){var a="";S&&(a="//"+S);var r=a+"/js",u=c(r,"POST",y.attr("name")).append(s("js",t),s("css",e),s("html",n),l("console",""+(i===!0)),l("babel",""+(o===!0)));u.appendTo("body").submit().remove()}}function p(){}var g={"html":null,"css":null,"js":null,"console":!1,"hide":!1,"babel":null},v=null,b=null,y=null,k=null;return{"resize":p,"writeResult":f,"load":h,"hide":d,"run":a,"generate":i}}function g(e,t,n){return e.replace(/^(?=.)/gm,new Array(t*n+1).join(" "))}function m(e){var t="\n\n<!-- begin snippet: js hide: "+e.hide+" console: "+e.console+" babel: "+e.babel+" -->\n\n",n=e.js,i=e.css,o=e.html;return""!=n&&(t+="<!-- language: lang-js -->\n\n"+g(n,1,4)+"\n\n"),""!=i&&(t+="<!-- language: lang-css -->\n\n"+g(i,1,4)+"\n\n"),""!=o&&(t+="<!-- language: lang-html -->\n\n"+g(o,1,4)+"\n\n"),t+="<!-- end snippet -->\n\n"}function v(e,t,n,i){var o=/<!--\s+language:\s*lang-js\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi,a=/<!--\s+language:\s*lang-css\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi,r=/<!--\s+language:\s*lang-html\s+-->([\s\S]*?)(?:<!--\s+language:|$)/gi;try{var s=o.exec(e),c=a.exec(e),l=r.exec(e),u="",d="",h="";if(s&&(u=s[1].trim().replace(/^    /gm,"")),c&&(d=c[1].trim().replace(/^    /gm,"")),l&&(h=l[1].trim().replace(/^    /gm,"")),""==u&&""==d&&""==h)return null;var f={"js":u,"css":d,"html":h,"console":n,"hide":t,"babel":i};return f}catch(p){return null}}function b(e){var t=StackExchange.snippets.renderer;if(!t)return e;var n=t,i="sandbox"in document.createElement("iframe");if(!i)return e;var o=/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi;return e=e.replace(o,function(e,t,i,o,a){return n(a,t,i,o)})}function y(){StackExchange.snippets.renderer&&StackExchange.snippets.redraw||(StackExchange.snippets.redraw=function(){e("div.snippet").each(function(){var t=e(this);return t.closest(".downvoted-answer").length>0?!0:(k(t),void 0)})},StackExchange.snippets.renderer=function(e,t,o,r){t=t===!0||"true"===(t||"").toLowerCase(),o=o===!0||"true"===(o||"").toLowerCase(),r=r===!0||"true"===(r||"").toLowerCase();var s=v(e,t,o,r);if(!s)return e;var c=n("snippet").data({"lang":"js","hide":t,"console":o}),l=n("snippet-code");t&&l.addClass("snippet-currently-hidden"),c.append(l);var u=s.js,f=s.css,p=s.html;u&&l.append(a("js").append(d(u))),f&&l.append(a("css").append(d(f))),p&&l.append(a("html").append(d(p)));var g=i();return h(l,{"state":s}),j[g]=c,"<pre>"+g+"</pre>"},StackExchange.snippets.redraw())}function k(t){var i=t.find(".snippet-code");0==i.length&&(i=t);var o=i.find("pre.snippet-code-js").text(),a=i.find("pre.snippet-code-css").text(),r=i.find("pre.snippet-code-html").text(),s={"js":o,"css":a,"html":r,"console":t.data("console")===!0,"hide":t.data("hide")===!0,"babel":t.data("babel")===!0};if(h(i,{"state":s}),(StackExchange.options.user.isAnonymous||0==t.parent().length||0==e("textarea#wmd-input").length||e(".js-popup-suggested-edit").length)&&t.find(".copySnippet").hide(),t.data("hide")===!0){i.hide(),i.addClass("snippet-currently-hidden"),t.find(".snippet-display").remove();var c=n("snippet-display").attr("style","vertical-align: center").append(e("<p>").append(e('<a class="snippet-show-link-chevron"><span class="expander-arrow-hide" style="vertical-align: middle;"></span><a class="snippet-show-link"><span class="show-hide" data-ishidden="true" style="vertical-align: middle"></span></a>')));c.find("span.show-hide").text("Show code snippet"),c.click(function(){i.toggle();var t=e(this),n=t.find(".show-hide");n.data("ishidden")===!0?(n.text("Hide code snippet"),t.find(".expander-arrow-hide").removeClass("expander-arrow-hide").addClass("expander-arrow-show"),n.data("ishidden",!1)):(n.text("Show code snippet"),t.find(".expander-arrow-show").removeClass("expander-arrow-show").addClass("expander-arrow-hide"),n.data("ishidden",!0))}),t.prepend(c)}else i.show().removeClass("snippet-currently-hidden"),t.find(".snippet-display").remove()}if(StackExchange.settings&&StackExchange.settings.snippets){var w,x=!1,S=StackExchange.settings.snippets.renderDomain,C=null,$=function(){return C?e.when():e.ajax("/snippets/editor-ui",{"success":function(e){C=e}})},_=1,j={};StackExchange.snippets=function(){function i(e,t,n,i,o){function a(e,t,n){for(var i=-1,o=-1;;){if(o=t.indexOf(e,o+1),-1==o)break;(0>i||Math.abs(o-n)<Math.abs(o-i))&&(i=o)}return i}return e.replace(/<!--\s+begin snippet:\s*[a-z]+\s*(?:hide:\s*([a-zA-Z]+))?\s*(?:console:\s*([a-zA-Z]+))?\s*(?:babel:\s*([a-zA-Z]+))?\s+-->([\s\S]*?)<!--\s+end snippet\s+-->/gi,function(e,r,s,c,l,u){var d={"payload":{"code":l,"hide":"true"===(r||"").toLowerCase(),"console":"true"===(s||"").toLowerCase(),"babel":"true"===(c||"").toLowerCase()},"pos":a(e,t,u),"len":e.length};return-1===d.pos?e:(o.push(d),e+"\n\n"+n+i+"-"+(o.length-1)+"%")})}function o(){y();var o=t.StackExchange.MarkdownEditor&&t.StackExchange.externalEditor;o&&a&&(a=!1,StackExchange.externalEditor.init({"thingName":"snippet","thingFinder":i,"editLabel":"edit the above snippet","getDivContent":function(e){var t=e?v(e.code,e.hide,e.console,e.babel):null,i=n("modal auto-center snippet-modal");return h(i,{"markdownPluginMode":!0,"state":t}),i},"buttonTooltip":"JavaScript/HTML/CSS snippet","buttonImageUrl":"/Content/Shared/balsamiq/wmd-mockup-button.png","onShow":function(t){var n=e(".snippet-modal"),i=function(e){var i=n.data("_snippet").save();if(e||""==i.html&&""==i.css&&""==i.js)t(null);else{var o=m(i);t(o,o)}};n.on("popupClosing",function(e){var t="esc"==e.closeTrigger;if(!t||x)return t&&!confirm("Are you sure you want to abandon any changes?")?(e.preventDefault(),void 0):(i(t),void 0)})}})),StackExchange.MarkdownEditor&&StackExchange.MarkdownEditor.creationCallbacks.add(function(t,n){var i=t.getConverter().hooks;i.chain("preConversion",b);var o=e("#wmd-preview"+n);o.on("wmdrefresh",function(){o.find("pre").each(function(){var t=e(this),n=t.text();if(j[n]){var i=j[n];delete j[n],k(i),t.replaceWith(e("<p>").append(i))}})})})}var a=!0;return{"init":o,"initSnippetRenderer":y,"makeSnippets":b}}()}}(jQuery,window),StackExchange.sidebar=function(){function e(e){var t=$(".js-in-these-collections-widget").parent();t.on("click",".js-fetch-add-to-collection-modal",function(t){var n=$(t.target);n.hasClass("is-loading")||(n.addClass("is-loading"),StackExchange.helpers.loadModal("/collections/modal-add-to-collection?postId="+e).always(function(){n.removeClass("is-loading")}))}),t.on("click",".js-collections-widget--show-all",function(e){$(e.target).add(".js-widget-collection.d-none").toggleClass("d-none")})}return{"initCollectionWidget":e}}(),StackExchange.expandableOverflow=function(){function e(e,t){if(e&&t){var n=new ResizeObserver(function(e){var n=e[0].target,i=n.scrollHeight,o=n.clientHeight;i>o?(n.classList.add("v-truncate-fade"),null===t||void 0===t?void 0:t.classList.remove("v-hidden")):(n.classList.remove("v-truncate-fade"),null===t||void 0===t?void 0:t.classList.add("v-hidden"))});t.addEventListener("click",function(){n.disconnect(),e.classList.remove("v-truncate-fade"),e.classList.add("h-auto","hmx-initial"),t.classList.add("v-hidden")},!1),n.observe(e)}}return{"init":e}}();var StackExchange;!function(e){var t;!function(t){function n(t){t.success?t.redirectUrl?window.location.replace(t.redirectUrl):location.reload():e.helpers.showToast("An error occurred.",{"type":"danger"})}function i(t){-1!==t.indexOf("anon-modal-title")?e.helpers.showModal(t,{"returnElements":$(".js-join-community")}):e.helpers.showToast("An error occurred.",{"type":"danger"})}function o(){a||(a=new r)}var a,r=function(){function t(){var t=$(".js-leave-community");t.on("mouseleave",function(e){$(e.target).text("Joined"),$(e.target).removeClass("s-btn__danger s-btn__filled")}),t.on("mouseenter",function(e){$(e.target).text("Leave"),$(e.target).addClass("s-btn__danger s-btn__filled")});var o=$(".js-join-leave-container"),a=o.find("form"),r=e.options.user.isAnonymous?i:n;a.find(":input[formaction]").on("click",function(t){t.preventDefault();var n=$(t.target).prop("formAction");$.ajax({"type":"post","url":n,"data":{"fkey":e.options.user.fkey,"referrerUrl":document.URL}}).done(r).fail(function(){e.helpers.showToast("An error occurred.",{"type":"danger"})})})}return t}();t.init=o}(t=e.Collectives||(e.Collectives={}))}(StackExchange||(StackExchange={}));var StackExchange;!function(e){function t(e){e.find("input[type=checkbox][name=communitymode]").off("click").one("click",function(){return confirm(function(e){return"Are you sure you want to make this post Community Wiki?"+e.blankLine+"Doing so will remove explicit ownership and you will no longer earn reputation for upvotes on it. Once saved, this option cannot be unchecked without moderator assistance."}({"blankLine":"\n\n"}))})}e.bindCommunityWikiConfirmation=t}(StackExchange||(StackExchange={})),$(document).on("click",".js-feed-link",function(e){var t=$(this),n=t.siblings(".js-feed-link-modal").clone();n.length>0&&(e.preventDefault(),StackExchange.helpers.showModal(n,{"returnElements":t,"shown":function(){n.find(".s-input").focus().select()}}))}),StackExchange.ga=function(){function e(e){try{if(!StackExchange.options.enableLogging)return;console.log("StackExchange.ga: "+e)}catch(t){}}var t,n=0,i=null,o={},a=function(e){e.find("[data-ga]").each(function(){var e=$(this),t=e.is("form"),n=t?"submit":"click";e.on(n,function(){var n=g(e);null!==n&&(d(e,n),t&&f(e,n))})}),e.find("[data-ga-action]").each(function(){var e=$(this);e.on("change",function(){return p(e)})})},r=function(e,n,i){if(t)for(var o=0;o<t.trackingCodes.length;o++){var a=v(o,"set");e&&t.tracker(a,"campaignMedium",e),n&&t.tracker(a,"campaignName",n),i&&t.tracker(a,"campaignSource",i)}},s=function(e,n){if(t)for(var i=0;i<t.trackingCodes.length;i++)t.tracker(v(i,"set"),e,n)},c=function(e){if(t)for(var n=0;n<t.trackingCodes.length;n++)t.tracker(v(n,"set"),"page",e)},l=function(e){if(t)for(var n=0;n<t.trackingCodes.length;n++)t.tracker(v(n,"set"),"title",e)},u=function(n,i,o,a){if(e("track: category: '"+n+"', action: '"+i+"', label: '"+o+"'"),t&&null!=n&&null!=i)for(var r=0;r<t.trackingCodes.length;r++)t.sendTitles||t.tracker(v(r,"set"),"title","Channel Page"),t.tracker(v(r,"send"),"event",n,i,o,void 0,a)},d=function(e,n){t&&(void 0===n&&(n=g(e)),null!==n&&u(n.category,n.action,n.label,n.fields))},h=function(){if(t){var e=window.location.pathname,n=window.location.search;if("undefined"!=typeof URLSearchParams&&n.length){var i=new URLSearchParams(n);i.delete("auth"),i.delete("email"),i.delete("e");var o=i.toString();o.length&&(e+="?"+o)}for(var a=0;a<t.trackingCodes.length;a++)t.sendTitles||t.tracker(v(a,"set"),"title","Channel Page"),t.tracker(v(a,"send"),"pageview",e)}},f=function(e,n){if(t&&(void 0===n&&(n=g(e)),null!==n)){var i=e.attr("id"),a=o[i];if(void 0!==a){for(var r in a){var s=n.inputActionPrefix+" | "+r,c=a[r];u(n.category,s,c,{"nonInteraction":!1})}o[i]={}}}},p=function(e){if(t){var i;i=e.is(":checkbox")?e.is(":checked"):e.is("select")?e.find(":selected").toArray().map(function(e){return $(e).data("ga-value")||$(e).val()}).join(" "):e.data("ga-value")||e.val();var a=e.closest("form");if(0!==a.length&&null!==i){var r=a.attr("id");void 0===r&&(r="ga-form-"+n++,a.attr("id",r));var s=o[r];void 0===s&&(s=o[r]={});var c=e.attr("data-ga-action"),l="false"===e.attr("data-ga-is-pii")?!1:!0,u=l?"PII Omitted":i;s[c]=u}}},g=function(e){var t=e.data("ga");return void 0===t?null:{"category":t[0],"action":t[1],"label":t[2],"inputActionPrefix":t[3],"fields":t[4]}},m=function(e){return"tracker_"+e},v=function(e,t){if(0==e)return t;var n=m(e);return n+"."+t},b=function(){return t?i:void 0};return{"init":function(e){if(e&&e.tracker&&e.trackingCodes&&0!==e.trackingCodes.length){t=e;var n={"allowLinker":!0},o="auto";window.location.host.indexOf("stackexchange.com")>=0&&(o="stackexchange.com"),StackExchange.options.user.accountId&&(n.userId=StackExchange.options.user.accountId.toString()),t.tracker("create",e.trackingCodes[0],o,n),t.autoLink&&t.autoLink.length>0&&(t.tracker("require","linker"),t.tracker("linker:autoLink",e.autoLink)),t.tracker("set","transport","beacon");for(var r=1;r<e.trackingCodes.length;r++)t.tracker("create",e.trackingCodes[r],o,m(r),n);if(e.checkDimension){var s=document.createElement("ins");s.className="AdSense",s.style.display="block",s.style.position="absolute",s.style.top="-1px",s.style.height="1px",document.body.appendChild(s),StackExchange.ga.setDimension(e.checkDimension,s.clientHeight?"0":"1"),document.body.removeChild(s)}a($(document)),t.tracker(function(e){e&&(i=e.get("clientId")),StackExchange.gaInitialized.resolve()})}},"bindHandlers":a,"setCampaign":r,"setDimension":s,"setTitle":l,"setUrl":c,"track":u,"trackElement":d,"trackFormInputs":f,"trackPageView":h,"recordInputChange":p,"getClientId":b}}();var StackExchange;!function(e){var t;!function(t){function n(t,n){var i=new c(t);return t.find(".js-link").click(function(){i.ctaClicked(),n()}),t.find(".js-dismiss").click(function(o){o.preventDefault(),i.dismissed(),n(),"true"===t.attr("data-is-site-sat")&&$.post("/survey/site-satisfaction/dismiss",{"fkey":e.options.user.fkey})}),i}function i(){$(".js-announcement-banner").animate({"height":"0","opacity":0},"fast","linear",function(){$(this).remove()}),$(".js-notice-sidebar-popover").animate({"opacity":0},"fast","linear",function(){$(this).remove()})}function o(){var e=$(".js-announcement-banner");n(e,i)}function a(){function e(){var e=l.height(),t=u[0].getBoundingClientRect().top,n=e-t,i=s;return n>0&&(i=n+s),p.is(":visible")&&(i+=p[0].getBoundingClientRect().height),g.is(":visible")&&(i+=g[0].getBoundingClientRect().height),i}function t(){var e=h[0].getBoundingClientRect().left,t=f.width(),n=a.width(),i=c;return e>t&&(i=e-n-c),Math.max(c,i)}function o(n){a.attr("style","bottom: "+e()+"px !important; left: "+t()+"px !important;"),d&&(n||m.scrollTop()>0)&&(d=!1,a.removeClass("d-none"))}var a=$(".js-notice-sidebar-popover");n(a,i);var r,s=16,c=8,l=$(window),u=$("#footer"),d=!0,h=$("#content"),f=$("#left-sidebar"),p=$("#js-gdpr-consent-banner"),g=$(".js-dismissable-hero"),m=$(".container"),v=function(e){return setTimeout(function(){return o(e)},10)};$(document).on("scroll",function(){clearTimeout(r),r=v(!0,10)});var b;$(window).on("resize",function(){clearTimeout(b),b=v(!1,10)}),v(!0,3e3)}function r(){var t=$(".js-research-banner"),n=new c(t),i=function(){var e=$(this).closest(".research-banner__state");if(!e)return!1;var t=$(".js-research-banner"),n=t.find(".research-banner__state");n.hide();var i=n.index(e),o=$(n.get(i+1));t.removeClass(e.data("propagateClass")),t.addClass(o.data("propagateClass")),o.show()},o=function(t){e.helpers.showToast(t,{"type":"danger","transientTimeout":3e3})};t.find("form.js-submit").submit(function(a){return a.preventDefault(),$.ajax({"type":"POST","url":t.data("cta-url"),"data":{"fkey":e.options.user.fkey}}).done(function(e){e.success?n.ctaClicked():o(e.message)}).fail(o),i.call(this),!1}),t.find(".js-research-dismiss").click(function(){return n.dismissed(),t.remove(),!1}),t.find(".js-research-banner-state .js-research-confirm").click(i)}function s(){var t=$(".js-research-toast"),i=t.attr("data-campaign"),o=n(t,function(){return e.helpers.hideToasts()});t.find(".js-link").click(function(){return e.gps.track("research_toast.click",{"campaign":i})}),t.closest(".js-toast").find(".js-dismiss").click(function(){e.gps.track("research_toast.dismiss",{"campaign":i}),o.dismissed()}),e.gps.track("research_toast.show",{"campaign":i})}var c=function(){function e(e){this.cookieId=e.attr("data-cookie"),this.expireDate=new Date(+e.attr("data-expire-date"))}return e.prototype.setCookie=function(e){$.cookie(this.cookieId,e,{"expires":this.expireDate,"path":"/"})},e.prototype.ctaClicked=function(){this.setCookie("2;"+Date.now())},e.prototype.dismissed=function(){this.setCookie("4;"+Date.now())},e}();t.announcementBannerInit=o,t.sidebarPopoverInit=a,t.researchBannerInit=r,t.researchToastInit=s}(t=e.Notice||(e.Notice={}))}(StackExchange||(StackExchange={}));var StackExchange;!function(e){var t;!function(t){function n(e){e&&($(".js-outdated-yes").on("click",function(){var e=this,t=$(e).data("post-id");i($(e)),a(t)}),$(".js-outdated-no").on("click",function(){var e=$(this).data("post-id");a(e)}))}function i(e){var t=e.closest(".js-outdated-answers").find(".js-modal-container"),n=e.data("post-id");$.ajax({"url":"/posts/outdated/modal/"+n,"dataType":"html","type":"GET","success":function(e){t.html(e),setTimeout(function(){return Stacks.showModal(t.find("#js-outdated-answers-modal")[0])},50),$(".js-submit-outdated-answer").on("click",function(){o(n)})}})}function o(t){var n=0,i=$(".js-outdated-options"),o=i.closest(".js-outdated-answers"),a=o.data("answer-type"),r=o.data("position-on-page"),s=o.data("score");i.find(".s-checkbox:checked").each(function(e,t){var i=$(t).data("answer-flag-value");n|=i}),e.using("gps",function(){e.gps.track("outdated_prompt.yes_detail",{"OutdatedAnswerOptions":n,"AnswerType":a,"PositionOnPage":r,"AnswerId":t,"Score":s})})}function a(e){var t=$(".js-outdated-answers[data-post-id="+e+"]");t.find(".js-outdated-interactions").addClass("d-none"),t.find(".js-outdated-svg").removeClass("native"),t.find(".js-outdated-answer-prompt").text("Thanks for your feedback on this answer.")}t.initAnon=n,t.openModal=i,t.userVoted=a}(t=e.OutdatedAnswers||(e.OutdatedAnswers={}))}(StackExchange||(StackExchange={}));var StackOverflow;!function(e){var t;!function(e){var t;!function(e){e[e.Question=1]="Question",e[e.Answer=2]="Answer",e[e.Wiki=3]="Wiki",e[e.TagWikiExcerpt=4]="TagWikiExcerpt",e[e.TagWiki=5]="TagWiki",e[e.ModeratorNomination=6]="ModeratorNomination",e[e.WikiPlaceholder=7]="WikiPlaceholder",e[e.PrivilegeWiki=8]="PrivilegeWiki",e[e.Article=9]="Article",e[e.HelpArticle=10]="HelpArticle"}(t=e.PostTypeId||(e.PostTypeId={}))}(t=e.Models||(e.Models={}))}(StackOverflow||(StackOverflow={}));var StackExchange;!function(StackExchange){var ads;!function(ads){function init(e,t,n){adReports||(adReports=new AdReports(e,t,n))}var modalClass=".js-ad-report",adReports,AdReports=function(){function AdReports(e,t,n){var i,o=this;if(this.googletag=e,this.adReportUrl=t,this.adReportText=n,this.handleSlotRendered=function(e){if(e&&e.slot){var t=e.slot.getSlotElementId();if(t){var n=$("#"+t),i=n.parent(".js-zone-container").find(".js-report-ad-button-container");if((e.creativeId||e.lineItemId)&&(!clc.options.dh||-1===clc.options.dh.indexOf(e.lineItemId))){var a=$('<button class="js-report-ad s-btn s-btn__link fs-fine mt2 float-right">'+o.adReportText+"</button>");i.append(a),a.data("modal-url",o.adReportUrl),a.data("ad-unit",e.slot.getSlotElementId());var r=JSON.stringify(e);a.data("google-event-data",r),o.initButton(a)}}}},this.googletag.pubads().addEventListener("slotRenderEnded",this.handleSlotRendered),Array.isArray(null===(i=null===clc||void 0===clc?void 0:clc.dfp)||void 0===i?void 0:i.slotsRenderedEvents))for(var a=0;a<clc.dfp.slotsRenderedEvents.length;a++)this.handleSlotRendered(clc.dfp.slotsRenderedEvents[a])}return AdReports.prototype.initButton=function(e){var t=this;e.off().on("click",function(n){n.preventDefault();var i=e.data("modal-url"),o=e.data("google-event-data");return t.loadModal(i,e,o),!1})},AdReports.prototype.loadModal=function(url,$link,googleEventData){var _this=this;StackExchange.helpers.loadModal(url,{"returnElements":$link}).then(function(){_this.initForm(googleEventData)}).fail(function(responseText){var messageHtml="",response=eval("("+responseText+")");messageHtml=response&&response.isLoggedOut?$("<span>").text("Your login session has expired, please login and try again.").html():$("<span>").text("An error occurred when loading the report form - please try again").html(),StackExchange.helpers.showToast(messageHtml,{"type":"danger"})})},AdReports.prototype.removeModal=function(){StackExchange.helpers.closePopups($(modalClass),"dismiss")},AdReports.prototype.initForm=function(e){var t=this,n=$(".js-ad-report-form"),i=n.find(".js-json-data"),o=n.find(".js-ad-report-reason"),a=n.find(".js-ad-report-reason-other"),r=n.find(".js-file-uploader-input"),s=n.find(".js-image-uploader"),c=n.find(".js-clear-image-upload"),l=n.find(".js-image-uploader-text"),u=n.find(".js-image-uploader-preview"),d=n.find(".js-image-uploader-link"),h=n.find(".js-file-error"),f=["image/png","image/jpg","image/jpeg"],p=n.find(".js-drag-drop-enabled"),g=n.find(".js-drag-drop-disabled");d.on("click",function(e){e.preventDefault(),r.trigger("click")}),i.val(e),o.on("change",function(e){a.toggleClass("d-none","3"!==$(e.target).val())});var m=function(e){e.preventDefault(),e.stopPropagation()},v=function(){s.removeClass("bas-dashed"),s.addClass("bas-solid bc-black-100")},b=function(){s.removeClass("bas-solid bc-black-100"),s.addClass("bas-dashed")},y=function(e){var t=e.originalEvent.dataTransfer.files;if(FileReader&&t&&1===t.length){var n=r[0];n.files=t,k()&&x(t)}};r.change(function(){var e=r[0];k()&&x(e.files)});var k=function(){var e="Please select a PNG or JPG file",t="The file must be under 2 MiB",n=r[0];if(null==n.files)return!1;var i=n.files[0];return null==i?(w(!0),!1):f.indexOf(i.type)<0?(h.text(e),h.removeClass("d-none"),w(!0),!1):i.size>2097152?(h.text(t),h.removeClass("d-none"),w(!0),!1):(h.addClass("d-none"),w(!1),!0)},w=function(e){h.parent().toggleClass("has-error",e)},x=function(e){s.removeClass("p16 ba bas-dashed bc-black-100"),c.removeClass("d-none"),l.addClass("d-none");var t=new FileReader;t.onload=function(e){null!=e.target&&(u.prop("src",e.target.result),u.removeClass("d-none"))},t.readAsDataURL(e[0])};c.on("click",function(e){e.preventDefault(),r.val(""),u.prop("src",""),u.addClass("d-none"),c.addClass("d-none"),l.removeClass("d-none"),s.addClass("p16 ba bas-dashed bc-black-100")});try{var S=r[0];S.files=null,s.on("dragenter dragover dragleave drop",m),s.on("dragenter dragover",v),s.on("dragleave drop",b),s.on("drop",y)}catch(C){p.addClass("d-none"),g.removeClass("d-none")}n.off().on("submit",function(e){if(e.preventDefault(),!k())return!1;n.find("[type=submit]").prop("disabled",!0);var o=JSON.parse(i.val()||"{}");o.Reason=parseInt(n.find(".js-ad-report-reason:checked").val(),10),o.Description=a.val(),i.val(JSON.stringify(o));var r=new FormData(n[0]);return $.ajax({"type":n.prop("method"),"url":n.prop("action"),"data":r,"cache":!1,"contentType":!1,"processData":!1}).then(function(e,n,i){var o=i.getResponseHeader("content-type")||"";if("string"==typeof e&&0==o.indexOf("text/html")){var a=$(e).find(".js-modal-content");a.length>0&&$(".js-modal-content").replaceWith(a)}else t.removeModal(),StackExchange.helpers.showToast("Thanks for your feedback. We’ll review this against our code of conduct and take action if necessary.",{"type":"success"})},function(){StackExchange.helpers.showToast("Error uploading ad report.",{"type":"danger"})}).always(function(){n.find("[type=submit]").prop("disabled",!1)}),!1})},AdReports}();ads.init=init}(ads=StackExchange.ads||(StackExchange.ads={}))}(StackExchange||(StackExchange={}));var StackExchange;!function(e){var t;!function(t){function n(n){var i=$('\n<aside class="s-modal" role="dialog" aria-labelledby="confirm-modal-title" aria-describedby="confirm-modal-body" aria-hidden="true">\n    <div class="s-modal--dialog ps-relative" data-controller="se-draggable" role="document">\n        <h1 class="s-modal--header fw-bold" id="confirm-modal-title" data-se-draggable-target="handle"></h1>\n        <div class="s-modal--body fs-body2" id="confirm-modal-body"></div>\n        <div class="d-flex gs8 gsx s-modal--footer">\n            <button class="flex--item s-btn js-ok-button s-btn__primary" type="button"></button>\n            <button class="flex--item s-btn js-cancel-button js-modal-close js-modal-initial-focus" type="button"></button>\n        </div>\n    </div>\n</aside>\n'),o=function(e,t,n){var o=i.find(e);
t?o.append(t):n&&o.text(n)};return o("#confirm-modal-title",n.titleHtml,n.title),o("#confirm-modal-body",n.bodyHtml,n.body),o(".js-ok-button",n.buttonLabelHtml,n.buttonLabel||"OK"),o(".js-cancel-button",void 0,"Cancel"),new Promise(function(o){t.showModal(i,n),i.find(".js-ok-button").click(function(t){t.preventDefault(),o(!0),e.helpers.closePopups(i,"dismiss")}),i.on("popupClose",function(){return o(!1)})})}t.showConfirmModal=n}(t=e.helpers||(e.helpers={}))}(StackExchange||(StackExchange={}));var Svg=function(){function e(){}return e.GetImage=function(){return e._placeholder||(e._placeholder=function(){throw"Svg icon getters must be initialized before an icon can be retrieved"},e._placeholder.With=e._placeholder),e._placeholder},e.init=function(t,n){function i(t){var n=function(){return e.get(t)};return n.With=function(n){var i=e.get(t);return i.addClass(n),i},n}"/"!==t[t.length-1]&&(t+="/"),e.rootPath=t,e.cacheBreaker=n;var o=[];for(var a in e)e.hasOwnProperty(a)&&e[a]===e._placeholder&&o.push(a);for(var r=0;r<o.length;r++)e[o[r]]=i(o[r])},e.ensureCSS=function(){if(!e.cssAdded){var t=document.createElement("style");t.setAttribute("type","text/css"),t.textContent=".svg-skeleton-element-during-loading { display: none !important; }",document.head&&(document.head.appendChild(t),e.cssAdded=!0)}},e.get=function(t){e.ensureCSS();var n,i=e.cache[t];if("string"==typeof i){var o=document.createElement("div");o.innerHTML=i;var a=o.children[0];return o.removeChild(a),$(a)}i&&i.done?n=i:(n=$.ajax({"url":e.rootPath+t+".svg","data":{"v":e.cacheBreaker},"cache":!0,"dataType":"text"}),e.cache[t]=n);var r=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=$(r);return s.addClass("svg-skeleton-element-during-loading"),n.done(function(n){n=n||"",e.cache[t]=n;for(var i=$("<div>"+n+"</div>"),o=i.children()[0];o.attributes.length;){var a=o.attributes[0];if(o.removeAttributeNode(a),"class"===a.name)s.addClass(a.value);else{var c=a.namespaceURI?r.hasAttributeNS(a.namespaceURI,a.name):r.hasAttribute(a.name);c||r.setAttributeNodeNS(a)}}for(;o.childNodes.length;){var l=o.childNodes[0];o.removeChild(l),r.appendChild(l)}s.removeClass("svg-skeleton-element-during-loading")}),s},e.Achievements=e.GetImage(),e.AchievementsSm=e.GetImage(),e.Alert=e.GetImage(),e.AlertCircle=e.GetImage(),e.AlertCircleSm=e.GetImage(),e.AlertSm=e.GetImage(),e.Answer=e.GetImage(),e.Approve=e.GetImage(),e.ArrowDoubleDown=e.GetImage(),e.ArrowDoubleUp=e.GetImage(),e.ArrowDown=e.GetImage(),e.ArrowDownAlt=e.GetImage(),e.ArrowDownLg=e.GetImage(),e.ArrowDownSm=e.GetImage(),e.ArrowLeft=e.GetImage(),e.ArrowLeftAlt=e.GetImage(),e.ArrowLeftSm=e.GetImage(),e.ArrowRight=e.GetImage(),e.ArrowRightAlt=e.GetImage(),e.ArrowRightAltSm=e.GetImage(),e.ArrowRightSm=e.GetImage(),e.ArrowUp=e.GetImage(),e.ArrowUpAlt=e.GetImage(),e.ArrowUpDown=e.GetImage(),e.ArrowUpDownSm=e.GetImage(),e.ArrowUpLg=e.GetImage(),e.ArrowUpSm=e.GetImage(),e.Badge=e.GetImage(),e.Balloon=e.GetImage(),e.Bell=e.GetImage(),e.Bold=e.GetImage(),e.Book=e.GetImage(),e.Briefcase=e.GetImage(),e.BriefcaseSm=e.GetImage(),e.Bullhorn=e.GetImage(),e.BullhornSm=e.GetImage(),e.Calendar=e.GetImage(),e.Chair=e.GetImage(),e.Checkmark=e.GetImage(),e.CheckmarkLg=e.GetImage(),e.CheckmarkSm=e.GetImage(),e.Clap=e.GetImage(),e.Clear=e.GetImage(),e.ClearSm=e.GetImage(),e.Clock=e.GetImage(),e.Code=e.GetImage(),e.Coins=e.GetImage(),e.Columns=e.GetImage(),e.Computer=e.GetImage(),e.Copy=e.GetImage(),e.CreditCard=e.GetImage(),e.Crosshairs=e.GetImage(),e.Currency=e.GetImage(),e.DevTo=e.GetImage(),e.Document=e.GetImage(),e.Download=e.GetImage(),e.DownloadSm=e.GetImage(),e.Dropbox=e.GetImage(),e.EllipsisHorizontal=e.GetImage(),e.EllipsisVertical=e.GetImage(),e.Eye=e.GetImage(),e.EyeOff=e.GetImage(),e.Eyes=e.GetImage(),e.Facebook=e.GetImage(),e.FaceFrown=e.GetImage(),e.FaceJoy=e.GetImage(),e.FaceMindBlown=e.GetImage(),e.FaceNeutral=e.GetImage(),e.FaceSad=e.GetImage(),e.FaceShocked=e.GetImage(),e.FaceSmile=e.GetImage(),e.Female=e.GetImage(),e.Fire=e.GetImage(),e.FireSm=e.GetImage(),e.Fitness=e.GetImage(),e.Flag=e.GetImage(),e.FlagSm=e.GetImage(),e.Float=e.GetImage(),e.Food=e.GetImage(),e.Gear=e.GetImage(),e.GearSm=e.GetImage(),e.GitHub=e.GetImage(),e.Gitlab=e.GetImage(),e.Globe=e.GetImage(),e.Google=e.GetImage(),e.GoogleDrive=e.GetImage(),e.Grabber=e.GetImage(),e.Graph=e.GetImage(),e.Grid=e.GetImage(),e.Hamburger=e.GetImage(),e.HandNice=e.GetImage(),e.HandPointRight=e.GetImage(),e.HandRock=e.GetImage(),e.HandsTogether=e.GetImage(),e.Header=e.GetImage(),e.Health=e.GetImage(),e.Heart=e.GetImage(),e.Help=e.GetImage(),e.HelpSm=e.GetImage(),e.History=e.GetImage(),e.Home=e.GetImage(),e.HorizontalRule=e.GetImage(),e.Hundred=e.GetImage(),e.Image=e.GetImage(),e.Inbox=e.GetImage(),e.Indent=e.GetImage(),e.Industry=e.GetImage(),e.Info=e.GetImage(),e.InfoSm=e.GetImage(),e.International=e.GetImage(),e.Italic=e.GetImage(),e.Jira=e.GetImage(),e.Key=e.GetImage(),e.Laptop=e.GetImage(),e.LaunchPad=e.GetImage(),e.Lightbulb=e.GetImage(),e.Link=e.GetImage(),e.LinkedIn=e.GetImage(),e.Location=e.GetImage(),e.Lock=e.GetImage(),e.LockSm=e.GetImage(),e.Logo=e.GetImage(),e.LogoEnterprise=e.GetImage(),e.LogoEnterpriseWordmarkSm=e.GetImage(),e.LogoGlyph=e.GetImage(),e.LogoGlyphMd=e.GetImage(),e.LogoGlyphSm=e.GetImage(),e.LogoGlyphXSm=e.GetImage(),e.LogoGlyphXxs=e.GetImage(),e.LogoJobs=e.GetImage(),e.LogoMd=e.GetImage(),e.LogoSE=e.GetImage(),e.LogoSEAlternativeSm=e.GetImage(),e.LogoSEGlyphMd=e.GetImage(),e.LogoSEXxs=e.GetImage(),e.LogoSm=e.GetImage(),e.LogoTalent=e.GetImage(),e.LogoTeams=e.GetImage(),e.LogoTeamsAlt=e.GetImage(),e.LogoTeamsAltMd=e.GetImage(),e.LogoWordmark=e.GetImage(),e.LogoWordmarkMd=e.GetImage(),e.LogoWordmarkSm=e.GetImage(),e.Mail=e.GetImage(),e.Medal=e.GetImage(),e.Merge=e.GetImage(),e.Message=e.GetImage(),e.Microsoft=e.GetImage(),e.Migrate=e.GetImage(),e.Milestone=e.GetImage(),e.Minus=e.GetImage(),e.MinusSm=e.GetImage(),e.Moderator=e.GetImage(),e.ModeratorSm=e.GetImage(),e.Money=e.GetImage(),e.NotInterested=e.GetImage(),e.OpenSource=e.GetImage(),e.OrderedList=e.GetImage(),e.Outdent=e.GetImage(),e.Paperclip=e.GetImage(),e.Peak=e.GetImage(),e.Pencil=e.GetImage(),e.PencilSm=e.GetImage(),e.People=e.GetImage(),e.Person=e.GetImage(),e.Phone=e.GetImage(),e.Play=e.GetImage(),e.Plus=e.GetImage(),e.PlusOne=e.GetImage(),e.PlusSm=e.GetImage(),e.PromoteDemote=e.GetImage(),e.Question=e.GetImage(),e.Quote=e.GetImage(),e.Refresh=e.GetImage(),e.RefreshSm=e.GetImage(),e.Relocation=e.GetImage(),e.Remote=e.GetImage(),e.ReviewQueue=e.GetImage(),e.Rss=e.GetImage(),e.School=e.GetImage(),e.SchoolSm=e.GetImage(),e.Search=e.GetImage(),e.SearchSm=e.GetImage(),e.Share=e.GetImage(),e.ShareSm=e.GetImage(),e.Shield=e.GetImage(),e.ShieldSm=e.GetImage(),e.ShieldXSm=e.GetImage(),e.Skull=e.GetImage(),e.Slack=e.GetImage(),e.SmartPhone=e.GetImage(),e.SOS=e.GetImage(),e.SpeechBubble=e.GetImage(),e.SpeechBubbleError=e.GetImage(),e.SpeechBubbleSm=e.GetImage(),e.StackExchange=e.GetImage(),e.Star=e.GetImage(),e.Stroller=e.GetImage(),e.Subway=e.GetImage(),e.Sync=e.GetImage(),e.Tack=e.GetImage(),e.Tada=e.GetImage(),e.ThumbsDown=e.GetImage(),e.ThumbsUp=e.GetImage(),e.TIL=e.GetImage(),e.Tool=e.GetImage(),e.Trash=e.GetImage(),e.TrashSm=e.GetImage(),e.TrendingDown=e.GetImage(),e.TrendingNone=e.GetImage(),e.TrendingUp=e.GetImage(),e.Twitter=e.GetImage(),e.Undo=e.GetImage(),e.UndoSm=e.GetImage(),e.UnorderedList=e.GetImage(),e.Vacation=e.GetImage(),e.VK=e.GetImage(),e.Wave=e.GetImage(),e.Yandex=e.GetImage(),e.cache=Object.create(null),e.cssAdded=!1,e}();!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,t(e.Stimulus={}))}(this,function(e){function t(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{"immediatePropagationStopped":!1,"stopImmediatePropagation":function(){this.immediatePropagationStopped=!0,t.call(this)}})}function n(e){var t=e.trim(),n=t.match(H)||[];return{"eventTarget":i(n[4]),"eventName":n[2],"eventOptions":n[9]?o(n[9]):{},"identifier":n[5],"methodName":n[7]}}function i(e){return"window"==e?window:"document"==e?document:void 0}function o(e){return e.split(":").reduce(function(e,t){var n;return Object.assign(e,(n={},n[t.replace(/^!/,"")]=!/^!/.test(t),n))},{})}function a(e){return e==window?"window":e==document?"document":void 0}function r(e){var t=e.tagName.toLowerCase();return t in G?G[t](e):void 0}function s(e){throw new Error(e)}function c(e,t,n){u(e,t).add(n)}function l(e,t,n){u(e,t).delete(n),d(e,t)}function u(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}function d(e,t){var n=e.get(t);null!=n&&0==n.size&&e.delete(t)}function h(e,t,n){return e.trim().split(/\s+/).filter(function(e){return e.length}).map(function(e,i){return{"element":t,"attributeName":n,"content":e,"index":i}})}function f(e,t){var n=Math.max(e.length,t.length);return Array.from({"length":n},function(n,i){return[e[i],t[i]]})}function p(e,t){return e&&t&&e.index==t.index&&e.content==t.content}function g(e,t){var n=v(e);return Array.from(n.reduce(function(e,n){return b(n,t).forEach(function(t){return e.add(t)}),e},new Set))}function m(e,t){var n=v(e);return n.reduce(function(e,n){return e.push.apply(e,y(n,t)),e},[])}function v(e){for(var t=[];e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}function b(e,t){var n=e[t];return Array.isArray(n)?n:[]}function y(e,t){var n=e[t];return n?Object.keys(n).map(function(e){return[e,n[e]]}):[]}function k(e){return w(e,x(e))}function w(e,t){var n=st(e),i=S(e.prototype,t);return Object.defineProperties(n.prototype,i),n}function x(e){var t=g(e,"blessings");return t.reduce(function(t,n){var i=n(e);for(var o in i){var a=t[o]||{};t[o]=Object.assign(a,i[o])}return t},{})}function S(e,t){return rt(t).reduce(function(n,i){var o,a=C(e,t,i);return a&&Object.assign(n,(o={},o[i]=a,o)),n},{})}function C(e,t,n){var i=Object.getOwnPropertyDescriptor(e,n),o=i&&"value"in i;if(!o){var a=Object.getOwnPropertyDescriptor(t,n).value;return i&&(a.get=i.get||a.get,a.set=i.set||a.set),a}}function $(e){return{"identifier":e.identifier,"controllerConstructor":k(e.controllerConstructor)}}function _(e){return e.replace(/(?:[_-])([a-z0-9])/g,function(e,t){return t.toUpperCase()})}function j(e){return e.charAt(0).toUpperCase()+e.slice(1)}function E(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function T(e,t){return"["+e+'~="'+t+'"]'}function M(){return new Promise(function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})}function O(e){var t=g(e,"classes");return t.reduce(function(e,t){return Object.assign(e,A(t))},{})}function A(e){var t,n=e+"Class";return t={},t[n]={"get":function(){var t=this.classes;if(t.has(e))return t.get(e);var n=t.getAttributeName(e);throw new Error('Missing attribute "'+n+'"')}},t["has"+j(n)]={"get":function(){return this.classes.has(e)}},t}function P(e){var t=g(e,"targets");return t.reduce(function(e,t){return Object.assign(e,I(t))},{})}function I(e){var t;return t={},t[e+"Target"]={"get":function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+e+'"')}},t[e+"Targets"]={"get":function(){return this.targets.findAll(e)}},t["has"+j(e)+"Target"]={"get":function(){return this.targets.has(e)}},t}function D(e){var t=m(e,"values"),n={"valueDescriptorMap":{"get":function(){var e=this;return t.reduce(function(t,n){var i,o=L(n),a=e.data.getAttributeNameForKey(o.key);return Object.assign(t,(i={},i[a]=o,i))},{})}}};return t.reduce(function(e,t){return Object.assign(e,F(t))},n)}function F(e){var t,n=L(e),i=n.type,o=n.key,a=n.name,r=Ct[i],s=$t[i]||$t.default;return t={},t[a]={"get":function(){var e=this.data.get(o);return null!==e?r(e):n.defaultValue},"set":function(e){void 0===e?this.data.delete(o):this.data.set(o,s(e))}},t["has"+j(a)]={"get":function(){return this.data.has(o)}},t}function L(e){var t=e[0],n=e[1],i=R(n);return N(t,i)}function R(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}throw new Error('Unknown value type constant "'+e+'"')}function N(e,t){var n=E(e)+"-value";return{"type":t,"key":n,"name":_(n),get defaultValue(){return St[t]}}}function V(e){return JSON.stringify(e)}function U(e){return""+e}var B=function(){function e(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings.delete(e)},e.prototype.handleEvent=function(e){for(var n=t(e),i=0,o=this.bindings;i<o.length;i++){var a=o[i];if(n.immediatePropagationStopped)break;a.handleEvent(n)}},Object.defineProperty(e.prototype,"bindings",{"get":function(){return Array.from(this.unorderedBindings).sort(function(e,t){var n=e.index,i=t.index;return i>n?-1:n>i?1:0})},"enumerable":!1,"configurable":!0}),e}(),q=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(e.prototype,"eventListeners",{"get":function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,t){return e.concat(Array.from(t.values()))},[])},"enumerable":!1,"configurable":!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName,i=e.eventOptions;return this.fetchEventListener(t,n,i)},e.prototype.fetchEventListener=function(e,t,n){var i=this.fetchEventListenerMapForEventTarget(e),o=this.cacheKey(t,n),a=i.get(o);return a||(a=this.createEventListener(e,t,n),i.set(o,a)),a},e.prototype.createEventListener=function(e,t,n){var i=new B(e,t,n);return this.started&&i.connect(),i},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e.prototype.cacheKey=function(e,t){var n=[e];return Object.keys(t).sort().forEach(function(e){n.push(""+(t[e]?"":"!")+e)}),n.join(":")},e}(),H=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/,W=function(){function e(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||r(e)||s("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||s("missing identifier"),this.methodName=n.methodName||s("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,n(e.content))},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{"get":function(){return a(this.eventTarget)},"enumerable":!1,"configurable":!0}),e}(),G={"a":function(){return"click"},"button":function(){return"click"},"form":function(){return"submit"},"input":function(e){return"submit"==e.getAttribute("type")?"click":"input"},"select":function(){return"change"},"textarea":function(){return"input"}},z=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{"get":function(){return this.action.index},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"eventTarget",{"get":function(){return this.action.eventTarget},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"eventOptions",{"get":function(){return this.action.eventOptions},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.context.identifier},"enumerable":!1,"configurable":!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{"get":function(){return this.action.eventName},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"method",{"get":function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},"enumerable":!1,"configurable":!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(t){var n=this,i=n.identifier,o=n.controller,a=n.element,r=n.index,s={"identifier":i,"controller":o,"element":a,"index":r,"event":e};this.context.handleError(t,'invoking action "'+this.action+'"',s)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)},Object.defineProperty(e.prototype,"controller",{"get":function(){return this.context.controller},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"methodName",{"get":function(){return this.action.methodName},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"scope",{"get":function(){return this.context.scope},"enumerable":!1,"configurable":!0}),e}(),Y=function(){function e(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{"attributes":!0,"childList":!0,"subtree":!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var i=n[t];e.has(i)||this.removeElement(i)}for(var o=0,a=Array.from(e);o<a.length;o++){var i=a[o];this.addElement(i)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var i=n[t];this.processMutation(i)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},e.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t],o=this.elementFromNode(i);o&&this.processTree(o,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var i=n[t],o=this.elementFromNode(i);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var n=0,i=this.matchElementsInTree(e);n<i.length;n++){var o=i[n];t.call(this,o)}},e.prototype.elementFromNode=function(e){return e.nodeType==Node.ELEMENT_NODE?e:void 0},e.prototype.elementIsActive=function(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),K=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new Y(e,this)}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.elementObserver.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"selector",{"get":function(){return"["+this.attributeName+"]"},"enumerable":!1,"configurable":!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{"get":function(){return this.elementObserver.started},"enumerable":!1,"configurable":!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}(),Q=function(){function e(e,t){var n=this;this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{"attributes":!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started)for(var e=0,t=this.knownAttributeNames;e<t.length;e++){var n=t[e];this.refreshAttribute(n)}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var i=n[t];this.processMutation(i)}},e.prototype.processMutation=function(e){var t=e.attributeName;t&&this.refreshAttribute(t)},e.prototype.refreshAttribute=function(e){var t=this.delegate.getStringMapKeyForAttribute(e);if(null!=t){this.stringMap.has(e)||this.stringMapKeyAdded(t,e);var n=this.element.getAttribute(e);this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,t),null==n?(this.stringMap.delete(e),this.stringMapKeyRemoved(t,e)):this.stringMap.set(e,n)}},e.prototype.stringMapKeyAdded=function(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)},e.prototype.stringMapValueChanged=function(e,t){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t)},e.prototype.stringMapKeyRemoved=function(e,t){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t)},Object.defineProperty(e.prototype,"knownAttributeNames",{"get":function(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"currentAttributeNames",{"get":function(){return Array.from(this.element.attributes).map(function(e){return e.name})},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"recordedAttributeNames",{"get":function(){return Array.from(this.stringMap.keys())},"enumerable":!1,"configurable":!0}),e}(),J=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{"get":function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(e,t){return e.concat(Array.from(t))},[])},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"size",{"get":function(){var e=Array.from(this.valuesByKey.values());return e.reduce(function(e,t){return e+t.size},0)},"enumerable":!1,"configurable":!0}),e.prototype.add=function(e,t){c(this.valuesByKey,e,t)},e.prototype.delete=function(e,t){l(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){var t=Array.from(this.valuesByKey.values());return t.some(function(t){return t.has(e)})},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter(function(t){var n=(t[0],t[1]);return n.has(e)}).map(function(e){{var t=e[0];e[1]}return t})},e}(),Z=window&&window.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),X=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}return Z(t,e),Object.defineProperty(t.prototype,"values",{"get":function(){return Array.from(this.keysByValue.keys())},"enumerable":!1,"configurable":!0}),t.prototype.add=function(t,n){e.prototype.add.call(this,t,n),c(this.keysByValue,n,t)},t.prototype.delete=function(t,n){e.prototype.delete.call(this,t,n),l(this.keysByValue,n,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]},t}(J),function(){function e(e,t,n){this.attributeObserver=new K(e,t,this),this.delegate=n,this.tokensByElement=new J}return Object.defineProperty(e.prototype,"started",{"get":function(){return this.attributeObserver.started},"enumerable":!1,"configurable":!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.attributeObserver.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"attributeName",{"get":function(){return this.attributeObserver.attributeName},"enumerable":!1,"configurable":!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],i=t[1];this.tokensUnmatched(n),this.tokensMatched(i)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach(function(e){return t.tokenMatched(e)})},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach(function(e){return t.tokenUnmatched(e)})},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)},e.prototype.refreshTokensForElement=function(e){var t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),i=f(t,n).findIndex(function(e){var t=e[0],n=e[1];return!p(t,n)});return-1==i?[[],[]]:[t.slice(i),n.slice(i)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName,n=e.getAttribute(t)||"";return h(n,e,t)},e}()),et=function(){function e(e,t,n){this.tokenListObserver=new X(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{"get":function(){return this.tokenListObserver.started},"enumerable":!1,"configurable":!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.tokenListObserver.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"attributeName",{"get":function(){return this.tokenListObserver.attributeName},"enumerable":!1,"configurable":!0}),e.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},e.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{var t=this.delegate.parseValueForToken(e);return{"value":t}}catch(n){return{"error":n}}},e}(),tt=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new et(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{"get":function(){return this.context.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.context.identifier},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"actionAttribute",{"get":function(){return this.schema.actionAttribute},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.context.schema},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"bindings",{"get":function(){return Array.from(this.bindingsByAction.values())},"enumerable":!1,"configurable":!0}),e.prototype.connectAction=function(e){var t=new z(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach(function(t){return e.delegate.bindingDisconnected(t)}),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=W.forToken(e);return t.identifier==this.identifier?t:void 0},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),nt=function(){function e(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new Q(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}return e.prototype.start=function(){this.stringMapObserver.start()},e.prototype.stop=function(){this.stringMapObserver.stop()},Object.defineProperty(e.prototype,"element",{"get":function(){return this.context.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"controller",{"get":function(){return this.context.controller},"enumerable":!1,"configurable":!0}),e.prototype.getStringMapKeyForAttribute=function(e){return e in this.valueDescriptorMap?this.valueDescriptorMap[e].name:void 0},e.prototype.stringMapValueChanged=function(e,t){this.invokeChangedCallbackForValue(t)
},e.prototype.invokeChangedCallbacksForDefaultValues=function(){for(var e=0,t=this.valueDescriptors;e<t.length;e++){var n=t[e],i=n.key,o=n.name,a=n.defaultValue;void 0==a||this.controller.data.has(i)||this.invokeChangedCallbackForValue(o)}},e.prototype.invokeChangedCallbackForValue=function(e){var t=e+"Changed",n=this.receiver[t];if("function"==typeof n){var i=this.receiver[e];n.call(this.receiver,i)}},Object.defineProperty(e.prototype,"valueDescriptors",{"get":function(){var e=this.valueDescriptorMap;return Object.keys(e).map(function(t){return e[t]})},"enumerable":!1,"configurable":!0}),e}(),it=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new tt(this,this.dispatcher),this.valueObserver=new nt(this,this.controller);try{this.controller.initialize()}catch(n){this.handleError(n,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start(),this.valueObserver.start();try{this.controller.connect()}catch(e){this.handleError(e,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(e){this.handleError(e,"disconnecting controller")}this.valueObserver.stop(),this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{"get":function(){return this.module.application},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.module.identifier},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.application.schema},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"dispatcher",{"get":function(){return this.application.dispatcher},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"parentElement",{"get":function(){return this.element.parentElement},"enumerable":!1,"configurable":!0}),e.prototype.handleError=function(e,t,n){void 0===n&&(n={});var i=this,o=i.identifier,a=i.controller,r=i.element;n=Object.assign({"identifier":o,"controller":a,"element":r},n),this.application.handleError(e,"Error "+t,n)},e}(),ot=window&&window.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),at=window&&window.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;n>t;t++)for(var a=arguments[t],r=0,s=a.length;s>r;r++,o++)i[o]=a[r];return i},rt=function(){return"function"==typeof Object.getOwnPropertySymbols?function(e){return at(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames}(),st=function(){function e(e){function t(){var n=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,n)}return t.prototype=Object.create(e.prototype,{"constructor":{"value":t}}),Reflect.setPrototypeOf(t,e),t}function t(){var t=function(){this.a.call(this)},n=e(t);return n.prototype.a=function(){},new n}try{return t(),e}catch(n){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ot(t,e),t}(e)}}}(),ct=function(){function e(e,t){this.application=e,this.definition=$(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.definition.identifier},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"controllerConstructor",{"get":function(){return this.definition.controllerConstructor},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"contexts",{"get":function(){return Array.from(this.connectedContexts)},"enumerable":!1,"configurable":!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new it(this,e),this.contextsByScope.set(e,t)),t},e}(),lt=function(){function e(e){this.scope=e}return e.prototype.has=function(e){return this.data.has(this.getDataKey(e))},e.prototype.get=function(e){return this.data.get(this.getDataKey(e))},e.prototype.getAttributeName=function(e){return this.data.getAttributeNameForKey(this.getDataKey(e))},e.prototype.getDataKey=function(e){return e+"-class"},Object.defineProperty(e.prototype,"data",{"get":function(){return this.scope.data},"enumerable":!1,"configurable":!0}),e}(),ut=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!1,"configurable":!0}),e.prototype.get=function(e){var t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)},e.prototype.set=function(e,t){var n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)},e.prototype.has=function(e){var t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)},e.prototype.delete=function(e){if(this.has(e)){var t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1},e.prototype.getAttributeNameForKey=function(e){return"data-"+this.identifier+"-"+E(e)},e}(),dt=function(){function e(e){this.warnedKeysByObject=new WeakMap,this.logger=e}return e.prototype.warn=function(e,t,n){var i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(n,e))},e}(),ht=window&&window.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;n>t;t++)for(var a=arguments[t],r=0,s=a.length;s>r;r++,o++)i[o]=a[r];return i},ft=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.scope.schema},"enumerable":!1,"configurable":!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(function(t,n){return t||e.findTarget(n)||e.findLegacyTarget(n)},void 0)},e.prototype.findAll=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(function(t,n){return ht(t,e.findAllTargets(n),e.findAllLegacyTargets(n))},[])},e.prototype.findTarget=function(e){var t=this.getSelectorForTargetName(e);return this.scope.findElement(t)},e.prototype.findAllTargets=function(e){var t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)},e.prototype.getSelectorForTargetName=function(e){var t="data-"+this.identifier+"-target";return T(t,e)},e.prototype.findLegacyTarget=function(e){var t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)},e.prototype.findAllLegacyTargets=function(e){var t=this,n=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(n).map(function(n){return t.deprecate(n,e)})},e.prototype.getLegacySelectorForTargetName=function(e){var t=this.identifier+"."+e;return T(this.schema.targetAttribute,t)},e.prototype.deprecate=function(e,t){if(e){var n=this.identifier,i=this.schema.targetAttribute;this.guide.warn(e,"target:"+t,"Please replace "+i+'="'+n+"."+t+'" with data-'+n+'-target="'+t+'". '+("The "+i+" attribute is deprecated and will be removed in a future version of Stimulus."))}return e},Object.defineProperty(e.prototype,"guide",{"get":function(){return this.scope.guide},"enumerable":!1,"configurable":!0}),e}(),pt=window&&window.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;n>t;t++)for(var a=arguments[t],r=0,s=a.length;s>r;r++,o++)i[o]=a[r];return i},gt=function(){function e(e,t,n,i){var o=this;this.targets=new ft(this),this.classes=new lt(this),this.data=new ut(this),this.containsElement=function(e){return e.closest(o.controllerSelector)===o.element},this.schema=e,this.element=t,this.identifier=n,this.guide=new dt(i)}return e.prototype.findElement=function(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)},e.prototype.findAllElements=function(e){return pt(this.element.matches(e)?[this.element]:[],this.queryElements(e).filter(this.containsElement))},e.prototype.queryElements=function(e){return Array.from(this.element.querySelectorAll(e))},Object.defineProperty(e.prototype,"controllerSelector",{"get":function(){return T(this.schema.controllerAttribute,this.identifier)},"enumerable":!1,"configurable":!0}),e}(),mt=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new et(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{"get":function(){return this.schema.controllerAttribute},"enumerable":!1,"configurable":!0}),e.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,i=this.fetchScopesByIdentifierForElement(t),o=i.get(n);return o||(o=this.delegate.createScopeForElementAndIdentifier(t,n),i.set(n,o)),o},e.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),vt=function(){function e(e){this.application=e,this.scopeObserver=new mt(this.element,this.schema,this),this.scopesByIdentifier=new J,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{"get":function(){return this.application.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"schema",{"get":function(){return this.application.schema},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"logger",{"get":function(){return this.application.logger},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"controllerAttribute",{"get":function(){return this.schema.controllerAttribute},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"modules",{"get":function(){return Array.from(this.modulesByIdentifier.values())},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"contexts",{"get":function(){return this.modules.reduce(function(e,t){return e.concat(t.contexts)},[])},"enumerable":!1,"configurable":!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new ct(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);return n?n.contexts.find(function(t){return t.element==e}):void 0},e.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},e.prototype.createScopeForElementAndIdentifier=function(e,t){return new gt(this.schema,e,t,this.logger)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier.delete(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e);var t=this.scopesByIdentifier.getValuesForKey(e.identifier);t.forEach(function(t){return e.connectContextForScope(t)})},e.prototype.disconnectModule=function(e){this.modulesByIdentifier.delete(e.identifier);var t=this.scopesByIdentifier.getValuesForKey(e.identifier);t.forEach(function(t){return e.disconnectContextForScope(t)})},e}(),bt={"controllerAttribute":"data-controller","actionAttribute":"data-action","targetAttribute":"data-target"},yt=window&&window.__awaiter||function(e,t,n,i){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function r(e){try{c(i.next(e))}catch(t){a(t)}}function s(e){try{c(i["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):o(e.value).then(r,s)}c((i=i.apply(e,t||[])).next())})},kt=window&&window.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(r=2&n[0]?a["return"]:n[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return c.label++,{"value":n[1],"done":!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){c.label=n[1];break}if(6===n[0]&&c.label<r[1]){c.label=r[1],r=n;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(n);break}r[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(i){n=[6,i],a=0}finally{o=r=0}if(5&n[0])throw n[1];return{"value":n[0]?n[1]:void 0,"done":!0}}var o,a,r,s,c={"label":0,"sent":function(){if(1&r[0])throw r[1];return r[1]},"trys":[],"ops":[]};return s={"next":n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},wt=window&&window.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;n>t;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;n>t;t++)for(var a=arguments[t],r=0,s=a.length;s>r;r++,o++)i[o]=a[r];return i},xt=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=bt),this.logger=console,this.element=e,this.schema=t,this.dispatcher=new q(this),this.router=new vt(this)}return e.start=function(t,n){var i=new e(t,n);return i.start(),i},e.prototype.start=function(){return yt(this,void 0,void 0,function(){return kt(this,function(e){switch(e.label){case 0:return[4,M()];case 1:return e.sent(),this.dispatcher.start(),this.router.start(),[2]}})})},e.prototype.stop=function(){this.dispatcher.stop(),this.router.stop()},e.prototype.register=function(e,t){this.load({"identifier":e,"controllerConstructor":t})},e.prototype.load=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Array.isArray(e)?e:wt([e],n);o.forEach(function(e){return t.router.loadDefinition(e)})},e.prototype.unload=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Array.isArray(e)?e:wt([e],n);o.forEach(function(e){return t.router.unloadIdentifier(e)})},Object.defineProperty(e.prototype,"controllers",{"get":function(){return this.router.contexts.map(function(e){return e.controller})},"enumerable":!1,"configurable":!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},e.prototype.handleError=function(e,t,n){this.logger.error("%s\n\n%o\n\n%o",t,e,n)},e}(),St={get array(){return[]},"boolean":!1,"number":0,get object(){return{}},"string":""},Ct={"array":function(e){var t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError("Expected array");return t},"boolean":function(e){return!("0"==e||"false"==e)},"number":function(e){return parseFloat(e)},"object":function(e){var t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError("Expected object");return t},"string":function(e){return e}},$t={"default":U,"array":V,"object":V},_t=function(){function e(e){this.context=e}return Object.defineProperty(e.prototype,"application",{"get":function(){return this.context.application},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"scope",{"get":function(){return this.context.scope},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"element",{"get":function(){return this.scope.element},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"identifier",{"get":function(){return this.scope.identifier},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"targets",{"get":function(){return this.scope.targets},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"classes",{"get":function(){return this.scope.classes},"enumerable":!1,"configurable":!0}),Object.defineProperty(e.prototype,"data",{"get":function(){return this.scope.data},"enumerable":!1,"configurable":!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.blessings=[O,P,D],e.targets=[],e.values={},e}();e.Application=xt,e.Context=it,e.Controller=_t,e.defaultSchema=bt,Object.defineProperty(e,"__esModule",{"value":!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,t(e.Popper={}))}(this,function(e){function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t?t.defaultView||window:window}return e}function n(e){var n=t(e).Element;return e instanceof n||e instanceof Element}function i(e){var n=t(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function o(e){if("undefined"==typeof ShadowRoot)return!1;var n=t(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}function a(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),o=1,a=1;if(i(e)&&t){var r=e.offsetHeight,s=e.offsetWidth;s>0&&(o=n.width/s||1),r>0&&(a=n.height/r||1)}return{"width":vt(n.width/o),"height":vt(n.height/a),"top":vt(n.top/a),"right":vt(n.right/o),"bottom":vt(n.bottom/a),"left":vt(n.left/o),"x":vt(n.left/o),"y":vt(n.top/a)}}function r(e){var n=t(e),i=n.pageXOffset,o=n.pageYOffset;return{"scrollLeft":i,"scrollTop":o}}function s(e){return{"scrollLeft":e.scrollLeft,"scrollTop":e.scrollTop}}function c(e){return e!==t(e)&&i(e)?s(e):r(e)}function l(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function d(e){return a(u(e)).left+r(e).scrollLeft}function h(e){return t(e).getComputedStyle(e)}function f(e){var t=h(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function p(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return 1!==n||1!==i}function g(e,t,n){void 0===n&&(n=!1);var o=i(t),r=i(t)&&p(t),s=u(t),h=a(e,r),g={"scrollLeft":0,"scrollTop":0},m={"x":0,"y":0};return(o||!o&&!n)&&(("body"!==l(t)||f(s))&&(g=c(t)),i(t)?(m=a(t,!0),m.x+=t.clientLeft,m.y+=t.clientTop):s&&(m.x=d(s))),{"x":h.left+g.scrollLeft-m.x,"y":h.top+g.scrollTop-m.y,"width":h.width,"height":h.height}}function m(e){var t=a(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{"x":e.offsetLeft,"y":e.offsetTop,"width":n,"height":i}}function v(e){return"html"===l(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||u(e)}function b(e){return["html","body","#document"].indexOf(l(e))>=0?e.ownerDocument.body:i(e)&&f(e)?e:b(v(e))}function y(e,n){var i;void 0===n&&(n=[]);var o=b(e),a=o===(null==(i=e.ownerDocument)?void 0:i.body),r=t(o),s=a?[r].concat(r.visualViewport||[],f(o)?o:[]):o,c=n.concat(s);return a?c:c.concat(y(v(s)))}function k(e){return["table","td","th"].indexOf(l(e))>=0}function w(e){return i(e)&&"fixed"!==h(e).position?e.offsetParent:null}function x(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),n=-1!==navigator.userAgent.indexOf("Trident");if(n&&i(e)){var o=h(e);if("fixed"===o.position)return null}for(var a=v(e);i(a)&&["html","body"].indexOf(l(a))<0;){var r=h(a);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return a;a=a.parentNode}return null}function S(e){for(var n=t(e),i=w(e);i&&k(i)&&"static"===h(i).position;)i=w(i);return i&&("html"===l(i)||"body"===l(i)&&"static"===h(i).position)?n:i||x(e)||n}function C(e){function t(e){i.add(e.name);var a=[].concat(e.requires||[],e.requiresIfExists||[]);a.forEach(function(e){if(!i.has(e)){var o=n.get(e);o&&t(o)}}),o.push(e)}var n=new Map,i=new Set,o=[];return e.forEach(function(e){n.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||t(e)}),o}function $(e){var t=C(e);return Ut.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}function _(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return[].concat(n).reduce(function(e,t){return e.replace(/%s/,t)},e)}function E(e){e.forEach(function(t){[].concat(Object.keys(t),Ht).filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(n){switch(n){case"name":"string"!=typeof t.name&&console.error(j(Bt,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(j(Bt,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":Ut.indexOf(t.phase)<0&&console.error(j(Bt,t.name,'"phase"',"either "+Ut.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(j(Bt,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(j(Bt,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error(j(Bt,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(j(Bt,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+Ht.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(n){null==e.find(function(e){return e.name===n})&&console.error(j(qt,String(t.name),n,n))})})})}function T(e,t){var n=new Set;return e.filter(function(e){var i=t(e);return n.has(i)?void 0:(n.add(i),!0)})}function M(e){return e.split("-")[0]}function O(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{"options":Object.assign({},n.options,t.options),"data":Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}function A(e){var n=t(e),i=u(e),o=n.visualViewport,a=i.clientWidth,r=i.clientHeight,s=0,c=0;return o&&(a=o.width,r=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=o.offsetLeft,c=o.offsetTop)),{"width":a,"height":r,"x":s+d(e),"y":c}}function P(e){var t,n=u(e),i=r(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=Wt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Wt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-i.scrollLeft+d(e),l=-i.scrollTop;return"rtl"===h(o||n).direction&&(c+=Wt(n.clientWidth,o?o.clientWidth:0)-a),{"width":a,"height":s,"x":c,"y":l}}function I(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function D(e){return Object.assign({},e,{"left":e.x,"top":e.y,"right":e.x+e.width,"bottom":e.y+e.height})}function F(e){var t=a(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function L(e,t){return t===jt?D(A(e)):i(t)?F(t):D(P(u(e)))}function R(e){var t=y(v(e)),o=["absolute","fixed"].indexOf(h(e).position)>=0,a=o&&i(e)?S(e):e;return n(a)?t.filter(function(e){return n(e)&&I(e,a)&&"body"!==l(e)}):[]}function N(e,t,n){var i="clippingParents"===t?R(e):[].concat(t),o=[].concat(i,[n]),a=o[0],r=o.reduce(function(t,n){var i=L(e,n);return t.top=Wt(i.top,t.top),t.right=Gt(i.right,t.right),t.bottom=Gt(i.bottom,t.bottom),t.left=Wt(i.left,t.left),t},L(e,a));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function V(e){return e.split("-")[1]}function U(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function B(e){var t,n=e.reference,i=e.element,o=e.placement,a=o?M(o):null,r=o?V(o):null,s=n.x+n.width/2-i.width/2,c=n.y+n.height/2-i.height/2;switch(a){case bt:t={"x":s,"y":n.y-i.height};break;case yt:t={"x":s,"y":n.y+n.height};break;case kt:t={"x":n.x+n.width,"y":c};break;case wt:t={"x":n.x-i.width,"y":c};break;default:t={"x":n.x,"y":n.y}}var l=a?U(a):null;if(null!=l){var u="y"===l?"height":"width";switch(r){case Ct:t[l]=t[l]-(n[u]/2-i[u]/2);break;case $t:t[l]=t[l]+(n[u]/2-i[u]/2)}}return t}function q(){return{"top":0,"right":0,"bottom":0,"left":0}}function H(e){return Object.assign({},q(),e)}function W(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function G(e,t){void 0===t&&(t={});var i=t,o=i.placement,r=void 0===o?e.placement:o,s=i.boundary,c=void 0===s?_t:s,l=i.rootBoundary,d=void 0===l?jt:l,h=i.elementContext,f=void 0===h?Et:h,p=i.altBoundary,g=void 0===p?!1:p,m=i.padding,v=void 0===m?0:m,b=H("number"!=typeof v?v:W(v,St)),y=f===Et?Tt:Et,k=e.rects.popper,w=e.elements[g?y:f],x=N(n(w)?w:w.contextElement||u(e.elements.popper),c,d),S=a(e.elements.reference),C=B({"reference":S,"element":k,"strategy":"absolute","placement":r}),$=D(Object.assign({},k,C)),_=f===Et?$:S,j={"top":x.top-_.top+b.top,"bottom":_.bottom-x.bottom+b.bottom,"left":x.left-_.left+b.left,"right":_.right-x.right+b.right},E=e.modifiersData.offset;if(f===Et&&E){var T=E[r];Object.keys(j).forEach(function(e){var t=[kt,yt].indexOf(e)>=0?1:-1,n=[bt,yt].indexOf(e)>=0?"y":"x";j[e]+=T[n]*t})}return j}function z(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Y(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,o=void 0===i?[]:i,a=t.defaultOptions,r=void 0===a?Qt:a;return function(e,t,i){function a(){c.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var a=o({"state":c,"name":t,"instance":d,"options":i}),r=function(){};l.push(a||r)}})}function s(){l.forEach(function(e){return e()}),l=[]}void 0===i&&(i=r);var c={"placement":"bottom","orderedModifiers":[],"options":Object.assign({},Qt,r),"modifiersData":{},"elements":{"reference":e,"popper":t},"attributes":{},"styles":{}},l=[],u=!1,d={"state":c,"setOptions":function(i){var l="function"==typeof i?i(c.options):i;s(),c.options=Object.assign({},r,c.options,l),c.scrollParents={"reference":n(e)?y(e):e.contextElement?y(e.contextElement):[],"popper":y(t)};var u=$(O([].concat(o,c.options.modifiers)));c.orderedModifiers=u.filter(function(e){return e.enabled});var f=T([].concat(u,c.options.modifiers),function(e){var t=e.name;return t});if(E(f),M(c.options.placement)===xt){var p=c.orderedModifiers.find(function(e){var t=e.name;return"flip"===t});p||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var g=h(t),m=g.marginTop,v=g.marginRight,b=g.marginBottom,k=g.marginLeft;return[m,v,b,k].some(function(e){return parseFloat(e)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),a(),d.update()},"forceUpdate":function(){if(!u){var e=c.elements,t=e.reference,n=e.popper;if(!z(t,n))return console.error(Yt),void 0;c.rects={"reference":g(t,S(n),"fixed"===c.options.strategy),"popper":m(n)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(e){return c.modifiersData[e.name]=Object.assign({},e.data)});for(var i=0,o=0;o<c.orderedModifiers.length;o++){if(i+=1,i>100){console.error(Kt);break}if(c.reset!==!0){var a=c.orderedModifiers[o],r=a.fn,s=a.options,l=void 0===s?{}:s,h=a.name;"function"==typeof r&&(c=r({"state":c,"options":l,"name":h,"instance":d})||c)}else c.reset=!1,o=-1}}},"update":_(function(){return new Promise(function(e){d.forceUpdate(),e(c)})}),"destroy":function(){s(),u=!0}};return z(e,t)?(d.setOptions(i).then(function(e){!u&&i.onFirstUpdate&&i.onFirstUpdate(e)}),d):(console.error(Yt),d)}}function K(e){var n=e.state,i=e.instance,o=e.options,a=o.scroll,r=void 0===a?!0:a,s=o.resize,c=void 0===s?!0:s,l=t(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return r&&u.forEach(function(e){e.addEventListener("scroll",i.update,Jt)}),c&&l.addEventListener("resize",i.update,Jt),function(){r&&u.forEach(function(e){e.removeEventListener("scroll",i.update,Jt)}),c&&l.removeEventListener("resize",i.update,Jt)}}function Q(e){var t=e.state,n=e.name;t.modifiersData[n]=B({"reference":t.rects.reference,"element":t.rects.popper,"strategy":"absolute","placement":t.placement})}function J(e){var t=e.x,n=e.y,i=window,o=i.devicePixelRatio||1;return{"x":zt(zt(t*o)/o)||0,"y":zt(zt(n*o)/o)||0}}function Z(e){var n,i=e.popper,o=e.popperRect,a=e.placement,r=e.variation,s=e.offsets,c=e.position,l=e.gpuAcceleration,d=e.adaptive,f=e.roundOffsets,p=f===!0?J(s):"function"==typeof f?f(s):s,g=p.x,m=void 0===g?0:g,v=p.y,b=void 0===v?0:v,y=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),w=wt,x=bt,C=window;if(d){var $=S(i),_="clientHeight",j="clientWidth";$===t(i)&&($=u(i),"static"!==h($).position&&"absolute"===c&&(_="scrollHeight",j="scrollWidth")),$=$,(a===bt||(a===wt||a===kt)&&r===$t)&&(x=yt,b-=$[_]-o.height,b*=l?1:-1),(a===wt||(a===bt||a===yt)&&r===$t)&&(w=kt,m-=$[j]-o.width,m*=l?1:-1)}var E=Object.assign({"position":c},d&&en);if(l){var T;return Object.assign({},E,(T={},T[x]=k?"0":"",T[w]=y?"0":"",T.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",T))}return Object.assign({},E,(n={},n[x]=k?b+"px":"",n[w]=y?m+"px":"",n.transform="",n))}function X(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i?!0:i,a=n.adaptive,r=void 0===a?!0:a,s=n.roundOffsets,c=void 0===s?!0:s,l=h(t.elements.popper).transitionProperty||"";r&&["transform","top","right","bottom","left"].some(function(e){return l.indexOf(e)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));
var u={"placement":M(t.placement),"variation":V(t.placement),"popper":t.elements.popper,"popperRect":t.rects.popper,"gpuAcceleration":o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Z(Object.assign({},u,{"offsets":t.modifiersData.popperOffsets,"position":t.options.strategy,"adaptive":r,"roundOffsets":c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Z(Object.assign({},u,{"offsets":t.modifiersData.arrow,"position":"absolute","adaptive":!1,"roundOffsets":c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}function et(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},a=t.elements[e];i(a)&&l(a)&&(Object.assign(a.style,n),Object.keys(o).forEach(function(e){var t=o[e];t===!1?a.removeAttribute(e):a.setAttribute(e,t===!0?"":t)}))})}function tt(e){var t=e.state,n={"popper":{"position":t.options.strategy,"left":"0","top":"0","margin":"0"},"arrow":{"position":"absolute"},"reference":{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var o=t.elements[e],a=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),s=r.reduce(function(e,t){return e[t]="",e},{});i(o)&&l(o)&&(Object.assign(o.style,s),Object.keys(a).forEach(function(e){o.removeAttribute(e)}))})}}function nt(e,t,n){var i=M(e),o=[wt,bt].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{"placement":e})):n,r=a[0],s=a[1];return r=r||0,s=(s||0)*o,[wt,kt].indexOf(i)>=0?{"x":s,"y":r}:{"x":r,"y":s}}function it(e){var t=e.state,n=e.options,i=e.name,o=n.offset,a=void 0===o?[0,0]:o,r=Ot.reduce(function(e,n){return e[n]=nt(n,t.rects,a),e},{}),s=r[t.placement],c=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[i]=r}function ot(e){return e.replace(/left|right|bottom|top/g,function(e){return an[e]})}function at(e){return e.replace(/start|end/g,function(e){return rn[e]})}function rt(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,a=n.rootBoundary,r=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?Ot:c,u=V(i),d=u?s?Mt:Mt.filter(function(e){return V(e)===u}):St,h=d.filter(function(e){return l.indexOf(e)>=0});0===h.length&&(h=d,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var f=h.reduce(function(t,n){return t[n]=G(e,{"placement":n,"boundary":o,"rootBoundary":a,"padding":r})[M(n)],t},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}function st(e){if(M(e)===xt)return[];var t=ot(e);return[at(e),t,at(t)]}function ct(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,a=void 0===o?!0:o,r=n.altAxis,s=void 0===r?!0:r,c=n.fallbackPlacements,l=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f?!0:f,g=n.allowedAutoPlacements,m=t.options.placement,v=M(m),b=v===m,y=c||(b||!p?[ot(m)]:st(m)),k=[m].concat(y).reduce(function(e,n){return e.concat(M(n)===xt?rt(t,{"placement":n,"boundary":u,"rootBoundary":d,"padding":l,"flipVariations":p,"allowedAutoPlacements":g}):n)},[]),w=t.rects.reference,x=t.rects.popper,S=new Map,C=!0,$=k[0],_=0;_<k.length;_++){var j=k[_],E=M(j),T=V(j)===Ct,O=[bt,yt].indexOf(E)>=0,A=O?"width":"height",P=G(t,{"placement":j,"boundary":u,"rootBoundary":d,"altBoundary":h,"padding":l}),I=O?T?kt:wt:T?yt:bt;w[A]>x[A]&&(I=ot(I));var D=ot(I),F=[];if(a&&F.push(P[E]<=0),s&&F.push(P[I]<=0,P[D]<=0),F.every(function(e){return e})){$=j,C=!1;break}S.set(j,F)}if(C)for(var L=p?3:1,R=function(e){var t=k.find(function(t){var n=S.get(t);return n?n.slice(0,e).every(function(e){return e}):void 0});return t?($=t,"break"):void 0},N=L;N>0;N--){var U=R(N);if("break"===U)break}t.placement!==$&&(t.modifiersData[i]._skip=!0,t.placement=$,t.reset=!0)}}function lt(e){return"x"===e?"y":"x"}function ut(e,t,n){return Wt(e,Gt(t,n))}function dt(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,a=void 0===o?!0:o,r=n.altAxis,s=void 0===r?!1:r,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h?!0:h,p=n.tetherOffset,g=void 0===p?0:p,v=G(t,{"boundary":c,"rootBoundary":l,"padding":d,"altBoundary":u}),b=M(t.placement),y=V(t.placement),k=!y,w=U(b),x=lt(w),C=t.modifiersData.popperOffsets,$=t.rects.reference,_=t.rects.popper,j="function"==typeof g?g(Object.assign({},t.rects,{"placement":t.placement})):g,E={"x":0,"y":0};if(C){if(a||s){var T="y"===w?bt:wt,O="y"===w?yt:kt,A="y"===w?"height":"width",P=C[w],I=C[w]+v[T],D=C[w]-v[O],F=f?-_[A]/2:0,L=y===Ct?$[A]:_[A],R=y===Ct?-_[A]:-$[A],N=t.elements.arrow,B=f&&N?m(N):{"width":0,"height":0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:q(),W=H[T],z=H[O],Y=ut(0,$[A],B[A]),K=k?$[A]/2-F-Y-W-j:L-Y-W-j,Q=k?-$[A]/2+F+Y+z+j:R+Y+z+j,J=t.elements.arrow&&S(t.elements.arrow),Z=J?"y"===w?J.clientTop||0:J.clientLeft||0:0,X=t.modifiersData.offset?t.modifiersData.offset[t.placement][w]:0,et=C[w]+K-X-Z,tt=C[w]+Q-X;if(a){var nt=ut(f?Gt(I,et):I,P,f?Wt(D,tt):D);C[w]=nt,E[w]=nt-P}if(s){var it="x"===w?bt:wt,ot="x"===w?yt:kt,at=C[x],rt=at+v[it],st=at-v[ot],ct=ut(f?Gt(rt,et):rt,at,f?Wt(st,tt):st);C[x]=ct,E[x]=ct-at}}t.modifiersData[i]=E}}function ht(e){var t,n=e.state,i=e.name,o=e.options,a=n.elements.arrow,r=n.modifiersData.popperOffsets,s=M(n.placement),c=U(s),l=[wt,kt].indexOf(s)>=0,u=l?"height":"width";if(a&&r){var d=ln(o.padding,n),h=m(a),f="y"===c?bt:wt,p="y"===c?yt:kt,g=n.rects.reference[u]+n.rects.reference[c]-r[c]-n.rects.popper[u],v=r[c]-n.rects.reference[c],b=S(a),y=b?"y"===c?b.clientHeight||0:b.clientWidth||0:0,k=g/2-v/2,w=d[f],x=y-h[u]-d[p],C=y/2-h[u]/2+k,$=ut(w,C,x),_=c;n.modifiersData[i]=(t={},t[_]=$,t.centerOffset=$-C,t)}}function ft(e){var t=e.state,n=e.options,o=n.element,a=void 0===o?"[data-popper-arrow]":o;return null==a||"string"==typeof a&&!(a=t.elements.popper.querySelector(a))?void 0:(i(a)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),I(t.elements.popper,a)?(t.elements.arrow=a,void 0):(console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")),void 0))}function pt(e,t,n){return void 0===n&&(n={"x":0,"y":0}),{"top":e.top-t.height-n.y,"right":e.right-t.width+n.x,"bottom":e.bottom-t.height+n.y,"left":e.left-t.width-n.x}}function gt(e){return[bt,kt,yt,wt].some(function(t){return e[t]>=0})}function mt(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,r=G(t,{"elementContext":"reference"}),s=G(t,{"altBoundary":!0}),c=pt(r,i),l=pt(s,o,a),u=gt(c),d=gt(l);t.modifiersData[n]={"referenceClippingOffsets":c,"popperEscapeOffsets":l,"isReferenceHidden":u,"hasPopperEscaped":d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var vt=Math.round,bt="top",yt="bottom",kt="right",wt="left",xt="auto",St=[bt,yt,kt,wt],Ct="start",$t="end",_t="clippingParents",jt="viewport",Et="popper",Tt="reference",Mt=St.reduce(function(e,t){return e.concat([t+"-"+Ct,t+"-"+$t])},[]),Ot=[].concat(St,[xt]).reduce(function(e,t){return e.concat([t,t+"-"+Ct,t+"-"+$t])},[]),At="beforeRead",Pt="read",It="afterRead",Dt="beforeMain",Ft="main",Lt="afterMain",Rt="beforeWrite",Nt="write",Vt="afterWrite",Ut=[At,Pt,It,Dt,Ft,Lt,Rt,Nt,Vt],Bt='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',qt='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Ht=["name","enabled","phase","fn","effect","requires","options"],Wt=Math.max,Gt=Math.min,zt=Math.round,Yt="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Kt="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Qt={"placement":"bottom","modifiers":[],"strategy":"absolute"},Jt={"passive":!0},Zt={"name":"eventListeners","enabled":!0,"phase":"write","fn":function(){},"effect":K,"data":{}},Xt={"name":"popperOffsets","enabled":!0,"phase":"read","fn":Q,"data":{}},en={"top":"auto","right":"auto","bottom":"auto","left":"auto"},tn={"name":"computeStyles","enabled":!0,"phase":"beforeWrite","fn":X,"data":{}},nn={"name":"applyStyles","enabled":!0,"phase":"write","fn":et,"effect":tt,"requires":["computeStyles"]},on={"name":"offset","enabled":!0,"phase":"main","requires":["popperOffsets"],"fn":it},an={"left":"right","right":"left","bottom":"top","top":"bottom"},rn={"start":"end","end":"start"},sn={"name":"flip","enabled":!0,"phase":"main","fn":ct,"requiresIfExists":["offset"],"data":{"_skip":!1}},cn={"name":"preventOverflow","enabled":!0,"phase":"main","fn":dt,"requiresIfExists":["offset"]},ln=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{"placement":t.placement})):e,H("number"!=typeof e?e:W(e,St))},un={"name":"arrow","enabled":!0,"phase":"main","fn":ht,"effect":ft,"requires":["popperOffsets"],"requiresIfExists":["preventOverflow"]},dn={"name":"hide","enabled":!0,"phase":"main","requiresIfExists":["preventOverflow"],"fn":mt},hn=[Zt,Xt,tn,nn],fn=Y({"defaultModifiers":hn}),pn=[Zt,Xt,tn,nn,on,sn,cn,un,dn],gn=Y({"defaultModifiers":pn});e.applyStyles=nn,e.arrow=un,e.computeStyles=tn,e.createPopper=gn,e.createPopperLite=fn,e.defaultModifiers=pn,e.detectOverflow=G,e.eventListeners=Zt,e.flip=sn,e.hide=dn,e.offset=on,e.popperGenerator=Y,e.popperOffsets=Xt,e.preventOverflow=cn,Object.defineProperty(e,"__esModule",{"value":!0})});var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,a=t.length;a>o;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},Stacks;!function(e){function t(e){var t,n=e.hasOwnProperty("targets")?(t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o),t.targets=e.targets,t):function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(o);for(var i in e)"targets"!==i&&e.hasOwnProperty(i)&&Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e,i));return n}function n(n,i){e.application.register(n,t(i))}var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.load=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];for(var a=Array.isArray(n)?n:__spreadArray([n],i,!0),r=0,s=a;r<s.length;r++){var c=s[r],l=/^s-/.test(c.identifier);if(e._initializing&&!l)throw'Stacks-created Stimulus controller names must start with "s-".';if(!e._initializing&&l)throw'The "s-" prefix on Stimulus controller names is reserved for Stacks-created controllers.'}t.prototype.load.call(this,a)},n.start=function(e,t){var i=new n(e,t);return i.start(),i},n}(Stimulus.Application);e.application=i.start(),e._initializing=!0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getElementData=function(e,t){return e.getAttribute("data-"+this.identifier+"-"+t)},t.prototype.setElementData=function(e,t,n){e.setAttribute("data-"+this.identifier+"-"+t,n)},t.prototype.removeElementData=function(e,t){e.removeAttribute("data-"+this.identifier+"-"+t)},t.prototype.triggerEvent=function(e,t,n){var i,o=this.identifier+":"+e;try{i=new CustomEvent(o,{"bubbles":!0,"cancelable":!0,"detail":t})}catch(a){i=document.createEvent("CustomEvent"),i.initCustomEvent(o,!0,!0,t)}return(n||this.element).dispatchEvent(i),i},t}(Stimulus.Controller);e.StacksController=o,e.createController=t,e.addController=n}(Stacks||(Stacks={}));var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(){function e(e){var t=e.target;t instanceof HTMLInputElement&&"INPUT"===t.nodeName&&"radio"===t.type&&document.querySelectorAll('input[type="radio"][name="'+t.name+'"]').forEach(function(t){if(t!==e.target){var i;try{i=new Event(n)}catch(o){i=document.createEvent("Event"),i.initEvent(n,!0,!0)}t.dispatchEvent(i)}})}function t(t){t?(i++,1===i&&document.body.addEventListener("change",e)):(i--,0===i&&document.body.removeEventListener("change",e))}var n="s-expandable-control:radio-off",i=0;Stacks.application.register("s-expandable-control",function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastKeydownClickTimestamp=0,t}return __extends(i,e),i.prototype.initialize=function(){"INPUT"===this.element.nodeName&&["radio","checkbox"].indexOf(this.element.type)>=0?(this.isCollapsed=this._isCollapsedForCheckable,this.events=["change",n],this.isCheckable=!0,this.isRadio="radio"===this.element.type):(this.isCollapsed=this._isCollapsedForClickable,this.events=["click","keydown"]),this.listener=this.listener.bind(this)},i.prototype._isCollapsedForClickable=function(){var e=this.controlledCollapsibles;return e.length>0?!e.every(function(e){return e.classList.contains("is-expanded")}):"false"===this.element.getAttribute("aria-expanded")},i.prototype._isCollapsedForCheckable=function(){return!this.element.checked},Object.defineProperty(i.prototype,"controlledCollapsibles",{"get":function(){var e=this.element.getAttribute("aria-controls");if(!e)throw'[aria-controls="targetId1 ... targetIdN"] attribute required';var t=e.split(/\s+/g).map(function(e){return document.getElementById(e)}).filter(function(e){return!!e});if(!t.length)throw"couldn't find controls";return t},"enumerable":!1,"configurable":!0}),i.prototype._dispatchShowHideEvent=function(e){this.triggerEvent(e?"show":"hide")},i.prototype._toggleClass=function(e){if(this.data.has("toggle-class")){var t=this.element.classList,n=this.data.get("toggle-class");if(!n)throw"couldn't find toggle class";n.split(/\s+/).forEach(function(n){t.toggle(n,!!e)})}},i.prototype.listener=function(e){var t;if(this.isCheckable)t=!this.element.checked;else{if("keydown"==e.type&&e instanceof KeyboardEvent&&13!=e.keyCode&&32!=e.keyCode)return;if(e.target!==e.currentTarget&&["A","BUTTON"].indexOf(e.target.nodeName)>=0)return;if(e.preventDefault(),"keydown"==e.type)this.lastKeydownClickTimestamp=Date.now();else if("click"==e.type&&Date.now()-this.lastKeydownClickTimestamp<300)return;t="true"===this.element.getAttribute("aria-expanded"),"click"===e.type&&this.element.blur()}this.element.setAttribute("aria-expanded",t?"false":"true");for(var n=0,i=this.controlledCollapsibles;n<i.length;n++){var o=i[n];o.classList.toggle("is-expanded",!t)}this._dispatchShowHideEvent(!t),this._toggleClass(!t)},i.prototype.connect=function(){var e=this;if(this.events.forEach(function(t){e.element.addEventListener(t,e.listener)},this),this.isRadio&&t(!0),this.element.setAttribute("aria-expanded",this.isCollapsed()?"false":"true"),this.isCheckable){var n=this.controlledCollapsibles;if(n.length){var i=!this.isCollapsed();if(n.some(function(e){return e.classList.contains("is-expanded")!==i})){for(var o=0,a=this.controlledCollapsibles;o<a.length;o++){var r=a[o];r.classList.toggle("is-expanded",i)}this._dispatchShowHideEvent(i),this._toggleClass(i)}}}},i.prototype.disconnect=function(){var e=this;this.events.forEach(function(t){e.element.removeEventListener(t,e.listener)},this),this.isRadio&&t(!1)},i}(Stacks.StacksController))}();var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),__spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,o=0,a=t.length;a>o;o++)!i&&o in t||(i||(i=Array.prototype.slice.call(t,0,o)),i[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},Stacks;!function(e){function t(e){i(e,!0)}function n(e){i(e,!1)}function i(t,n){var i=e.application.getControllerForElementAndIdentifier(t,"s-modal");if(!i)throw"Unable to get s-modal controller from element";n?i.show():i.hide()}var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.connect=function(){this.validate()},t.prototype.disconnect=function(){this.unbindDocumentEvents()},t.prototype.toggle=function(e){void 0===e&&(e=null),this._toggle(void 0,e)},t.prototype.show=function(e){void 0===e&&(e=null),this._toggle(!0,e)},t.prototype.hide=function(e){void 0===e&&(e=null),this._toggle(!1,e)},t.prototype.validate=function(){var e=this.data.get("return-element");if(e&&(this.returnElement=document.querySelector(e),!this.returnElement))throw"Unable to find element by return-element selector: "+e},t.prototype._toggle=function(e,t){var n=this;void 0===t&&(t=null);var i=e,o="false"===this.modalTarget.getAttribute("aria-hidden");if("undefined"==typeof i&&(i=!o),!(i&&o||!i&&!o)){var a=this.getDispatcher(t),r=this.triggerEvent(i?"show":"hide",{"returnElement":this.returnElement,"dispatcher":this.getDispatcher(a)},this.modalTarget);if(!r.defaultPrevented){this.returnElement=r.detail.returnElement,this.modalTarget.setAttribute("aria-hidden",i?"false":"true"),i?(this.bindDocumentEvents(),this.focusInsideModal()):(this.unbindDocumentEvents(),this.focusReturnElement(),this.removeModalOnHide());var s=void 0!==this.modalTarget.ontransitionend;s?this.modalTarget.addEventListener("transitionend",function(){n.triggerEvent(i?"shown":"hidden",{"dispatcher":a},n.modalTarget)},{"once":!0}):this.triggerEvent(i?"shown":"hidden",{"dispatcher":a},this.modalTarget)}}},t.prototype.focusReturnElement=function(){var e=this;this.returnElement&&this.modalTarget.addEventListener("s-modal:hidden",function(){e.returnElement&&document.body.contains(e.returnElement)&&e.returnElement.focus()},{"once":!0})},t.prototype.removeModalOnHide=function(){var e=this;"true"===this.data.get("remove-when-hidden")&&this.modalTarget.addEventListener("s-modal:hidden",function(){e.element.remove()},{"once":!0})},t.prototype.getAllTabbables=function(){return Array.from(this.modalTarget.querySelectorAll("[href], input, select, textarea, button, [tabindex]")).filter(function(e){return e.matches(":not([disabled]):not([tabindex='-1'])")})},t.prototype.firstVisible=function(e){return e.find(function(e){return null!==e.offsetParent})},t.prototype.lastVisible=function(e){return this.firstVisible(__spreadArray([],e,!0).reverse())},t.prototype.focusInsideModal=function(){var e=this;this.modalTarget.addEventListener("s-modal:shown",function(){var t,n=null!==(t=e.firstVisible(e.initialFocusTargets))&&void 0!==t?t:e.firstVisible(e.getAllTabbables());null===n||void 0===n?void 0:n.focus()},{"once":!0})},t.prototype.keepFocusWithinModal=function(e){if(!this.modalTarget.contains(e.target)){var t=this.firstVisible(this.getAllTabbables());return t&&(e.preventDefault(),t.focus()),void 0}if("Tab"===e.key){var n=this.getAllTabbables(),i=this.firstVisible(n),o=this.lastVisible(n);i&&o&&(i===o?(e.preventDefault(),i.focus()):e.shiftKey&&e.target===i?(e.preventDefault(),o.focus()):e.shiftKey||e.target!==o||(e.preventDefault(),i.focus()))}},t.prototype.bindDocumentEvents=function(){this._boundClickFn=this._boundClickFn||this.hideOnOutsideClick.bind(this),this._boundKeypressFn=this._boundKeypressFn||this.hideOnEscapePress.bind(this),this._boundTabTrap=this._boundTabTrap||this.keepFocusWithinModal.bind(this),document.addEventListener("mousedown",this._boundClickFn),document.addEventListener("keyup",this._boundKeypressFn),document.addEventListener("keydown",this._boundTabTrap)},t.prototype.unbindDocumentEvents=function(){document.removeEventListener("mousedown",this._boundClickFn),document.removeEventListener("keyup",this._boundKeypressFn),document.removeEventListener("keydown",this._boundTabTrap)},t.prototype.hideOnOutsideClick=function(e){var t=e.target;!this.modalTarget.querySelector(".s-modal--dialog").contains(t)&&document.body.contains(t)&&this._toggle(!1,e)},t.prototype.hideOnEscapePress=function(e){27===e.which&&"true"!==this.modalTarget.getAttribute("aria-hidden")&&this._toggle(!1,e)},t.prototype.getDispatcher=function(e){return void 0===e&&(e=null),e instanceof Event?e.target:e instanceof Element?e:this.element},t.targets=["modal","initialFocus"],t}(e.StacksController);e.ModalController=o,e.showModal=t,e.hideModal=n}(Stacks||(Stacks={})),Stacks.application.register("s-modal",Stacks.ModalController);var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Stacks;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.connect=function(){e.prototype.connect.call(this),this.boundSelectTab=this.selectTab.bind(this),this.boundHandleKeydown=this.handleKeydown.bind(this);for(var t=0,n=this.tabTargets;t<n.length;t++){var i=n[t];i.addEventListener("click",this.boundSelectTab),i.addEventListener("keydown",this.boundHandleKeydown)}},t.prototype.disconnect=function(){e.prototype.disconnect.call(this);for(var t=0,n=this.tabTargets;t<n.length;t++){var i=n[t];i.removeEventListener("click",this.boundSelectTab),i.removeEventListener("keydown",this.boundHandleKeydown)}},Object.defineProperty(t.prototype,"tabTargets",{"get":function(){return Array.from(this.element.querySelectorAll("[role=tab]"))},"enumerable":!1,"configurable":!0}),t.prototype.selectTab=function(e){this.switchToTab(e.currentTarget)},t.prototype.handleKeydown=function(e){var t,n=e.currentTarget,i=this.tabTargets,o=i.indexOf(n);if("ArrowRight"===e.key)o++;else{if("ArrowLeft"!==e.key)return;o--}0>o&&(o=i.length-1),o>=i.length&&(o=0),n=i[o],this.switchToTab(n),null===(t=this.selectedTab)||void 0===t?void 0:t.focus()},t.prototype.switchToTab=function(e){var t=this.selectedTab;t!==e&&(this.triggerEvent("select",{"oldTab":t,"newTab":e}).defaultPrevented||(this.selectedTab=e,this.triggerEvent("selected",{"oldTab":t,"newTab":e})))},Object.defineProperty(t.prototype,"selectedTab",{"get":function(){return this.tabTargets.find(function(e){return"true"===e.getAttribute("aria-selected")})||null},"set":function(e){for(var t=0,n=this.tabTargets;t<n.length;t++){var i=n[t],o=i.getAttribute("aria-controls"),a=o?document.getElementById(o):null;i===e?(i.classList.add("is-selected"),i.setAttribute("aria-selected","true"),i.removeAttribute("tabindex"),null===a||void 0===a?void 0:a.classList.remove("d-none")):(i.classList.remove("is-selected"),i.setAttribute("aria-selected","false"),i.setAttribute("tabindex","-1"),null===a||void 0===a?void 0:a.classList.add("d-none"))}},"enumerable":!1,"configurable":!0}),t}(e.StacksController);e.TabListController=t}(Stacks||(Stacks={})),Stacks.application.register("s-navigation-tablist",Stacks.TabListController);var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Stacks;!function(e){function t(e){var t=a(e),n=t.isPopover,i=t.controller;if(i)i.show();else{if(!n)throw'element does not have data-controller="s-popover"';e.setAttribute("data-s-popover-auto-show","true")}}function n(e){var t=a(e),n=t.isPopover,i=t.controller,o=t.popover;if(i)i.hide();else{if(!n)throw'element does not have data-controller="s-popover"';e.removeAttribute("data-s-popover-auto-show"),o&&o.classList.remove("is-visible")}}function i(e,t,n){var i=a(e),o=i.referenceElement,s=i.popover;if(s)throw'element already has popover with id="'+s.id+'"';if(!o)throw"element has invalid data-s-popover-reference-selector attribute";if("string"==typeof t){var c=document.createRange().createContextualFragment(t).children;if(1!==c.length)throw"popover should contain a single element";t=c[0]}var l=o.getAttribute("aria-controls"),u=t.id;if(!t.classList.contains("s-popover"))throw'popover should have the "s-popover" class but had class="'+t.className+'"';if(l&&l!==u)throw'element has aria-controls="'+l+'" but popover has id="'+u+'"';u||(u="--stacks-s-popover-"+Math.random().toString(36).substring(2,10),t.id=u),l||o.setAttribute("aria-controls",u),!t.parentElement&&e.parentElement&&o.insertAdjacentElement("afterend",t),r(e,"s-popover",!0),n&&(n.toggleOnClick&&o.setAttribute("data-action","click->s-popover#toggle"),n.placement&&e.setAttribute("data-s-popover-placement",n.placement),n.autoShow&&e.setAttribute("data-s-popover-auto-show","true"))}function o(e){var t=a(e),n=t.isPopover,i=t.controller,o=t.referenceElement,s=t.popover;return null===i||void 0===i?void 0:i.hide(),null===s||void 0===s?void 0:s.remove(),n&&(r(e,"s-popover",!1),o&&o.removeAttribute("aria-controls")),s}function a(t){var n,i=(null===(n=t.getAttribute("data-controller"))||void 0===n?void 0:n.includes("s-popover"))||!1,o=e.application.getControllerForElementAndIdentifier(t,"s-popover"),a=t.getAttribute("data-s-popover-reference-selector"),r=a?t.querySelector(a):t,s=r?r.getAttribute("aria-controls"):null,c=s?document.getElementById(s):null;return{"isPopover":i,"controller":o,"referenceElement":r,"popover":c}}function r(e,t,n){var i,o=new Set(null===(i=e.getAttribute("data-controller"))||void 0===i?void 0:i.split(/\s+/));n?o.add(t):o.delete(t),e.setAttribute("data-controller",Array.from(o).join(" "))}var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"isVisible",{"get":function(){var e=this.popoverElement;return e?e.classList.contains("is-visible"):!1},"enumerable":!1,"configurable":!0}),Object.defineProperty(t.prototype,"isInViewport",{"get":function(){var e=this.popoverElement;if(!this.isVisible||!e)return!1;var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight),i=Math.max(document.documentElement.clientWidth,window.innerWidth);return t.bottom>0&&t.top<n&&t.right>0&&t.left<i},"enumerable":!1,"configurable":!0}),Object.defineProperty(t.prototype,"shouldHideOnOutsideClick",{"get":function(){var e=this.data.get("hide-on-outside-click");switch(e){case"after-dismissal":case"never":return!1;case"if-in-viewport":return this.isInViewport;default:return!0}},"enumerable":!1,"configurable":!0}),t.prototype.connect=function(){e.prototype.connect.call(this),this.validate(),this.isVisible?this.initializePopper():"true"===this.data.get("auto-show")&&this.show(null),this.data.delete("auto-show")},t.prototype.disconnect=function(){this.hide(),this.popper&&(this.popper.destroy(),delete this.popper),e.prototype.disconnect.call(this)},t.prototype.toggle=function(e){void 0===e&&(e=null),this.isVisible?this.hide(e):this.show(e)},t.prototype.show=function(e){if(void 0===e&&(e=null),!this.isVisible){var t=this.getDispatcher(e);this.triggerEvent("show",{"dispatcher":t}).defaultPrevented||(this.popper||this.initializePopper(),this.popoverElement.classList.add("is-visible"),this.scheduleUpdate(),this.shown(t))}},t.prototype.hide=function(e){if(void 0===e&&(e=null),this.isVisible){var t=this.getDispatcher(e);this.triggerEvent("hide",{"dispatcher":t}).defaultPrevented||(this.popoverElement.classList.remove("is-visible"),this.popper&&(this.popper.destroy(),delete this.popper),"after-dismissal"===this.data.get("hide-on-outside-click")&&this.data.delete("hide-on-outside-click"),this.hidden(t))}},t.prototype.shown=function(e){void 0===e&&(e=null),this.bindDocumentEvents(),this.triggerEvent("shown",{"dispatcher":e})},t.prototype.hidden=function(e){void 0===e&&(e=null),this.unbindDocumentEvents(),this.triggerEvent("hidden",{"dispatcher":e})},t.prototype.generatePopover=function(){return null},t.prototype.initializePopper=function(){this.popper=Popper.createPopper(this.referenceElement,this.popoverElement,{"placement":this.data.get("placement")||"bottom","modifiers":[{"name":"offset","options":{"offset":[0,10]}},{"name":"arrow","options":{"element":".s-popover--arrow"}}]})},t.prototype.validate=function(){var e=this.data.get("reference-selector");if(this.referenceElement=this.element,e&&(this.referenceElement=this.element.querySelector(e),!this.referenceElement))throw"Unable to find element by reference selector: "+e;var t=this.referenceElement.getAttribute(this.popoverSelectorAttribute),n=null;if(t){if(n=document.getElementById(t),!n)throw"["+this.popoverSelectorAttribute+'="{POPOVER_ID}"] required'}else n=this.generatePopover();if(!n)throw"unable to find or generate popover element";this.popoverElement=n},t.prototype.getDispatcher=function(e){return void 0===e&&(e=null),e instanceof Event?e.target:e instanceof Element?e:this.element},t.prototype.scheduleUpdate=function(){this.popper&&this.isVisible&&this.popper.update()},t}(e.StacksController);e.BasePopoverController=s;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popoverSelectorAttribute="aria-controls",t}return __extends(t,e),t.prototype.shown=function(t){void 0===t&&(t=null),this.toggleOptionalClasses(!0),e.prototype.shown.call(this,t)},t.prototype.hidden=function(t){void 0===t&&(t=null),this.toggleOptionalClasses(!1),e.prototype.hidden.call(this,t)},t.prototype.bindDocumentEvents=function(){this.boundHideOnOutsideClick=this.boundHideOnOutsideClick||this.hideOnOutsideClick.bind(this),this.boundHideOnEscapePress=this.boundHideOnEscapePress||this.hideOnEscapePress.bind(this),document.addEventListener("mousedown",this.boundHideOnOutsideClick),document.addEventListener("keyup",this.boundHideOnEscapePress)},t.prototype.unbindDocumentEvents=function(){document.removeEventListener("mousedown",this.boundHideOnOutsideClick),document.removeEventListener("keyup",this.boundHideOnEscapePress)},t.prototype.hideOnOutsideClick=function(e){var t=e.target;this.shouldHideOnOutsideClick&&!this.referenceElement.contains(t)&&!this.popoverElement.contains(t)&&document.body.contains(t)&&this.hide(e)
},t.prototype.hideOnEscapePress=function(e){27===e.which&&this.isVisible&&(this.popoverElement.contains(e.target)&&this.referenceElement.focus(),this.hide(e))},t.prototype.toggleOptionalClasses=function(e){if(this.data.has("toggle-class")){var t=this.referenceElement.classList;this.data.get("toggle-class").split(/\s+/).forEach(function(n){t.toggle(n,e)})}},t.targets=[],t}(s);e.PopoverController=c,e.showPopover=t,e.hidePopover=n,e.attachPopover=i,e.detachPopover=o}(Stacks||(Stacks={})),Stacks.application.register("s-popover",Stacks.PopoverController);var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(){function e(e){var t=n(e);if(!(t instanceof Array))throw"shouldn't happen";return t}function t(e){if(!(e.parentElement&&e.parentElement.parentElement instanceof HTMLTableSectionElement))throw"invalid table";var t=n(e.parentElement.parentElement,e);if("number"!=typeof t)throw"shouldn't happen";return t}function n(e,t){for(var n=[],i=e.children[0],o=[],a=[];i||a.some(function(e){return 0!==e});){var r=[];n.push(r);var s=0;if(i)for(var c=0;c<i.children.length;c++){for(;a[s];)a[s]--,r[s]=o[s],s++;var l=i.children[c];if(!(l instanceof HTMLTableCellElement))throw"invalid table";if("none"!==getComputedStyle(l).display){if(l===t)return s;for(var u=s+l.colSpan;u>s;s++)a[s]=l.rowSpan-1,o[s]=l,r[s]=l}}for(;s<o.length;)a[s]&&(a[s]--,r[s]=o[s]),s++;i&&(i=i.nextElementSibling)}return t?-1:n}var i;Stacks.application.register("s-table",(i=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return __extends(i,n),i.prototype.setCurrentSort=function(e,t){if(["asc","desc","none"].indexOf(t)<0)throw"direction must be one of asc, desc, or none";var n=this;this.columnTargets.forEach(function(i){var o=i===e;i.classList.toggle("is-sorted",o&&"none"!==t),i.querySelectorAll(".js-sorting-indicator").forEach(function(e){var n=o?t:"none";e.classList.toggle("d-none",!e.classList.contains("js-sorting-indicator-"+n))}),o&&"none"!==t?n.setElementData(i,"sort-direction",t):n.removeElementData(i,"sort-direction")})},i.prototype.sort=function(n){var i=this,o=n.currentTarget;if(!(o instanceof HTMLTableCellElement))throw"invalid event target";var a=this.element,r=a.tBodies[0],s=t(o);if(!(0>s)){var c,l=e(r),u="asc"===this.getElementData(o,"sort-direction")?-1:1,d=Array.from(a.tBodies[0].rows),h=!1,f=[];d.forEach(function(e,t){var n=i.getElementData(e,"sort-to");if("top"!==n){if("bottom"===n)return c||(c=e),void 0;var o=l[t][s];if(!o)return f.push(["",t]),void 0;var a=i.getElementData(o,"sort-val"),r="string"==typeof a?a:o.textContent.trim();""!==r&&parseInt(r,10)+""!==r&&(h=!0),f.push([r,t])}}),h||f.forEach(function(e){e[0]=""===e[0]?Number.MIN_VALUE:parseInt(e[0],10)}),f.sort(function(e,t){return e[0]>t[0]?1*u:e[0]<t[0]?-1*u:e[1]>t[1]?1:-1}),f.forEach(function(e){var t=d[e[1]];t.parentElement.removeChild(t),c?r.insertBefore(t,c):r.appendChild(t)}),this.setCurrentSort(o,1===u?"asc":"desc")}},i}(Stacks.StacksController),i.targets=["column"],i))}();var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Stacks;!function(e){function t(e,t,n){e.setAttribute("data-s-tooltip-html-title",t),e.removeAttribute("title"),i(e,n)}function n(e,t,n){e.setAttribute("title",t),e.removeAttribute("data-s-tooltip-html-title"),i(e,n)}function i(t,n){n&&n.placement&&t.setAttribute("data-s-tooltip-placement",n.placement);var i=e.application.getControllerForElementAndIdentifier(t,"s-tooltip");i?i.applyTitleAttributes():t.setAttribute("data-controller",t.getAttribute("data-controller")+" s-tooltip")}var o=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.popoverSelectorAttribute="aria-describedby",e}return __extends(n,t),n.prototype.connect=function(){t.prototype.connect.call(this),window.matchMedia("(hover: hover)").matches&&this.bindMouseEvents()},n.prototype.disconnect=function(){this.unbindMouseEvents(),t.prototype.disconnect.call(this)},n.prototype.show=function(n){void 0===n&&(n=null);var i=e.application.getControllerForElementAndIdentifier(this.element,"s-popover");i&&i.isVisible||t.prototype.show.call(this,n)},n.prototype.scheduleShow=function(e){var t=this;void 0===e&&(e=null),window.clearTimeout(this.activeTimeout),this.activeTimeout=window.setTimeout(function(){return t.show(e)},300)},n.prototype.hide=function(e){void 0===e&&(e=null),window.clearTimeout(this.activeTimeout),this.activeTimeout=null,t.prototype.hide.call(this,e)},n.prototype.applyTitleAttributes=function(){var e,t=this.data.get("html-title");if(t)e=document.createRange().createContextualFragment(t);else{var i=this.element.getAttribute("title");if(!i)return null;e=document.createTextNode(i)}this.data.delete("html-title"),this.element.removeAttribute("title");var o=this.element.getAttribute("aria-describedby");o||(o=n.generateId(),this.element.setAttribute("aria-describedby",o));var a=document.getElementById(o);if(!a){a=document.createElement("div"),a.id=o,a.className="s-popover s-popover__tooltip pe-none",a.setAttribute("aria-hidden","true"),a.setAttribute("role","tooltip");var r=this.element.parentNode;r?r.insertBefore(a,this.element.nextSibling):document.body.appendChild(a)}var s=a.querySelector(".s-popover--arrow");return a.innerHTML="",a.appendChild(e),s?a.appendChild(s):a.insertAdjacentHTML("beforeend",'<div class="s-popover--arrow"></div>'),this.scheduleUpdate(),a},n.prototype.bindDocumentEvents=function(){this.boundHideIfWithin=this.boundHideIfWithin||this.hideIfWithin.bind(this),document.addEventListener("s-popover:shown",this.boundHideIfWithin)},n.prototype.unbindDocumentEvents=function(){document.removeEventListener("s-popover:shown",this.boundHideIfWithin)},n.prototype.generatePopover=function(){return this.applyTitleAttributes()},n.prototype.hideIfWithin=function(e){e.target.contains(this.referenceElement)&&this.hide()},n.prototype.bindMouseEvents=function(){this.boundScheduleShow=this.boundScheduleShow||this.scheduleShow.bind(this),this.boundHide=this.boundHide||this.hide.bind(this),this.referenceElement.addEventListener("mouseover",this.boundScheduleShow),this.referenceElement.addEventListener("mouseout",this.boundHide),this.referenceElement.addEventListener("focus",this.boundScheduleShow),this.referenceElement.addEventListener("blur",this.boundHide)},n.prototype.unbindMouseEvents=function(){this.referenceElement.removeEventListener("mouseover",this.boundScheduleShow),this.referenceElement.removeEventListener("mouseout",this.boundHide),this.referenceElement.removeEventListener("focus",this.boundScheduleShow),this.referenceElement.removeEventListener("blur",this.boundHide)},n.generateId=function(){return"--stacks-s-tooltip-"+Math.random().toString(36).substring(2,10)},n.targets=[],n}(e.BasePopoverController);e.TooltipController=o,e.setTooltipHtml=t,e.setTooltipText=n}(Stacks||(Stacks={})),Stacks.application.register("s-tooltip",Stacks.TooltipController);var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{"__proto__":[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Stacks;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.connect=function(){e.prototype.connect.call(this),this.boundDragEnter=this.handleUploaderActive.bind(this,!0),this.boundDragLeave=this.handleUploaderActive.bind(this,!1),this.inputTarget.addEventListener("dragenter",this.boundDragEnter),this.inputTarget.addEventListener("dragleave",this.boundDragLeave)},t.prototype.disconnect=function(){this.inputTarget.removeEventListener("dragenter",this.boundDragEnter),this.inputTarget.removeEventListener("dragleave",this.boundDragLeave),e.prototype.disconnect.call(this)},t.prototype.handleInput=function(){var e=this;if(this.previewsTarget.innerHTML="",this.inputTarget.files){var n=this.inputTarget.files.length;this.getDataURLs(this.inputTarget.files,t.FILE_DISPLAY_LIMIT).then(function(t){e.handleVisible(!0);var i=t.length>1;if(i){var o=document.createElement("div");o.classList.add("s-uploader--previews-heading"),o.innerText=t.length<n?"Showing "+t.length+" of "+n+" files":n+" items",e.previewsTarget.appendChild(o),e.previewsTarget.classList.add("has-multiple")}else e.previewsTarget.classList.remove("has-multiple");t.forEach(function(t){return e.addFilePreview(t)}),e.handleUploaderActive(!0)})}},t.prototype.reset=function(){this.inputTarget.value="",this.previewsTarget.innerHTML="",this.handleVisible(!1)},t.prototype.handleVisible=function(e){var t=this.targets.scope,n=t.findAllElements("[data-s-uploader-hide-on-input]"),i=t.findAllElements("[data-s-uploader-show-on-input]"),o=t.findAllElements("[data-s-uploader-enable-on-input]");e?(n.map(function(e){return e.classList.add("d-none")}),i.map(function(e){return e.classList.remove("d-none")}),o.map(function(e){return e.removeAttribute("disabled")})):(n.map(function(e){return e.classList.remove("d-none")}),i.map(function(e){return e.classList.add("d-none")}),o.map(function(e){return e.setAttribute("disabled","true")}),this.handleUploaderActive(!1))},t.prototype.addFilePreview=function(e){if(e){var t,n=document.createElement("div");e.type.match("image/*")&&e.data?(t=document.createElement("img"),t.src=e.data.toString(),t.alt=e.name):(t=document.createElement("div"),t.innerText=e.name),t.classList.add("s-uploader--preview-thumbnail"),n.appendChild(t),n.classList.add("s-uploader--preview"),n.setAttribute("data-filename",e.name),this.previewsTarget.appendChild(n)}},t.prototype.handleUploaderActive=function(e){this.uploaderTarget.classList.toggle("is-active",e)},t.prototype.fileToDataURL=function(e){var n=new FileReader,i=e.name,o=e.size,a=e.type;return o<t.MAX_FILE_SIZE&&a.indexOf("image")>-1?new Promise(function(t,o){n.onload=function(e){var n,r=null===(n=null===e||void 0===e?void 0:e.target)||void 0===n?void 0:n.result;r?t({"data":r,"name":i,"type":a}):o()},n.readAsDataURL(e)}):Promise.resolve({"name":i,"type":a})},t.prototype.getDataURLs=function(e,t){var n=this,i=Array.from(e).slice(0,Math.min(t,e.length)).map(function(e){return n.fileToDataURL(e)});return Promise.all(i)},t.targets=["input","previews","uploader"],t.FILE_DISPLAY_LIMIT=10,t.MAX_FILE_SIZE=10485760,t}(e.StacksController);e.UploaderController=t}(Stacks||(Stacks={})),Stacks.application.register("s-uploader",Stacks.UploaderController),Stacks._initializing=!1,function(){Stacks.addController("se-char-counter",{"targets":["field","output"],"connect":function(){$(this.fieldTarget).charCounter({"min":+(this.data.get("min")||"0"),"max":+(this.data.get("max")||"0"),"target":$(this.outputTarget),"setIsValid":this.setIsValid.bind(this)})},"setIsValid":function(e){var t="data-is-valid-length",n=$(this.fieldTarget);"true"!==this.data.get("allow-empty")||n.val()||(e=!0);var i=e.toString();n.attr(t)!==i&&(n.attr(t,i),this.triggerEvent("validated"))}})}(),function(){var e,t,n,i=function(){e=t=null,$("body").removeClass("c-move")};Stacks.addController("se-draggable",{"targets":["handle"],"connect":function(){if(!StackExchange.options.isMobile&&this.hasHandleTarget){var o=$(this.element),a=$(this.handleTarget);a.hasClass("c-move")||a.addClass("c-move"),a.unbind("mousedown").bind("mousedown",function(n){o.css({"minWidth":o.outerWidth()});var i=o.offset();t={"x":i.left-n.pageX,"y":i.top-n.pageY},e=o;var a=e.offset();e.offset(a).offset(a),$("body").addClass("c-move"),n.preventDefault()}),n||(n=!0,$(document).on("mousemove",function(n){if(e){e.removeClass("responsively-horizontally-centered-legacy-popup");var i=n.pageY+t.y,o=n.pageX+t.x;e.offset({"top":i,"left":o})}}).on("keypress",i).on("mouseup",i))}}})}(),function(){function e(){return"se-share-sheet-"+t++}var t=0,n=!1;Stacks.addController("se-share-sheet",{get $el(){return $(this.element)},get controlId(){var t=this.$el.attr("aria-controls");return t||(t=e(),this.$el.attr("aria-controls",t)),t},get $sheet(){var e=this.controlId,t=$("#"+e);return 0===t.length&&(t=this.generateSheet(e),this.$el.after(t)),t},get location(){return+this.data.get("location")||0},"initialize":function(){function e(e,n){var i=t.attr(e)||"";-1===i.indexOf(n)&&t.attr(e,i+" "+n)}var t=this.$el;this.updateSheet(!1),e("data-action","s-popover#toggle"),e("data-action",this.identifier+"#preventNavigation"),e("data-action","s-popover:show->"+this.identifier+"#willShow"),e("data-action","s-popover:shown->"+this.identifier+"#didShow"),e("data-controller","s-popover")},"generateSheet":function(e){var t=$('<div class="s-popover z-dropdown s-anchors s-anchors__default" style="width: unset; max-width: 28em;"><div class="s-popover--arrow"></div></div>').attr("id",e).append('<div><span class="js-title fw-bold"></span> <span class="js-subtitle"></span></div>').append('<div class="my8"><input type="text" class="js-input s-input wmn3 sm:wmn-initial" readonly /></div>').append('<div class="d-flex jc-space-between ai-center mbn4"><button class="js-copy-link-btn s-btn s-btn__link"></button><a href="#" rel="license" class="js-license s-block-link w-auto d-none" target="_blank"></a><div class="js-social-container d-none"></div></div>').insertAfter($(this.element));return t.find(".js-copy-link-btn").text("Copy link").click(this.copy.bind(this)),t.find(".js-input").on("copy",this.didCopy.bind(this)),t},"willShow":function(){this.updateSheet(!0)},"didShow":function(){var e=this.$sheet.find(".js-input");setTimeout(function(){e.focus().select()});var t=this.location;t&&StackExchange.gps.track("share.show",{"location":t})},"copy":function(){var e=this;this.tryCopy().then(function(){StackExchange.helpers.showToast($("<span>").text("Link copied to clipboard."),{"transientTimeout":3e3,"type":"success"}),e.didCopy()},function(){StackExchange.helpers.showToast($("<span>").text("Could not copy link to clipboard."),{"transientTimeout":5e3,"type":"danger"})})},"didCopy":function(){if(!n){var e=this.location;e&&StackExchange.gps.track("share.click",{"location":e,"service":6})}},"tryCopy":function(){var e=this.$sheet.find(".js-input");if(navigator.clipboard)return navigator.clipboard.writeText(e.val());e.focus().select();var t;n=!0;try{t=document.execCommand("copy")}catch(i){t=!1}n=!1;var o=$.Deferred();return t?o.resolve():o.reject(),o.promise()},"preventNavigation":function(e){e.ctrlKey||e.metaKey||e.preventDefault()},"updateSheet":function(e){this.triggerEvent("update");var t=this.$sheet;t.find(".js-title").text(this.data.get("title")||"Copy and share this link:"),t.find(".js-subtitle").text(this.data.get("subtitle")||""),t.find(".js-input").val(this.element.href);var n=this.data.get("license-url"),i=t.find(".js-license").toggleClass("d-none",!n);if(n){i.attr("href",decodeURIComponent(this.data.get("license-url")));var o=this.data.get("license-name");i.text(o),i.attr("title",function(e){return"The current license for this post: "+e.licenseName}({"licenseName":o}))}t.find(".js-social-container").addClass("d-none").empty();var a=this.data.get("post-type");if(e&&("question"===a||"answer"===a)){var r=(this.data.get("social")||"").split(/\s+/);-1!==r.indexOf("facebook")&&this.addSocialComponent("question"===a,"Facebook",Svg.Facebook.With("native"),"Share on Facebook",2,StackExchange.share.facebook),-1!==r.indexOf("twitter")&&this.addSocialComponent("question"===a,"Twitter",Svg.Twitter.With("native"),"Share on Twitter",3,StackExchange.share.twitter),-1!==r.indexOf("devto")&&this.addSocialComponent("question"===a,"DEV",Svg.DevTo.With("native"),"Share on DEV",5,StackExchange.share.devTo)}},"addSocialComponent":function(e,t,n,i,o,a){var r=e?function(e){return"Share link to this question on "+e.socialNetwork}({"socialNetwork":t}):function(e){return"Share link to this answer on "+e.socialNetwork}({"socialNetwork":t}),s=$("<button>",{"class":"s-btn p4","role":"button","title":r,"aria-label":i}).append(n),c=$("#question-header a.question-hyperlink").text(),l=e?c:function(e){return"Answer: "+e.title}({"title":c});a(s,this.element.href,l,"2");var u=this.location;s.click(function(){u&&StackExchange.gps.track("share.click",{"location":u,"service":o})}).appendTo(this.$sheet.find(".js-social-container").removeClass("d-none"))}})}(),StackExchange.loggedIn={},StackExchange.question.fullInit=function(e){if(window.votesCast=e.votesCast,StackExchange.vote.init(e.questionId),StackExchange.question.bindSuggestedEditPopupLinks(),StackExchange.vote_bounty.init(e),$(document).on("click",".js-post-menu .js-error-click",function(){var e=$(this);return e.parent().showErrorMessage(e.data("error-message")),!1}),StackExchange.rollback.bindButtons(),/^#autocomment/.test(window.location.hash)){var t=$(".comments-link:first"),n="#comment-"+window.location.hash.substring(12),i=function(){var e=$(n),t=$("<span><b>Trivial answer converted to comment</b></span>");e.find(".comment-date").append($("<br>")).append(t),StackExchange.comments.flashHighlight(e),e[0].scrollIntoView(!0)};e.totalCommentCount&&e.shownCommentCount&&e.totalCommentCount!=e.shownCommentCount?StackExchange.comments.loadAll(t).done(i):i()}StackExchange.question.initInlineNewFeaturePopovers(),StackExchange.question.initQuestionPinFeaturePopover()},StackExchange.question.initInlineNewFeaturePopovers=function(){StackExchange.question.initAndShowCloseReopenNotificationPopover()||StackExchange.question.initQuestionFollowFeaturePopover()},StackExchange.question.initQuestionFollowFeaturePopover=function(){function e(){return n.parent().length>0}var t=$(".js-follow-question"),n=$(".js-question-follow-feature-popover");return 0!=t.length&&e()?(StackExchange.helpers.queueStacksPopover(t,60),n.find(".js-dismiss").add(t).click(function(){e()&&(t.removeAttr("aria-controls"),t.attr("data-controller","s-tooltip"),n.remove(),StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.DismissFollowQuestionIntroPopover,!0))}),t.on("s-popover:hide",function(t){e()&&t.preventDefault()}),!0):!1},StackExchange.question.initQuestionPinFeaturePopover=function(){var e=$(".js-pin-question-link"),t=e.data("single-collective-slug"),n="";t&&(n=t);var i=function(i){var o=$(this);if(!o.is(":working")){o.working(!0);var a=o.data("post-id"),r=o.data("action-pin-modal-url"),s=o.data("action-update-pin-url");return StackExchange.helpers.loadModal(r).done(function(){function i(n,i,a,r){var c={"fkey":StackExchange.options.user.fkey,"slug":n,"postId":i,"pin":a};r&&(c.replacePostIds=r),$.post(s,c).success(function(n){if(n.success){t?y=!y:(u.data("is-pinned",y?0:1),y=l.toArray().some(function(e){return $(e).data("is-pinned")}));var i=$(".js-stacks-managed-popup");i.remove(),y?e.text("Pinned"):e.text("Pin"),StackExchange.helpers.showToast(n.message,{"type":"success","transient":!0,"transientTimeout":15e6,"actions":[{"labelContents":$("<span>Undo</span>"),"click":function(){$.ajax({"type":"POST","url":k,"data":{"fkey":StackExchange.options.user.fkey,"undoToken":n.undoToken},"success":function(){window.location.reload()},"error":function(){StackExchange.helpers.showToast("Error undoing pin change",{"type":"danger","dismissable":!0})}})}}]})}else StackExchange.helpers.showToast(n.message,{"type":"danger"})}).error(function(){StackExchange.helpers.showToast("Error updating pin",{"type":"danger"})}).always(function(){o.working(!1).trigger("update")})}function r(){var e=$(".js-replace-existing-pin-"+n);e.change(function(){var t=e.filter(":checked");b=t?t.map(function(){return $(this).data("post-id")}).get().join():0,b?w.prop("disabled",!1):w.prop("disabled",!0)}),e.change()}var c=$(".js-choose-collective"),l=$(".js-collective-selection"),u=$(".js-collective-selection:checked"),d=$(".js-choose-collective-continue"),h=$(".js-back-to-collective-selection"),f=$(".js-pinned-post-count");const p=$(".js-pin-unpin-description");var g=$(".js-pin-unpin-title"),m=$(".js-pin-confirmation"),v=$(".js-change-pin-form");t=v.data("single-collective");var b,y=!!v.data("is-pinned"),k=v.data("undo-action-url"),w=$(".js-submit-pin");t?(n=t,y||r(),g.text(y?"Unpin this post?":"Pin this post?"),w.text(y?"Unpin post":"Pin post"),p.text(y?"This post will no longer appear at the top of the question list for your collective.":"This will appear at the top of the question list for the collective.")):(l.change(function(){var e=1;u=$("input[name=collectiveSelection]:checked",".js-change-pin-form"),e>0?(d.removeAttr("disabled"),n=u.data("slug"),y=!!u.data("is-pinned"),f.text(u.data("pinned-count"))):d.setAttr("disabled","disabled")}),d.click(function(){g.text(y?"Unpin this post?":"Pin this post?"),w.text(y?"Unpin post":"Pin post"),p.text(y?"This post will no longer appear at the top of the question list for your collective.":"This will appear at the top of the question list for the collective."),m.removeClass("d-none"),c.addClass("d-none"),$(".js-replace-question-section-"+n).removeClass("d-none"),$(".js-pin-breadcrumbs").removeClass("d-none"),r()}),h.click(function(){m.addClass("d-none"),c.removeClass("d-none"),$(".js-replace-question-section-"+n).addClass("d-none"),$(".js-pin-breadcrumbs").addClass("d-none")})),w.on("click",function(){i(n,a,!y,b)}),o.working(!1).trigger("update")}).always(function(){o.working(!1).trigger("update")}),o.working(!1).trigger("update"),i.preventDefault(),!1}};e.click(i)},StackExchange.question.initAndShowCloseReopenNotificationPopover=function(){var e=$(".js-close-question-link"),t=$(".js-close-reopen-popover");return e.length&&t.length?(e.attr({"aria-controls":"close-reopen-popover","data-controller":"s-popover","data-s-popover-placement":"bottom"}),e.after(t),t.find(".js-learn-more").on("click",function(){StackExchange.helpers.loadModal("/questions/close-reopen-explanation-modal").done(function(){e.data("show-interstitial",!1)}).fail(function(e){StackExchange.helpers.showToast(e,{"type":"danger"})})}),t.find(".js-dismiss").on("click",function(){StackExchange.helpers.toggleStacksPopover(e,!1)}),e.on("s-popover:hidden",function(){StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.DismissCloseReopenPrivilegePopover,!0),t.remove()}),StackExchange.helpers.queueStacksPopover(e,150),StackExchange.using("gps",function(){StackExchange.gps.track("close_popover.view")}),!0):!1},StackExchange.question.bindSuggestedEditPopupLinks=function(){function e(e){var t=e.closest(".js-post-menu"),n=t.attr("data-post-id"),i=t.find(".js-menu-popup-container");e.data("working")||e.data("working",!0).loadPopup({"url":"/review/suggested-edit-popup/"+n,"lightbox":!0,"dontShow":!0,"target":i,"defaultErrorMessage":"Unable to load suggested edit - please try again"}).done(function(e,t){t.fadeIn("fast"),e.css("height","600px").center().css("height","").fadeIn("fast")}).always(function(){e.removeData("working")})}$(".js-post-menu .js-edit-pending").each(function(){$(this).unbind("click").click(function(){return e($(this)),!1})})},StackExchange.vote=function(){function e(e,t){var n='<div class="fc-green-600">'+t.up+'</div><div class="vote-count-separator"></div><div class="fc-red-600">'+t.down+"</div>",i=Math.abs(+t.up),a=Math.abs(+t.down),r=function(e){return 1==e.upCount&&1==e.downCount?e.upCount+" up / "+e.downCount+" down":1==e.upCount?e.upCount+" up / "+e.downCount+" down":(1==e.downCount,e.upCount+" up / "+e.downCount+" down")}({"upCount":i,"downCount":a}),s=function(e){return 1==e.upCount&&1==e.downCount?"This "+e.postType+" has received "+e.upCount+" upvote and "+e.downCount+" downvote.":1==e.upCount?"This "+e.postType+" has received "+e.upCount+" upvote and "+e.downCount+" downvotes.":1==e.downCount?"This "+e.postType+" has received "+e.upCount+" upvotes and "+e.downCount+" downvote.":"This "+e.postType+" has received "+e.upCount+" upvotes and "+e.downCount+" downvotes."}({"upCount":i,"downCount":a,"postType":x(e)});e.html(n).data("value",Math.abs(+t.up)-Math.abs(+t.down)).off("keypress click").data("bound",!1).data("had-split",!0).removeClass("c-pointer").removeAttr("tabindex").removeAttr("role").attr("aria-label",r).setTooltipText(s,o)}var t=StackExchange.helpers,n={"informModerator":-1,"undoMod":0,"acceptedByOwner":1,"upMod":2,"downMod":3,"offensive":4,"bookmark":5,"close":6,"reopen":7,"bountyClose":9,"deletion":10,"undeletion":11,"spam":12,"reaction1":17,"helpful":18,"thankYou":19,"wellWritten":20,"follow":21,"reaction2":22,"reaction3":23,"reaction4":24,"reaction5":25,"reaction6":26,"reaction7":27,"reaction8":28,"outdated":29,"notOutdated":30},i=function(e){switch(e){case n.helpful:case n.thankYou:case n.wellWritten:case n.reaction1:case n.reaction2:case n.reaction3:case n.reaction4:case n.reaction5:case n.reaction6:case n.reaction7:case n.reaction8:return!0;default:return!1}},o={"placement":"right"},a={"placement":"top-start"},r=function(e){var t=e?S(e):C(),n=$("body.read-only").length>0;t.find(".js-vote-down-btn, .js-vote-up-btn").each(function(){var e,i=$(this),a=i.hasClass("js-vote-up-btn"),r=StackExchange.loggedIn&&y(i),s=w(i);if(n)e="Voting is disabled while the site is in read-only mode.";else{if(t.data("is-election"))return;var c=r?" (click again to undo)":"";e=a?s?"This answer is useful"+c:"This question shows research effort; it is useful and clear"+c:s?"This answer is not useful"+c:"This question does not show any research effort; it is unclear or not useful"+c}i.setTooltipText(e,o)})},s=function(e){var t=e?S(e):C();t.find(".js-bookmark-btn").each(function(){var e=$(this);e.setTooltipText(y(e)?"You have bookmarked this question (click to undo).":"Bookmark this question.",o)})},c=function(e){var t=e?S(e):C();l(e),t.find(".js-vote-up-btn").unadornedButtonClick(function(){p($(this))},{"namespace":"vote"}),t.find(".js-vote-down-btn").unadornedButtonClick(function(){g($(this))},{"namespace":"vote"})},l=function(e){var t=e?S(e):C();return t.find(".js-vote-down-btn, .js-vote-up-btn").unbind("keypress.vote click.vote")},u=function(e){var t={};$.each(e,function(){var e=this.PostId,o=C().filter(function(){return _($(this))===e}),a=this.VoteTypeId;switch(a){case n.upMod:k(o.find(".js-vote-up-btn"),!0);break;case n.downMod:k(o.find(".js-vote-down-btn"),!0);break;case n.bookmark:var r=o.find(".js-bookmark-btn");k(r,!0),s(r);break;case n.follow:var r=$(".js-post-menu[data-post-id="+e+"] .js-follow-post"),c=r.hasClass("js-follow-question");R(r,c,!0);break;case n.outdated:case n.notOutdated:StackExchange.OutdatedAnswers.userVoted(e);break;default:i(a)?t[e]?t[e].votesCast.push(a):t[e]={"$el":o.find(".js-reactions"),"votesCast":[a]}:StackExchange.debug.log("site.vote.js > highlightExistingVotes has no case for "+a)}}),Object.values(t).forEach(function(e){e.$el.attr("data-votes-cast",JSON.stringify(e.votesCast)).dispatchEvent("post:reactionsInit")}),votesCast=null},d=function(e){$.ajax({"type":"GET","url":"/posts/"+e+"/votes","dataType":"json","success":u})},h=function(e){null==window.votesCast?d(e):u(window.votesCast),c(),r(),tt(),f()},f=function(){$(".js-outdated-no").on("click",function(){var e=this,t=$(e).data("post-id");D({"$target":$(e),"postId":t,"voteTypeId":n.notOutdated,"success":function(){StackExchange.OutdatedAnswers.userVoted(t)}})}),$(".js-outdated-yes").on("click",function(){var e=this,t=$(e).data("post-id");D({"$target":$(e),"postId":t,"voteTypeId":n.outdated,"success":function(){StackExchange.OutdatedAnswers.openModal($(e)),StackExchange.OutdatedAnswers.userVoted(t)}})})},p=function(e){var t=S(e),i=t.find(".js-vote-up-btn"),o=t.find(".js-vote-down-btn"),a=!y(i),r=y(o),s=a?r?2:1:-1;A(t,s),k(i,a),k(o,!1),I(e,a?n.upMod:n.undoMod)},g=function(e){var t=S(e),i=t.find(".js-vote-up-btn"),o=t.find(".js-vote-down-btn"),a=!y(o),r=y(i),s=a?r?-2:-1:1;A(t,s),k(o,a),k(i,!1),I(e,a?n.downMod:n.undoMod)},m=function(){return C().find(".js-accept-answer-btn")},v=function(){return $(".js-post-menu .js-protect-btn")},b=function(){return $(".js-post-menu .js-unprotect-btn")},y=function(e){return"true"===e.attr("aria-pressed")},k=function(e,t){e.attr("aria-pressed",t?"true":"false").each(function(){var e=$(this).data("selected-classes"),n=$(this).data("unselected-classes");n&&t&&$(this).removeClass(n),e&&$(this).toggleClass(e,t),n&&!t&&$(this).addClass(n)})},w=function(e){return e.closest(".answer").length>0},x=function(e){return w(e)?"answer":"question"},S=function(e){return e.closest(".js-voting-container")},C=function(){return $(".js-voting-container")},_=function(e){return S(e).data("post-id")},j=function(e){return S(e).data("suppress-vote-requests")},E=function(e){return S(e).data("ltu")},T=function(e,n,i){var o={"dismissable":!0,"transient":!1,"transientTimeout":t.suggestedTransientTimeout(n,!0),"type":"danger","actions":[]},a=$.extend({},o,i);StackExchange.helpers.showToast(n,a)},M=function(){T(null,$("<span>").text("An error has occurred - please retry your request.").html(),{"transient":!0})},O=function(e,t,n){StackExchange.helpers.showToast(t,n)},A=function(e,t){var n=S(e).find(".js-vote-count"),i=n.data("value")+t,o=Q(i);n.data("value",i).text(o),n.data("had-split")&&X(n)},P=function(e){return S(e).find(".js-vote-count").data("value")},I=function(e,t){l(e),StackExchange.realtime.pauseQuestionNotifications=!0;var n=_(e);j(e)&&e.data("vote-stub",{"Success":!0,"LastVoteTypeId":t,"NewScore":P(e)}),D({"$target":e,"postId":n,"voteTypeId":t,"success":F,"data":{"ltu":E(e)}})},D=function(e){var t=e.$target,n=e.postId,i=e.data,o=e.voteTypeId,a=function(i){i.Warning?confirm(i.Message)&&(c.ignoreWarnings="true",d()):e.success&&e.success(t,n,i),e.complete&&e.complete()},r=function(i){M(),e.error&&e.error(t,n,i),e.complete&&e.complete()},s=t.data("vote-stub");if(s)return setTimeout(function(){a(s)},0),void 0;var c={"fkey":StackExchange.options.user.fkey};if(i)for(var l in i)c[l]=i[l];var u="/posts/"+n+"/vote/"+o;e.undo&&(u+="?undo=true");var d=function(){$.ajax({"type":"POST","url":u,"data":c,"dataType":"json","success":a,"error":r})};d()},F=function(e,t,i){if(i.Success)i.Message&&O(e,i.Message,{"transient":i.Transient}),i.LastVoteTypeId==n.upMod?$(document).trigger("upVote",[t,i.NewScore]):i.LastVoteTypeId==n.downMod?$(document).trigger("downVote",[t,i.NewScore]):$(document).trigger("undoVote",[t,i.NewScore]);else{i.Message?i.Info?O(e,i.Message,{"transient":!0}):T(e,i.Message,{"transient":!0}):M();var o=Q(i.NewScore);S(e).find(".js-vote-count").data("value",o).text(o),k(e,!1),i.LastVoteTypeId&&L(e,i.LastVoteTypeId)}c(e.parent()),StackExchange.realtime.pauseQuestionNotifications=!1,r(e)},L=function(e,t){var i=S(e);t===n.upMod?k(i.find(".js-vote-up-btn"),!0):t===n.downMod&&k(i.find(".js-vote-down-btn"),!0)},R=function(e,t,n){if(e&&e.length){e.attr("aria-pressed",n?"true":"false");var i=n?t?"Unfollow this question to stop receiving notifications":"Unfollow this answer to stop receiving notifications":t?"Follow this question to receive notifications":"Follow this answer to receive notifications";e.setTooltipText(i);var o=e.data("gps-track"),a=n?15:14,r=o.replace(/item:[ ]?[\d]+/,"item: "+a);e.data("gps-track",r),e.html(n?"Following":"Follow")}},N=function(e){e.prop("disabled",!0);
var t=e.hasClass("js-follow-question"),i=parseInt(e.closest(".js-post-menu").data("post-id")),o="true"===e.attr("aria-pressed"),a=!o;R(e,t,a),D({"$target":e,"postId":i,"voteTypeId":n.follow,"undo":o,"success":function(n,r,s){if(s.Success){var c=$("#divFollowingConfirm-"+i).length;s.Message&&(c||($(s.Message).insertAfter(e),c=!0),e.attr("aria-controls","divFollowingConfirm-"+i),e.attr("data-controller","s-popover s-tooltip")),a?c?(StackExchange.helpers.hideToasts(),StackExchange.helpers.toggleStacksPopover(e,!0)):t?O(e,"You’re now following this question",{"transient":!0}):O(e,"You’re now following this answer",{"transient":!0}):(t?O(e,"You’re no longer following this question",{"transient":!0}):O(e,"You’re no longer following this answer",{"transient":!0}),c&&StackExchange.helpers.toggleStacksPopover(e,!1))}else R(o),T(e,s.Message);e.prop("disabled",!1)},"error":function(){R(e,t,o),e.prop("disabled",!1)}})},V=function(){StackExchange.question.fullInit&&$(document).off(".following").on("click.following",".js-follow-post",function(){N($(this))}).on("click.following",".js-unfollow-post-confirm",function(){var e=$(this),t=e.closest(".js-following-confirm"),n=t.prev(".js-follow-post");N(n)})},U=function(){s(),$(document).unadornedButtonClick(function(){B($(this))},{"selector":".js-bookmark-btn:not(.disabled)"})},B=function(e){if(!e.data("loading")){e.data("loading",!0);var t=_(e),i=S(e).find(".js-bookmark-count"),o=y(e),a=i.data("value")||0,r=!o,c=r?a+1:a-1,l=function(t,n){k(e,t),e.attr("aria-label",n?"Bookmark("+n+")":"Bookmark"),s(e),i.data("value",n).text(n).toggleClass("d-none",0===n)};l(r,c),D({"$target":e,"postId":t,"voteTypeId":n.bookmark,"undo":o,"success":function(t,n,i){e.data("loading",!1),i.Success||(l(o,a),T(e,i.Message))}})}},q=function(e,t){var n=".js-post-menu .js-delete-post",i=$(document);i.off("click",n),i.on("click",n,function(n){n.preventDefault(),W($(this),e,t)}),i.off("mouseenter mouseleave",n),i.on("mouseenter mouseleave",n,function(){var e=$(this);if(e.hasClass("load-tooltip-on-hover")){e.removeClass("load-tooltip-on-hover");var t=e.closest(".js-post-menu").attr("data-post-id"),n="/posts/"+t+"/delete-tooltip";$.get(n,function(t){e.attr("title",t)})}}),i.off("click",".js-post-notice-delete-post").on("click",".js-post-notice-delete-post",function(){$(this).closest(".question, .answer").find(n).first().click()})},H=function(e,i,o,a){t.loadModal("/posts/{postId}/fancy-deletion-prompt".formatUnicorn({"postId":i}),{"returnElements":e}).then(function(t){t.find("a:link").attr("target","_blank"),t.find(".js-ok-button").on("click",function(){D({"$target":e,"postId":i,"voteTypeId":n.deletion,"success":o,"data":a})})})},W=function(e,t,i){var o=e.closest(".js-post-menu").attr("data-post-id"),a=e.data("is-deleted"),r=e.data(a?"undelete-prompt":"delete-prompt");r||(r=StackExchange.options.user.isModerator?a?"Undelete this post?":"Delete this post?":a?"Vote to undelete this post?":"Vote to delete this post?");var s=a?!1:!!e.data("fancy-delete"),c=t||G;return s?(H(e,o,c,i),void 0):(confirm(r)&&(StackExchange.realtime.pauseQuestionNotifications=!0,D({"$target":e,"postId":o,"voteTypeId":a?n.undeletion:n.deletion,"success":c,"data":i})),void 0)},G=function(e,t,n){var i=e.data("is-deleted");if(n&&n.Success){if(e.html(n.Message),e.addClass("load-tooltip-on-hover"),n.NewScore<0){var o=!i,a=$(".question[data-questionid="+t+"]").length>0,r=a?".question, div.answer":"#answer-"+t;e.data("is-deleted",o),z($(r),o),o&&e.trigger("post:deleted",[+t])}else O(e,i?"Your undelete vote has been recorded":"Your delete vote has been recorded");$(".js-post-notice-delete-post[data-post-id="+t+"]").remove()}else{var s=n&&n.Message?n.Message:i?"A problem occurred during undeletion":"A problem occurred during deletion";T(e,s)}StackExchange.realtime.pauseQuestionNotifications=!1},z=function(e,t){t?($("div.question-status:has(span:contains('delete'))").show(),e.addClass("deleted-answer").find(".js-post-menu .js-delete-post").addClass("deleted-post").end().find("div[id^='comments-']").addClass("comments-container-deleted").end().find("div[id^='comments-link-']>a").addClass("comments-link-deleted")):document.location.reload(!0)},Y=function(){var e=$(this),t=_(e),i=m();if(!e.is(":working")){var o=$('<div class="flex--item as-center" />').addStacksSpinner("sm").appendTo(S(e));i.working(!0),D({"$target":e,"postId":t,"voteTypeId":n.acceptedByOwner,"success":function(t,a,r){r.Success?(k(i,!1),parseInt(r.Message,10)==n.acceptedByOwner&&k(e,!0)):T(e,r.Message,{"transient":r.Transient}),o.remove(),i.working(!1).trigger("update")}})}},K=function(){var e=$(this),t=y(e)?"unaccept":"accept";e.setTooltipText(e.data("title-"+t),o);var n=e.data("verb-"+t);n&&e.text(n)},Q=function(e){var t=StackExchange.options.site.negativeVoteScoreFloor;return null===t?e:Math.max(t,e)},J=!1,Z=function(t){if(!J){J=!0;var n=_(t);return t.addStacksSpinner("sm","fc-black-200"),j(t)?(setTimeout(function(){var n=S(t),i=n.find(".js-vote-up-btn"),o=n.find(".js-vote-down-btn"),a=y(o),r=y(i),s=P(t),c=function(){return s>=0&&a?{"up":s+1,"down":-1}:0>=s&&r?{"up":1,"down":s-1}:s>0?{"up":s,"down":0}:{"up":0,"down":s}};e(t,c()),J=!1},200),void 0):($.ajax({"type":"GET","url":"/posts/{postId}/vote-counts".formatUnicorn({"postId":n}),"dataType":"json","success":function(n){StackExchange.helpers.removeMessages(),e(t,n)},"error":function(e){t.removeSpinner(),T(t,e.responseText&&e.responseText.length<100?e.responseText:"An error occurred during vote count fetch",{"transient":409==e.status})},"complete":function(){J=!1}}),void 0)}},X=function(e){(e||$(".js-vote-count")).not(".mobile-vote-count").not(":data(bound)").filter(function(){return _($(this))}).attr({"role":"button","tabindex":"0"}).setTooltipText("View upvote and downvote totals.",o).addClass("c-pointer").unadornedButtonClick(function(){Z($(this))}).data("bound",!0)},et=function(e){h(e),v().unbind("click").click(function(){$.ajax({"type":"POST","url":"/question/protect","data":{"id":$(this).closest(".js-post-menu").attr("data-post-id"),"fkey":StackExchange.options.user.fkey},"success":function(){location.reload(!0)}})}),b().unbind("click").click(function(){$.ajax({"type":"POST","url":"/question/unprotect","data":{"id":$(this).closest(".js-post-menu").attr("data-post-id"),"fkey":StackExchange.options.user.fkey},"success":function(){location.reload(!0)}})}),StackExchange.vote_closingAndFlagging.init(),U(),tt(),V(),$(document).on({"s-tooltip:show":function(e){$(this).has(".s-popover.is-visible:not(.s-popover__tooltip)").length&&e.preventDefault()},"s-tooltip:shown":function(e){var t=$(e.target).attr("aria-describedby");$("#"+t).addClass("wmx2")}},".js-voting-container")},tt=function(){function e(){return i||(i=$.ajax("/posts/popover/reactions",{"dataType":"text"}).fail(function(){i=null,M()})),i}tt=function(){};var i=null;Stacks.addController("reactions",{"targets":["button","toggle","count","onboarding","list"],"connect":function(){this.hasOnboardingTarget&&StackExchange.helpers.queueStacksPopover($(this.onboardingTarget),60),this.updateUI()},"dismissOnboarding":function(){this.hasOnboardingTarget&&StackExchange.helpers.toggleStacksPopover($(this.onboardingTarget),!1)},"onboardingDismissed":function(){this.hasOnboardingTarget&&(StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.DismissPostReactionIntroPopover,!0),$(this.onboardingTarget).remove(),$(this.element).removeClass("ps-relative"))},"tryToggle":function(e){"keypress"!==e.type||32!==e.keyCode&&13!==e.keyCode?"click"===e.type&&(e.currentTarget.blur(),e.preventDefault(),this.toggle(e)):(e.preventDefault(),this.toggle(e))},"toggle":function(e){if(this.tryStartWork()){var t=$(e.currentTarget),i=this.allowsMultiple?+t.attr("data-vote-id"):n.thankYou,o=this.toggleVoteTypeId(i);D({"$target":t,"postId":this.postId,"voteTypeId":i,"undo":!o,"success":this.handleVoteResponse.bind(this),"error":this.abortWork.bind(this),"complete":this.completeWork.bind(this)})}},"loadPopover":function(){var t="reactions-popover-"+this.postId,n=this.$btn,i=this,o=this.isFooter?"top-start":"right";e().done(function(e){$("#"+t).length>0||($(e).attr("id",t).insertAfter(n),n.attr({"aria-controls":t,"data-controller":"s-popover "+n.attr("data-controller"),"data-action":"s-popover#toggle "+n.attr("data-action"),"data-s-popover-placement":o}),i.updateUI(),StackExchange.helpers.toggleStacksPopover(n,!0))})},"showVotes":function(){$.ajax("/posts/modal/reactions/{postId}".formatUnicorn({"postId":this.postId})).then(this._showVotes.bind(this)).fail(M)},"_showVotes":function(e){if(e.Message)O(null,e.Message);else if(e.ModalHtml){var n=t.showModal($(e.ModalHtml).elementNodesOnly(),{"returnElements":$(this.countTarget)});StackExchange.gps.bindTrackClicks(n)}var i=this.stateFromData(e);i&&(this.state=i)},get $el(){return $(this.element)},get $btn(){return $(this.buttonTarget)},get postId(){return+_(this.$el)},get allowsMultiple(){return"true"===this.$btn.attr("aria-haspopup")},get isFooter(){return this.$btn.hasClass("js-reactions-footer-button")},get state(){var e=JSON.parse(this.$el.attr("data-votes-cast")||"[]"),t={};return this.listTargets.forEach(function(e){t[+e.dataset.voteId]=+e.dataset.voteCount}),e&&e.sort(),{"votesCast":e,"count":+this.$el.attr("data-count"),"voteCounts":t}},set state(e){this.$el.attr({"data-votes-cast":JSON.stringify(e.votesCast),"data-count":e.count}),this.listTargets.forEach(function(t){var n=e.voteCounts[+t.dataset.voteId]||0;$(t).attr("data-vote-count",n)}),this.updateUI()},"tryStartWork":function(){return this.workData?!1:(this.workData=this.state,!0)},"abortWork":function(){this.workData&&(this.state=this.workData,this.workData=null)},"completeWork":function(){this.workData=null},"toggleVoteTypeId":function(e){for(var t,n=this.state,i=!1;-1!==(t=n.votesCast.indexOf(e));)i=!0,n.votesCast.splice(t,1);var o=n.voteCounts[e]||0;return i?(n.count--,o=Math.max(0,o-1)):(n.votesCast.push(e),n.count++,o++),n.voteCounts[e]=o,this.state=n,!i},"stateFromData":function(e){var t={"count":e.NewScore,"votesCast":e.SelectedVoteTypeIds,"voteCounts":e.VoteCounts};return"number"==typeof t.count&&Array.isArray(t.votesCast)?t:null},"handleVoteResponse":function(e,t,n){var i=n.Success,o=n.Message,a=this.stateFromData(n);a?this.state=a:i||this.abortWork(),i&&this.allowsMultiple&&StackExchange.helpers.toggleStacksPopover(this.$btn,!1),o&&(i?O(e,o,{"transient":n.Transient}):n.Info?O(e,o,{"transient":!0}):T(e,o,{"transient":!0}))},"updateUI":function(){var e=this.state,t=e.count,n=e.votesCast,i=n.length>0,r=t>n.length;if(!this.isFooter){var s=$(this.countTarget);s.toggleClass("d-none",0>=t).toggleClass("fc-yellow-700",i).toggleClass("fc-black-200",!i).text(t)}this.$btn.attr({"aria-pressed":i.toString()}).find("svg").toggleClass("native",!this.isFooter&&i),this.toggleTargets.forEach(function(e){var t=$(e),i=+t.attr("data-vote-id"),o=-1!==n.indexOf(i);t.toggleClass("is-selected d:bg-white bc-black-100",o).attr("aria-pressed",o.toString()),this.isFooter||t.find("svg").toggleClass("native",o)},this);var c=x(this.$btn);this.allowsMultiple?this.$btn.setTooltipText("Click to add a reaction",a):(this.$btn.setTooltipHtml(i?"You reacted <b>thanks</b> (click to undo).":function(e){return"Say <b>thanks</b> for this "+e.postType+"."}({"postType":c}),o),s.setTooltipHtml(i?r?function(e){return 1==e.__count?"You and "+e.__count+" other reacted with <b>thanks</b>.":"You and "+e.__count+" others reacted with <b>thanks</b>."}({"__count":t-1}):"You reacted with <b>thanks</b>.":function(e){return 1==e.__count?e.__count+" other reacted with <b>thanks</b>.":e.__count+" others reacted with <b>thanks</b>."}({"__count":t}),o)),this.listTargets.forEach(function(e){var t=$(e),i=+t.attr("data-vote-id"),o=+t.attr("data-vote-count"),a=t.attr("data-name"),r=-1!==n.indexOf(i),s=o>(r?1:0);t.find(".js-reaction-count").text(o),this.updateTooltip(e),t.toggleClass("bg-black-050 d:bg-white bc-black-100",r).toggleClass("bg-white d:bg-black-025",!r).toggleClass("d-none",!r&&!s).attr({"aria-pressed":r.toString(),"aria-label":function(e){return 1==e.reactionCount,e.reactionName+" ("+e.reactionCount+" times)"}({"reactionName":a,"reactionCount":o}),"data-controller":"s-tooltip","data-action":"reactions#toggle s-tooltip:show->reactions#loadAndUpdateTooltip"})},this);var l=+this.$el.attr("data-count")>0;this.$el.find(".js-add-reaction-label").toggleClass("d-none",l)},"loadAndUpdateTooltip":function(e){var t=e.currentTarget,n=+$(t).attr("data-vote-id");if(!this.updateTooltip(t)){var i=this;$.ajax("/posts/tooltip/reactions/{postId}/{voteTypeId}".formatUnicorn({"postId":_($(t)),"voteTypeId":n})).success(function(e){$(t).data("tooltip-payload",e),i.updateTooltip(t)})}},"updateTooltip":function(e){var t=this.state.votesCast,n=+$(e).attr("data-vote-id"),i=-1!==t.indexOf(n),o=+$(e).attr("data-vote-count");if(i&&1===o)return $(e).setTooltipHtml('<div class="ta-left fs-caption w128 s-tooltip"><p class="fs-body1 mb6">'+function(e){return"Reacted with <b>"+e.reaction+"</b>"}({"reaction":$(e).attr("data-name")})+'</p><span class="fs-caption py2 m0">You</span></div>',a),!0;var r=$(e).data("tooltip-payload");if(r&&r.VoterUsers){var s=r.VoterUsers,c=s.map(function(e){return'<p class="fs-caption py2 m0">'+$("<div/>").text(e).html()+"</p>"}).join(""),l='<div class="ta-left fs-caption w128 s-tooltip"><p class="fs-body1 mb6">'+function(e){return"Reacted with <b>"+e.reaction+"</b>"}({"reaction":$(e).attr("data-name")})+"</p>"+c,u=i?'<p class="fs-caption py2 m0">You</p>':"",d=o-(i?s.length+1:s.length),h="+ "+d+" more",f=d>0?'<p class="fs-caption fw-bold pt2 m0">'+h+"</p>":"",p="</div>",g=l+u+f+p;$(e).setTooltipHtml(g,a)}return r?!0:($(e).setTooltipText("Loading...",a),!1)}})};return{"init":function(e){var t=!StackExchange.options.user.isRegistered;t?StackExchange.question.bindAnonymousVoteDisclaimers():et(e),m().not(":data(bound)").unadornedButtonClick(Y).on("update",K).data("bound",!0).trigger("update"),StackExchange.question.bindFetchAcceptedAnswerDates(),StackExchange.question.canViewVoteCounts()&&X(),q()},"election_init":function(e,t){e&&(u(t),X()),c()},"up":p,"down":g,"follow_init":V,"vote_init":h,"bookmark_init":U,"delete_init":q,"bindFetchVoteCounts":X,"highlightExistingVotes":u,"normalizePostScore":Q,"submit":D,"voteTypeIds":n,"getPostId":_}}(),StackExchange.vote_closingAndFlagging=function(){function e(){D=F=L=R=N=null}function t(){R&&StackExchange.helpers.closePopups(R),L&&StackExchange.helpers.closePopups(L)}function n(e){var t=F.data("is-closed");t?b(F.data("has-active-vote"),e):a(!0)}function i(i,o){t(),e(),D=O(i),F=i;var a=F.data("show-interstitial")===!0;a?StackExchange.helpers.loadModal("/questions/close-reopen-explanation-modal").done(function(e){F.data("show-interstitial",!1),e.on("popupClosing",function(){n(o)})}).fail(function(e){StackExchange.helpers.showToast(e,{"type":"danger"})}):n(o)}function o(e){StackExchange.helpers.showConfirmModal({"title":"Nominate this question for reopening?","bodyHtml":function(e){return"Vote to reopen questions that have been improved or shouldn’t have been closed on "+e.siteName+". "+e.startLink+"Learn more"+e.endLink+" about reopening questions."}({"siteName":StackExchange.options.site.name,"startLink":'<a href="/help/reopen-questions" target="_blank">',"endLink":"</a>"}),"buttonLabel":"Vote to reopen"}).then(function(t){t&&e()})}function a(e){var t=A(F),n={"loadedTimestamp":F.data(U)};P&&P.reviewTaskIdGetter&&(n.reviewTaskId=P.reviewTaskIdGetter());var i=F.loadPopup({"url":"/flags/questions/{questionId}/close/popup".formatUnicorn({"questionId":D}),"data":n,"dontShow":!0,"target":t}).done(function(n){L=n,L.appendTo(t),r(),P&&P.closeShowPopup?P.closeShowPopup(L,F):e&&L.center().fadeIn("fast")});return i}function r(){L.on("popupClose",function(){t()}),L.find("input[type=radio]").closest("li").bind("show-action",function(){l($(this))}),$("#close-question-form").submit(function(e){return e.preventDefault(),v(),!1}),$(".js-retract-close-vote").click(function(){C($(this))}),$(".action-list a").attr("target","_blank"),s(),c()}function s(){var e=$(".close-as-duplicate-pane"),t=e.find(".js-duplicate-search-field");e.on("show",function(){t.focus(),$("#close-question-form .js-popup-submit").enable($("#original-question-id").val())}).addClass("handles-submit-button-enabling"),t.typeWatch({"highlight":!1,"wait":750,"captureLength":-1,"callback":function(){g(t)}})}function c(){var e=L.find("[name=siteSpecificOtherText]"),t=e.closest("li"),n=t.find("[name=siteSpecificCloseReasonId]"),i=$.trim(e.val()),o=function(){return $.trim(e.val())!==i},a=function(t){var n=t&&o();e.is(":focus")&&L.find(".js-popup-submit").enable(n)};e.charCounter({"target":t.find(".text-counter"),"min":30,"max":500,"setIsValid":a}),n.click(function(){setTimeout(function(){e.focus();var t=e.val();e.val("").val(t)})}),e.focus(function(){n.is(":checked")||n.attr("checked","checked")})}function l(e){var t=e.find("input:radio"),n=L.find(".popup-subpane").filter(function(){var e=t.data("subpane-name");return e&&e==$(this).data("subpane-name")}),i=L.find(".js-popup-submit");n.length?(u(n,$(".popup-active-pane"),!0),n.hasClass("handles-submit-button-enabling")||i.disable()):i.enable()}function u(e,t,n){if(L.find(".popup-active-pane").removeClass("popup-active-pane").hide(),L.find(".popup-title").html(e.data("title")),n){var i=t.data("breadcrumb")||t.data("title");h(i,function(){u(t,e,!1)})}if(d(e),t.data("clear-input-selector")){t.find(t.data("clear-input-selector")).val("");var o=L.find(".js-popup-submit");o.attr("disabled","disabled")}e.addClass("popup-active-pane").show().trigger("show").asyncLoad()}function d(e){e.find("input[type=radio]:checked").removeAttr("checked"),e.find("li.action-selected").removeClass("action-selected"),L.find(".js-popup-submit").disable()}function h(e,t){function n(){var e=i.find(".s-breadcrumbs--item").length>0;i.add(a).toggleClass("d-none",!e),o.toggleClass("d-none",e),i.find(".s-breadcrumbs--divider").removeClass("d-none").last().addClass("d-none")}var i=L.find(".js-breadcrumbs"),o=L.find(".js-popup-cancel"),a=L.find(".js-popup-back"),r=$('<div class="s-breadcrumbs--item" />').appendTo(i);a.off("click").click(function(){i.find(".s-breadcrumbs--link").last().click()}),$('<span class="s-breadcrumbs--link c-pointer" tabindex="0" role="button">').text(e).click(function(){r.nextAll().andSelf().remove(),n(),t()}).appendTo(r),Svg.ArrowRightAltSm().addClass("s-breadcrumbs--divider").appendTo(r),n()}function f(){h("Flagging",function(){var e=L.position();StackExchange.options.isMobile||R.css({"top":e.top,"left":e.left}),L.hide(),R.fadeIn("fast"),u(L.find("#pane-main"),L.find(".popup-active-pane"),!1)})}function p(e){var t=e.find(".list-originals");return 0==t.children().length?(t.hide(),void 0):(t.show(),m(t,!0),styleCode(),t.find(".item").click(function(){var e=$(this).find(" .post-link > a").addSpinner({"padding-left":"3px"}),t=$(e).closest(".close-as-duplicate-pane").find(".js-duplicate-search-field").val(e.attr("href"));return g(t,e),!1}).hover(function(){$(this).toggleClass("hover")}),void 0)}function g(e,t){var n=e.closest(".popup-subpane"),i=n.find(".preview"),o=n.find(".list-container"),a=n.find(".search-errors").empty(),r=$("#original-question-id"),s=n.closest("#popup-close-question").find(".js-popup-submit");if(s.disable(),i.html("").hide(),0!=$.trim(e.val()).length){t||n.find(".search-spinner").addSpinner();var c={"q":e.val()};P&&P.reviewTaskIdGetter&&(c.reviewTaskId=P.reviewTaskIdGetter()),$.ajax({"type":"GET","url":"/posts/popup/close/search-originals/"+$("#popup-close-question").data("questionid"),"data":c,"dataType":"html"}).done(function(e){var t=$(e).elementNodesOnly().mathjax();if(t.hasClass("show-original"))o.hide(),m(t),i.empty().append(t).show(),t.find(".question .show-title a").attr("target","_blank"),t.find(".post-tag").addClass("user-tag"),r.val(t.find(".question").data("questionid")),s.enable();else{if(!t.hasClass("list-originals"))throw"these are not the results you were looking for";o.empty().append(t).show(),p(o)}}).fail(function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred while searching; please try again";a.text(t),s.disable(),r.val(""),n.find(".navi-container .instructions").remove()}).always(function(){StackExchange.helpers.removeSpinner()})}}function m(e,t){var n=$(".close-as-duplicate-pane"),i=n.find(".original-display .navi-container"),o=e.find(".navi"),a=n.find(".js-duplicate-search-field");if(t)i.empty();else{var r=i.find(".navi");if(1!=r.length)return;r.empty(),$("<a>").text(r.data("abbr")).click(function(){r.html(r.data("text")).siblings().remove(),i.siblings(".preview").hide(),i.siblings(".list-container").show(),$("#original-question-id").val(""),$("#popup-close-question").find(".js-popup-submit").disable(),$(".close-as-duplicate-pane").find(".search-errors").empty(),a.val(r.data("search-text")).focus()}).appendTo(r)}o.data("search-text",a.val()).text(o.data("text")).prependTo(i)}function v(){var e=L.find(".js-popup-submit");if(!e.attr("disabled")){$(".remaining-votes").addSpinner({"position":"absolute","margin":"18px 0 0 3px"}),e.disable();var n=function(e,t){return L.find(e+' input[type=radio][name="'+t+'"]:checked')};return P&&P.closeSubmitting&&P.closeSubmitting()===!1?(t(),void 0):($.ajax({"type":"POST","url":"/flags/questions/{questionId}/close/add".formatUnicorn({"questionId":D}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"closeReasonId":n("#pane-main","closeReasonId").val(),"duplicateOfQuestionId":$("#original-question-id").val(),"siteSpecificCloseReasonId":n(".site-specific-pane","siteSpecificCloseReasonId").val(),"belongsOnBaseHostAddress":n(".migration-pane","belongsOnBaseHostAddress").val(),"siteSpecificOtherText":L.find("[name=siteSpecificOtherText]").val(),"siteSpecificOtherCommentId":n(".site-specific-pane","siteSpecificCloseReasonId").data("other-comment-id"),"originalSiteSpecificOtherText":L.find('[name="originalSiteSpecificOtherText"]').val()}}).done(function(e){k(e)}).fail(function(){T(F,"An error occurred; please try again")}).always(function(){t()}),void 0)}}function b(e,t){F.hasClass("is-loading")||(e?StackExchange.helpers.showConfirmModal({"title":"Retract your reopen vote?","bodyHtml":"You have already voted to reopen this question. Do you want to retract your vote? If you retract, you won’t be able to vote to reopen this question again.","buttonLabel":"Retract reopen vote"}).then(function(e){e&&y("retract")}):t?y("add"):o(function(){y("add")}))}function y(e){F.addClass("is-loading"),$.ajax({"type":"POST","url":"/flags/questions/{questionId}/reopen/{action}".formatUnicorn({"questionId":D,"action":e}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey}}).done(function(t){t.Success&&F.data("has-active-vote","add"===e),k(t)}).fail(function(){T(F,"An error occurred; please try again")}).always(function(){F.removeClass("is-loading")})}function k(e){e.isClose="QuestionClose"==e.FlagType,e.isRecommendClose="QuestionRecommendClose"==e.FlagType,e.isReopen="QuestionReopen"==e.FlagType,e.verb=e.isRecommendClose?"flag":e.isReopen?"reopen":"close";var t=F;e.isClose&&F.is('[class*="flag-post-"]')&&(t=F.parent().find("a[class*='close-question']")),e.Success?w(e,t):S(e,t)}function w(e,t){if(!(P&&P.closeCallback&&P.closeCallback(t,e,e.isRecommendClose))){var n=function(){var e=window.location.href.splitOnLast("#")[0],t="noredirect=1";e.indexOf(t)<0&&(e+=(e.indexOf("?")<0?"?":"&")+"noredirect=1"),window.location.href=e};return e.ResultChangedState?(n(),void 0):("Duplicate"!=e.CloseReason&&e.SiteSpecificCloseReasonId!=V||0!=t.closest(".mod-post-header").length||StackExchange.comments.loadAll(t),e.Tooltip&&t.attr("title",e.Tooltip),e.Message?(x(e,t),void 0):(n(),void 0))}}function x(e,t){if(e.Message&&StackExchange.helpers.showToast(e.Message,{"transient":e.Message.length<150}),!e.isRecommendClose){t=t.closest(".js-post-menu").find(".js-close-question-link");var n=t.find(".existing-flag-count");e.Count>0?(0==n.length&&(t.text(t.text()+" "),n=$('<span class="existing-flag-count">').appendTo(t)),n.text(e.Count)):0===e.Count&&n&&(n.remove(),t.attr("title","You retracted your close vote for this question"))}}function S(e,t){var n=e.Message;if(!n)switch(e.verb){case"flag":n="A problem occurred when trying to flag";break;case"reopen":n="A problem occurred when trying to reopen";break;case"close":n="A problem occurred when trying to close"}P&&P.closeErrorCallback&&P.closeErrorCallback(n)||(T(t,n),e.RefreshClient&&setTimeout(function(){location.reload(!0)},2500))}function C(e){!e.is(":disabled")&&confirm("Are you sure? If you retract, you won’t be able to vote to close this question again.")&&(e.disable().addSpinnerBefore({"position":"absolute","margin":"18px 0 0 -25px"}),$.ajax({"type":"POST","url":"/flags/questions/{questionId}/close/retract".formatUnicorn({"questionId":D}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey}}).done(function(e){x(e,F)}).fail(function(){T(F,"An error occurred; please try again")}).always(function(){t()}))}function _(n){t(),e(),D=O(n),F=n;var i=A(n),o={"loadedTimestamp":n.data(U)};P&&P.reviewTaskIdGetter&&(o.reviewTaskId=P.reviewTaskIdGetter()),n.loadPopup({"url":"/flags/posts/{postId}/popup".formatUnicorn({"postId":D}),"loaded":j,"data":o,"hideDescriptions":!1,"target":i,"subformShow":q,"dontShow":P&&P.flagShowPopup})}function j(e){R=e,B(),R.on("popupClose",function(){t()}),R.find(".js-flag-load-close").unbind("click").click(function(){I?I(R,$(this)):H($(this))});var n=R.find("form"),i=StackExchange.settings.flags.allowRetractingFlags?n.attr("data-showretract"):null;n.submit(function(e){return e.preventDefault(),i?W(i):G(),!1}),E(),P&&P.flagShowPopup&&P.flagShowPopup(e,F)}function E(){R.find(".action-list > .disabled-action").each(function(){var e=$(this);e.find("input[type=radio]").attr("disabled","disabled"),e.find(".action-name").addClass("disabled-button")})}function T(e,t,n){StackExchange.helpers.showToast(t,{"type":n?"info":"danger","$source":e})}function M(e,t){StackExchange.helpers.showToast(t,{"type":"warning","$source":e})}function O(e){return e.attr("data-post-id")||e.closest(".js-post-menu").attr("data-post-id")}function A(e){var t=e.closest(".js-post-menu").find(".js-menu-popup-container");if(t.length>0)return t;var n=e.closest(".js-post-flag-bar").siblings(".js-post-flag-close-container");return n.length>0?n:e.parent()}var P,I,D,F,L,R,N,V=3,U="loaded-timestamp",B=function(){var e=R.find(".js-popup-submit"),t=R.find('textarea[name="otherText"]'),n=R.find('input[value="PostOther"]');t.focus(function(){n.is(":checked")||n.attr("checked","checked")}).charCounter({"min":10,"max":500,"setIsValid":function(t){n.is(":checked")&&e.enable(t)}}),n.click(function(){t.focus()})},q=function(e){if(e.is(".mod-attention-subform")){var t=e.find('textarea[name="otherText"]');e.find('input[value="PostOther"]:checked').length>0?t.focus():0==e.find("input:radio:checked").length&&e.closest(".popup").find(".js-popup-submit").disable()}},H=function(e){var t=R.position(),n=R.fadeOut("fast").promise();L||(e.siblings(".action-name").addSpinner({"margin":"0 5px"}),n=a(!1)),n.done(function(){f(),e.is(".js-flag-load-close-duplicate")&&L.find("input[value=Duplicate]").click(),StackExchange.options.isMobile||L.css({"top":t.top,"left":t.left}),L.fadeIn("fast")}),R.find(".js-popup-submit").disable(),e.removeAttr("checked"),R.find(".action-list li").trigger("hide-action")},W=function(e){z("/flags/posts/{postId}/retract/{flagType}",e,"")},G=function(){var e=R.find('textarea[name="otherText"]'),n=function(n){return n.Success?(t(),!1):(1===n.Outcome?M(e,n.Message):T(R.find(".popup-actions"),n.Message),!0)},i=R.find('input[name="top-form"]:checked').val(),o="";"PostOther"==i&&(o=e.val());var a=N===o;return N=o,P&&P.flagSubmitting&&P.flagSubmitting()===!1?(t(),void 0):(z("/flags/posts/{postId}/add/{flagType}",i,o,a,n),void 0)},z=function(e,n,i,o,a){R.find(".js-popup-submit").disable().addClass("is-loading"),$.ajax({"type":"POST","url":e.formatUnicorn({"postId":D,"flagType":n}),"dataType":"json","data":{"fkey":StackExchange.options.user.fkey,"otherText":i,"overrideWarning":o}}).always(function(){a||t(),R.find(".js-popup-submit").enable().removeClass("is-loading")}).done(function(e){a&&a(e)||P&&P.flagCallback&&P.flagCallback(F,e)||(e.ResultChangedState?location.reload(!0):e.Message&&T(F,e.Message,e.Success))}).fail(function(e){var t=e.responseText&&e.responseText.length<100?e.responseText:"An error occurred during flagging";T(R.find(".popup-actions"),t)})};return{"close_afterLoadListOriginals":p,"close_initDuplicateSubPane":s,"updateCloseLinkCount":x,"showReopenConfirmation":o,"init":function(e){P||(P=e);var t=".js-close-question-link",n=function(e,t){e.preventDefault(),i($(this),!!t)};$("body").off("click",t).on("click",t,n);var o=".js-flag-post-link",a=function(e){e.preventDefault(),_($(this))};$("body").off("click",o).on("click",o,a);var r=Date.now();$(t).add(o).each(function(){var e=$(this);e.data(U)||e.data(U,r)})}}}(),function(){function e(e,t){this.commentId=e,this.jComment=t,this.postUi=l(t)}function t(t,n){n||(d=t),t=t||d||{};for(var i in t)t.hasOwnProperty(i)&&(e.prototype[i]=t[i])}function n(e,t){if(!e)throw new Error("$txt is required");e instanceof $||(e=$(e));var n=StackExchange.helpers.hasContentEditable(e);return 1===arguments.length?n?e.html():e.val():(n?e.html($("<div/>").text(t).html()):e.val(t),void 0)}function i(e,t,n,i,a,r){var c,l=t.hasClass("mobile-comment-form");c=l?'<div class="js-comment-text-input-container"></div><button type="submit" class="s-btn s-btn__primary"></button> <button type="button" class="js-edit-comment-cancel s-btn d-none"></button><span class="comment-text"><span class="text-counter"></span></span>':'<div class="js-comment-form-layout d-flex fw-wrap jc-end mt8"><div class="w75 fl-grow1"><div class="js-comment-text-input-container"/><span class="text-counter"></span> <span class="form-error"></span></div><div class="d-flex fd-column jc-space-between pb4 mb16 ml8"><div class="d-flex fd-column"><button type="submit" class="s-btn s-btn__primary"></button><button type="button" class="js-edit-comment-cancel s-btn s-btn__link ta-left px2 mt6"></button></div><br/><button type="button" class="js-comment-help-link s-btn s-btn__link ta-left px2"></button></div></div>',t.append(c).find("[type=submit]").text(n);var u=e.renderTextInput(t,l),d=t.find(".js-comment-text-input-container");a&&(d.append('<div class="new-contributor-indicator fc-black py12 btr-sm ta-center">'+a+"</div>"),u.addClass("btr0")),d.append(u),i&&(t.find(".js-edit-comment-cancel").text("Cancel").removeClass("d-none").click(function(){o(t).cancelEdit()}),t.keyup(function(e){27!==e.which||0!==t.find("#tabcomplete > li:visible").length||t.hasClass("js-prevent-submit-form-on-enter-press")||o(t).cancelEdit()}));var f=!1,p=function(e){f=e},g=$(".js-comments-container").data("min-length");u.attr("placeholder",t.data("placeholdertext")).charCounter({"min":g,"max":600,"setIsValid":p}).focus(function(){StackExchange.comments.tabCompleter.init($(this))});var m=t.hasClass("js-abridged-help");return s&&u.one("focus",{"abridged":m},h),t.find(".js-comment-help-link").text("Help").click({"abridged":m},h),t.submit(function(){return f?(StackExchange.helpers.disableSubmitButton(t),r(t)):t.find("span.text-counter").animate({"opacity":0},100,function(){$(this).animate({"opacity":1},100)}),!1}),StackExchange.settings.comments.doNotSubmitOnEnter||StackExchange.helpers.submitFormOnEnterPress(t),u}function o(t){var n=$(t).closest(".js-comment"),i=(n.data("comment-id")||"").toString();return new e(i,n)}function a(e,t,n){/Android/.test(navigator.userAgent)&&$(t,e).bind("touchstart",function(e){var t=$(e.target);if(!t.is(n))return!0;var i=t.length?$._data(t[0],"events"):null;return i&&i.click&&i.click.length?!0:(t.click(function(){}).attr("data-nothing-to-see-here","X"),!0)})}function r(e,t,n){var i=function(e){e.preventDefault();var t=o(this),i=t[n];i.apply(t)};$(".js-comments-container",e).delegate(t,"click",i),a(e,".js-comments-container",t)
}var s,c=StackExchange.comments,l=c.uiForPost;c.extendPostUi({"ensureInput":function(){var e=this.jDiv.find('form[id^="add-comment-"]'),t=this;return e.children().length?(e.add(e.prev()).show(),e.find(".js-comment-text-input")):i(t,e,"Add comment",!1,this.jDiv.find(".js-add-comment-message").html(),function(){t.submitNewComment()})},"renderTextInput":function(e,t){var n=$('<textarea name="comment" class="s-textarea js-comment-text-input"></textarea>');return t?n.attr("rows",2):n.attr("rows",3).attr("cols",68),n},"saveEditingComments":function(e){var t=this.editingComments=[];this.jDiv.find(".js-edit-comment-form:visible").each(function(){var n=o(this);if(n.commentId!==e){var i=$(this).find("textarea");t.push([n.commentId,i.val()])}})},"restoreEditingComments":function(){if(this.editingComments){var e=this.jDiv;$.each(this.editingComments,function(t,n){var i=n[0],a=n[1],r=e.find("#comment-"+i);r.length&&o(r).edit(a,!0)}),delete this.editingComments}},"commentsShown":function(){try{var e=this.jDiv.find("form[id^='add-comment-'] .js-comment-text-input:focus");e.length&&StackExchange.comments.tabCompleter.init(e),this.remainingCommentsCount(0)}catch(t){}},"submitNewComment":function(){var e=this.jDiv.find('form[id^="add-comment-"]'),t=e.find(".js-comment-text-input"),i=this;if(!e.is(":working")){e.working(!0);var o={"comment":n(t),"fkey":StackExchange.options.user.fkey};this.alterAddEditDataBeforeSubmit(o),this.ajax({"type":"POST","url":"/posts/"+this.postId+"/comments","dataType":"html","data":o},"An error occurred while adding this comment",e).done(function(o){n(t,""),t.keyup().blur(),StackExchange.helpers.enableSubmitButton(e),e.add(e.prev()).hide(),e.find(".message-dismissable").fadeOutAndRemove(),i.showComments(o,null,!1,!0),i.jCommentsLinkContainer.show(),$(document).trigger("comment",i.postId)}).fail(function(){StackExchange.helpers.enableSubmitButton(e)}).always(function(){e.working(!1)})}},"checkDiscussion":function(){var e=this.jDiv.find(".is-comment-discussion"),t=this;if(e.length){e.remove();var n=this.jDiv.find(".comment-form");if(!n.find(".discussion-info").length){{$("<div style='margin:12px 0 3px; font-weight:bold' class='discussion-info'>"+function(e){return"Please avoid extended discussions in comments. Would you like to "+e.aStart+"automatically move this discussion to chat?"}({"aStart":"<a href='#'>"})+"</a></div>").find("a").click(function(e){$(this).unbind("click"),e.preventDefault(),t.ajax({"url":"/posts/"+t.postId+"/move-discussion-to-chat","data":{"fkey":StackExchange.options.user.fkey},"type":"POST"},"An error occurred when trying to move the discussion to chat",n).done(function(e){e.success?window.location.href=e.message:StackExchange.helpers.showErrorMessage(n,e.message)})}).end().prependTo(n)}e.remove()}}}});var u=function(){};e.prototype={"undoVoteUp":u,"voteUp":u,"delete":u,"undelete":u,"flag":u,"submitFlag":u,"edit":u,"cancelEdit":u,"submitEdit":u,"submitVote":u,"renderScore":u,"showEdits":u};var d;t({"undoVoteUp":function(){if(!StackExchange.options.inReadOnly&&confirm("Are you sure you want to undo your upvote on this comment? You will not be able to upvote it again.")){var e=this.jComment.find(".comment-up-on").addClass("comment-up comment-up-off").removeClass("comment-up-on comment-up-undo"),t=this;this.submitVote(0).done(function(n){return n.Success?(t.renderScore(n.NewScore),e.prop("title","This comment adds something useful to the post").attr("aria-label","Upvote comment"),$(document).trigger("undoUpVoteComment",t.postUi.postId),void 0):(e.removeClass("comment-up-off comment-up").addClass("comment-up-on"),void 0)}).fail(function(t){409===t.status&&e.addClass("comment-up-undo"),e.removeClass("comment-up").addClass("comment-up-on")})}},"voteUp":function(){if(!StackExchange.options.inReadOnly){var e=this.jComment.find(".comment-up").addClass("comment-up-on").removeClass("comment-up"),t=this;this.submitVote(2).done(function(n){if(!n.Success)return e.removeClass("comment-up-on").addClass("comment-up"),void 0;e.removeClass("comment-up-off"),e.addClass("comment-up-undo"),t.renderScore(n.NewScore);var i="You’ve voted for this as a useful comment (click again to undo)";e.prop("title",i).attr("aria-label",i),$(document).trigger("upVoteComment",t.postUi.postId)}).fail(function(){e.removeClass("comment-up-on").addClass("comment-up")})}},"delete":function(){if(!StackExchange.options.inReadOnly){var e=this.jComment,t=this.postUi.jDiv,n=this.commentId;confirm("Really delete this comment?")&&this.submitVote(10).done(function(i){i.Success&&(e.remove(),0===t.find(".js-comment, textarea:visible").length&&t.addClass("dno"),t.trigger("comment:deleted",[+n]))})}},"flag":function(){function e(e){function a(e){if(u){var t=!1;r.each(function(){var n=$(this),i=n.closest(".js-comment-flag-option").find(".js-required-comment"),o=i.find("textarea").val()||"",a=n.is(":checked");i.toggleClass("d-none",!a),a&&(0==i.length||o.length>=6&&o.length<=200)&&(t=!0),e&&i.find("textarea").focus()}),s.enable(t)}}var r=e.find('input[name="comment-flag-type"]'),s=e.find(".js-modal-submit"),c=e.find("form"),l=c.data("submittype"),u="add"===l,d="retract"===l,h="";e.find(".js-comment-flag-option a").attr("target","_blank"),e.find(".js-required-comment").each(function(){$(this).find("textarea").charCounter({"min":6,"max":200,"setIsValid":function(){a(!1)},"target":$(this).find(".js-input-message")})}),r.click(function(){a(!0)}),a(!1),c.submit(function(a){function c(e){var n="fc-red-500",i="fc-black-100",a="c-pointer",r=!e||StackExchange.settings.flags.allowRetractingCommentFlags,s=e&&r?"You have flagged this comment (click to review your flag)":e?"You have already flagged this comment":"Flag this comment for serious problems or moderator attention";t.find(".comment-voting").toggleClass("d-none",e),o.toggleClass(n,e).toggleClass(i,!e).toggleClass(a,r).attr("aria-pressed",e).prop("disabled",!r).prop("title",s)}a.preventDefault();var l=r.filter(":checked"),f=l.val(),p=l.closest(".js-comment-flag-option").find(".js-required-comment textarea").val()||"",g=p===h;h=p,s.addClass("is-loading"),u?$.ajax({"type":"POST","url":"/flags/comments/{commentId}/add/{flagTypeId}".formatUnicorn({"commentId":n,"flagTypeId":f}),"data":{"fkey":StackExchange.options.user.fkey,"otherText":p,"overrideWarning":g},"dataType":"json"}).done(function(o){if(!o.Success){var a={"closeOthers":!1};return 1===o.Outcome&&(a.type="warning"),s.removeClass("is-loading").parent().showErrorMessage(o.Message||"An error occurred during flagging",a),void 0}StackExchange.helpers.closePopups(e,"submit"),StackExchange.helpers.showToast("Thanks for flagging! We take your reports seriously.",{"type":"success","transientTimeout":3e3}),o.ResultChangedState?(t.remove(),i.jDiv.trigger("comment:deleted",[+n])):c(!0)}).fail(function(e){var t=e.responseText;(!t||t.indexOf("<html")>=0)&&(t="An error occurred during flagging"),s.removeClass("is-loading").parent().showErrorMessage(t,{"transient":409==e.status,"closeOthers":!1})}):d&&$.ajax({"type":"POST","url":"/flags/comments/{commentId}/retract/{flagTypeId}".formatUnicorn({"commentId":n,"flagTypeId":f}),"data":{"fkey":StackExchange.options.user.fkey,"otherText":p,"overrideWarning":g},"dataType":"json"}).done(function(t){return t.Success?(StackExchange.helpers.closePopups(e,"submit"),StackExchange.helpers.showToast("The comment flag has been successfully retracted.",{"type":"success","transientTimeout":3e3}),c(!1),void 0):(StackExchange.helpers.showToast(t.Message||"An error occurred during flagging",{"type":"danger","$parent":e}),void 0)}).fail(function(e){var t=e.responseText;(!t||t.indexOf("<html")>=0)&&(t="An error occurred during retraction of flag"),s.removeClass("is-loading").parent().showErrorMessage(t,{"transient":409==e.status,"closeOthers":!1})})}),e.focus()}if(!StackExchange.options.inReadOnly){var t=this.jComment,n=this.commentId,i=this.postUi,o=t.find(".js-comment-flag"),a=o.addAtEnd(t.next().find(".js-comment-flag")).addAtEnd(i.jCommentsLinkContainer.find(".js-add-link, .js-show-link"));o.addSpinnerAfter({}),StackExchange.helpers.loadModal("/flags/comments/{commentId}/popup".formatUnicorn({"commentId":this.commentId}),{"returnElements":a}).done(e).fail(function(e){o.parent().showErrorMessage(e)}).always(function(){StackExchange.helpers.removeSpinner()})}},"edit":function(e,t){if(!StackExchange.options.inReadOnly){var o=this.jComment,a=o.find(".js-edit-comment-form"),r=a.find(".js-comment-text-input"),s=this,c=s.postUi;"string"!=typeof e&&(e=null),a.length&&(o.find(".js-comment-edit-hide").addClass("d-none"),o.find(".js-comment-text-and-form").addClass("comment-form"),a.removeClass("d-none").toggleClass("mobile-comment-form",StackExchange.options.isMobile||!1),r.length||(r=i(c,a,"Save edits",!0,"",function(){s.submitEdit()}),n(r,e||a.data("markdown")||"")),r.trigger("charCounterUpdate").trigger("editReady"),t||(r.focus(),StackExchange.helpers.hasContentEditable(r)&&StackExchange.helpers.placeCaretAtEnd(r[0])))}},"cancelEdit":function(){var e=this.jComment,t=e.find(".js-edit-comment-form");e.find(".js-comment-edit-hide").removeClass("d-none"),e.find(".js-comment-text-and-form").removeClass("comment-form"),t.addClass("d-none").removeClass("mobile-comment-form"),t.children().remove(),t.unbind("submit"),e.find(".js-comment-edit.js-return-focus").removeClass("js-return-focus").focus()},"submitEdit":function(){if(!StackExchange.options.inReadOnly){var e=this.jComment,t=e.find(".js-edit-comment-form"),i=t.find(".js-comment-text-input"),o=n(i),a=this.commentId,r=this.postUi,s=e.find(".js-comment-edit.js-return-focus").length>0,c={"comment":o,"fkey":StackExchange.options.user.fkey};r.alterAddEditDataBeforeSubmit(c),r.ajax({"type":"POST","url":"/posts/comments/"+a+"/edit","dataType":"html","data":c},"An error occurred while editing this comment",t).done(function(e){i.val("").keyup().blur(),StackExchange.helpers.enableSubmitButton(t),r.showComments(e,a,!1,!0),r.jDiv.trigger("comment:edited",[+a,e]);var n=r.jDiv.find(".js-comment[data-comment-id="+a+"]");s&&n.find(".js-comment-edit").focus()}).fail(function(){StackExchange.helpers.enableSubmitButton(t)})}},"submitVote":function(e,t){if(!StackExchange.options.inReadOnly){var n=this.jComment.find(".js-comment-actions"),i={"fkey":StackExchange.options.user.fkey};if(t)for(var o in t)i[o]=t[o];var a={"type":"POST","url":"/posts/comments/"+this.commentId+"/vote/"+e,"dataType":"json","data":i,"success":function(e){!e.Success&&e.Message&&StackExchange.helpers.showErrorMessage(n,e.Message)}};return this.postUi.ajax(a,"An error occurred during voting",n,!0)}},"renderScore":function(e){var t="";if(e&&e>0){var n=5>e?"":15>=e?"warm":30>=e?"hot":"supernova";t+='<span title="number of \'useful comment\' votes received" class="'+n+'">'+e+"</span>"}this.jComment.find(".comment-score").html(t)},"showEdits":function(){var e=this.jComment,t=$("#comment-"+this.commentId+" .js-show-edits"),n={"type":"GET","url":"/posts/comments/{commentId}/edit-history".formatUnicorn({"commentId":this.commentId}),"dataType":"html"};this.postUi.ajax(n,null,t.parent()).done(function(t){StackExchange.helpers.showMessage(e.find(".js-comment-text-and-form"),null,{"messageElement":t,"type":"config","relativeToBody":!0,"position":{"my":"top center","at":"bottom center","offsetTop":-10,"offsetLeft":60},"fixedTo$elem":!0})})}});var h=function(e){var t,n=$(this).closest(".js-comment-form-layout"),i=n.find(".comment-help-link"),o=$(".comment-help",n);if("click"==e.type)t=0==o.length||!o.is(":visible"),t||(h.manualOnly=!0);else{if(h.manualOnly)return;t=!0}var a=function(){i.text(t?"Hide help":"Help")};if(o.length>0)return t?o.slideDown(a):o.slideUp(a),void 0;if(t){var r=$("<div class='w100' />").appendTo(n);if(h.helpText)r.html(h.helpText),$(".comment-help",r).slideDown(a);else{if(h.inProgress)return;h.inProgress=!0,StackExchange.helpers.addSpinner(i);var s=e.data.abridged;r.load("/posts/comment-help?abridged="+s,function(e){h.helpText=e,StackExchange.helpers.removeSpinner(),$(".comment-help",this).slideDown(a),h.inProgress=!1})}}},f=c.init;c.init=function(e){f(e),s=e&&e.autoShowCommentHelp;var n=e&&e.post||document;r(n,".comment-up","voteUp"),r(n,".js-comment-delete","delete"),r(n,".js-comment-undelete","undelete"),r(n,".js-comment-flag","flag"),r(n,".js-comment-edit","edit"),r(n,".comment-up-undo","undoVoteUp"),r(n,".js-show-edits","showEdits"),$(".js-comments-container",n).on("keypress",".js-comment-edit",function(e){(32===e.keyCode||13===e.keyCode)&&$(this).addClass("js-return-focus")}),$("form.comment-form-expanded",n).each(function(){l(this).addShow(!0,!0)}),t(null,!0)},c.extendCommentUi=t}(),StackExchange.comments.tabCompleter=function(){function e(e){return StackExchange.helpers.noDiacritics(e.replace(/ /g,"").toLowerCase())}function t(e){var t=$("#tabcomplete");t.empty(),e.length>5||!e.length||$.each(e,function(e,n){var i=$("<li/>").text(n).appendTo(t);n.toLowerCase()==d.toLowerCase()&&i.addClass("chosen")})}function n(){var e=u.caret().start,t=u.val(),n=!1;if(/@[^\s!?();:+"].*@/.test(t)){if(!/`/.test(t))return null;n=!0}var i=t.substring(e).search(/[\s!?();:+"\[\]\\]/);-1==i&&(i=t.length-e),StackExchange.options.site.insertSpaceAfterNameTabCompletion&&0===i&&" "===t.substring(e-1,e)&&(i=-1);var o=t.substring(0,e+i).match(/@[^\s!?();:+"\[\]\\]*$/);if(!o)return null;var a=o[0].substr(1),r=e+i,s=r-a.length;return n&&/@[^\s!?();:+"]/.test(t.substr(0,s-1))?null:{"start":s,"pos":e,"end":r,"name":a}}function i(e){var t=n();if(t.name===e)return u.is(":focus")||u.focus(),void 0;StackExchange.options.site.insertSpaceAfterNameTabCompletion&&(e+=" ");var i=u.val();u.val(i.substring(0,t.start)+e+i.substring(t.end));var o=t.start+e.length;u.caret(o,o)}function o(e){var t,n;if(9==e.which){if(n=$("#tabcomplete li"),!n.length)return;var o=n.filter(".chosen").removeClass("chosen"),a=e.shiftKey?o.prev():o.next();a.length||(a=e.shiftKey?n.last():n.first()),t=a.addClass("chosen").text()}else{if(27!=e.which)return;if(n=$("#tabcomplete li"),!n.length)return;t=d,d=null}e.preventDefault(),i(t)}function a(i){if(i.which)switch(i.which){case 9:case 16:case 17:case 18:case 220:return}var o=n();if(!o)return d=null,t([]),void 0;if(d!=o.name){var a=[];d=o.name;var r;r=o.name?new RegExp("^"+e(o.name).replace(/\./g,"\\."),"i"):/^\W/;for(var s=l.length,c=0;s>c;c++){var u=l[c],h=u.name,f=o.name?e(h):h;f.match(r)&&a.push(h.replace(/ /g,""))}t(a)}}function r(e){if(!e)return null;var t=e.match(h);return t?parseInt(t[1],10)||null:null}function s(e){return e.closest(".question, .answer").find(".post-signature:last .user-details a[href^='/']").filter(function(){return h.test($(this).attr("href"))})}function c(e,t,n,i){if(!StackExchange.options.isMobile&&!StackExchange.helpers.hasContentEditable(e)){var c=t||e.closest("div.comments"),h=n||s(c),f=r(h.attr("href")),p=[];c.find("a.comment-user").each(function(e,t){var n=t.firstChild;if(3!==n.nodeType)return StackExchange.debug.log("unexpected structure in comment owner link"),void 0;var i=n.nodeValue,o=r($(t).attr("href"));o!==StackExchange.options.user.userId&&p.push({"id":o,"name":i})}),l=[];for(var g={},m=p.length-1;m>=0;m--){var v=p[m];g[v.id]||(l.push(v),g[v.id]=!0)}if($("#tabcomplete").remove(),u&&u.unbind($.browser.opera?"keypress":"keydown",o).unbind("keyup click",a),0===l.length||1===l.length&&l[0].id===f)return u=null,void 0;u=e,d=null;var b=$("<ul id='tabcomplete' />");i?i.append(b):b.insertBefore(e),e.bind("keydown",o).bind("keyup click",a)}}var l,u,d=null,h=/^(?:\/c\/[^\/]+)?\/users\/(\d+)/i;return $("body").on("mousedown","#tabcomplete > li",function(){var e=$(this);return e.parent().find("li.chosen").removeClass("chosen"),i(e.addClass("chosen").text()),!1}),{"init":c}}(),StackExchange.inlineEditing={"init":function(){function e(e,t,n,i){t.fadeIn(n,i),e.hide()}function t(e){return"string"==typeof e&&StackExchange.settings.questions.applyFancyEncodingToQuestionTitles&&(e=e.replace(/\.{3,}/g,"…"),e=e.replace(/---?(\s)/g,"—$1"),e=e.replace(/"(.*?)"/g,"“$1”")),e}document.referrer&&$("#post-form input[name='referrer']").val(document.referrer),$(document).on("click",".js-post-menu .js-edit-post",function(n){if(!(n.ctrlKey||n.altKey||n.metaKey||n.shiftKey)){var i=$(this),o=i.closest(".question, .answer");if(1==i.data("handling-event"))return!1;i.data("handling-event",1),StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.cancelForFullEditor(o);var a=$("#show-editor-button"),r=a.is(":visible");r&&a.hide(),i.addSpinner();var s="",c=o.hasClass("answer");c&&(s=" class='answer'");var l=o.find(".postcell,.answercell"),u=l.find("> *"),d=$('<div class="inline-editor"/>').hide().appendTo(l);return d.load(i.attr("href")+"-inline",function(n,s){var h;if(d.find("[tabindex]").each(function(){var e=parseInt($(this).attr("tabindex"),10);return isNaN(e)||0>=e?!0:($(this).attr("tabindex",e-20),void 0)}),StackExchange.helpers.removeSpinner(),o.offset().top<$(window).scrollTop()&&$("html, body").animate({"scrollTop":$(o).offset().top-55},200),"error"==s)d.remove(),i.data("handling-event",0),/\/review\/suggested-edits\/\d+/.test(n)?(i.removeClass("js-edit-post").addClass("js-edit-pending").attr({"href":n,"title":"1 edit to this post is pending, please review it"}).text(i.text()+" (1)"),StackExchange.question.bindSuggestedEditPopupLinks(),i.click()):StackExchange.helpers.showErrorMessage(l,"The post could not be loaded");else{e(u,d,300);var f=function(t){if(StackExchange.navPrevention){if(!StackExchange.navPrevention.confirm("You have started editing this post. Abandon this edit?"))return!1;StackExchange.navPrevention.stop()}return StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.cancel()}),r&&a.show(),i.data("handling-event",0),e(d,t,300,function(){d.remove()}),t.offset().top<$(window).scrollTop()&&$("html, body").animate({"scrollTop":$(o).offset().top-55},200),!1},p="input keyup",g=function(){k.unbind(p,m),S.trigger(h)},m=function(){return S.trigger(k[0].value),!0};d.find(".cancel-edit").click(function(){g(),f(u)});var v=StackExchange.helpers.DelayedReaction(function(e){$.ajax({"type":"POST","data":{"fkey":StackExchange.options.user.fkey,"hide":e},"url":"/user/save-pref/hide-preview-for-inline-editing"})},1e3,{"sliding":!0}),b=d.find(".hide-preview");b.click(function(){var e=d.find(".js-wmd-preview"),t=e.is(":visible");return t?(e.slideUp(),b.text("show preview")):(e.slideDown(),b.text("hide preview")),v.trigger(t),!1});var y=d.find("form"),k=d.find("#title"),w=$("#question-header a.question-hyperlink"),x=k.data("question-state-suffix");x=x?" "+x:"",h=k.val();var S=StackExchange.helpers.DelayedReaction(function(e){"undefined"!=typeof e&&(w.text(t(e)+x),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,w[0]]))},{"sliding":!0});k.bind(p,m),d.find("#title,.wmd-input,#tagnames,.edit-comment").keydown(function(e){return e.ctrlKey===!0&&13==e.keyCode?(y.submit(),!1):27==e.keyCode?(g(),f(u),!1):void 0}),StackExchange.using("postValidation",function(){StackExchange.postValidation.initOnBlurAndSubmit(y,c?2:1,"edit",!1,function(e){var n=e.html,i=$(n).hide();l.replaceWith(i),c||$("#question-header a.question-hyperlink").text(t(e.title)),$("html").trigger("inline-edit-complete",[i,e.title]),styleCode(),f(i)})}),StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.init()})}}),!1}})}},StackExchange.tagPreferences=function(){function e(e){return $(".js-tag-preferences-container").find(e)}function t(e){m!==g.Full&&m!==e&&(m=m===g.None?e:g.Full,o())}function n(){m!==g.None&&(m=g.None,o(),i())}function i(){v&&(v.remove(),v=null)}function o(){function t(t,n){n?e(t).removeClass("d-none"):e(t).addClass("d-none")}var n=m==g.Full,i=n||m==g.Watching,o=n||m==g.Ignored,s=e(".js-watched-tag-list .post-tag").length>0,l=e(".js-ignored-tag-list .post-tag").length>0;t(".js-watched-tag-list",s),t(".js-ignored-tag-list",l),i?(r(".js-watched-tag-list"),a(".js-add-watched-container",function(e){T(".js-ignored-tag-list",e),S(e,".js-watched-tag-list",20,!0,!1,!0)}),e(".js-watched-tag-list.js-has-subscriptions").addClass("fd-column")):(e(".js-add-watched-container form, .js-watched-tag-list .delete-tag").remove(),e(".js-watched-tag-list.js-has-subscriptions").removeClass("fd-column"),e(".js-watched-tag-list .dropdown").addClass("d-none")),o?(c(),r(".js-ignored-tag-list"),a(".js-add-ignored-container",function(e){b(),T(".js-watched-tag-list",e),S(e,".js-ignored-tag-list",25,!0,!1,!0)})):e(".js-add-ignored-container form, .js-ignored-tag-list .delete-tag").remove(),t(".js-edit-all-tags",!n),t(".js-edit-watched-tags",!i&&s),t(".js-show-add-watched, .js-show-add-watched-container",!i&&!s),t(".js-edit-ignored-tags",!o&&l),t(".js-show-add-ignored, .js-show-add-ignored-container",!o&&!l),t(".js-full-edit-visible",n),t(".js-watched-edit-visible",i),t(".js-ignored-edit-visible",o),e(".post-tag").addClass("user-tag"),$(document).off("click",p),m!=g.None&&$(document).on("click",p)}function a(t,n){var i=e(t);if(!(i.children("form").length>0)){var o=$('\n            <form class="mt8 d-flex">\n                <input type="text" class="flex--item fl1 m0 mrn1 s-input s-input__sm brr0">\n                <button type="submit" class="flex--item s-btn s-btn__primary blr0 m0">Add</button>\n            </form>'),a=o.find("input[type=text]");StackExchange.using("tagAutocomplete",function(){bindTagFilterAutoComplete(a)}),o.on("submit",function(e){e.preventDefault(),n(a)}),i.append(o)}}function r(t){e(t).find(".post-tag").each(function(){var e=$(this);0===e.children(".delete-tag").length&&$("<span>").addClass("delete-tag").attr("title","Remove tag").appendTo(e).click(function(t){s(e),t.preventDefault()})})}function s(e){var t=e.closest(".js-tag"),n=e.closest(".js-ignored-tag-list, .js-watched-tag-list");if(0!==n.length){t.remove();var i=n.is(".js-ignored-tag-list")?25:20,a=_(n).join(" ");u(i,a),f(),o()}}function c(){e(".js-ignored-section").removeClass("d-none")}function l(e){return e=e.replace(/#/g,"ñ").replace(/\+/g,"ç").replace(/\./g,"û"),/\*/.test(e)?e.indexOf("*")==e.length-1?"[class*=' t-"+e.substr(0,e.length-1)+"']":":regex(class, t-"+e.replace(/\*/g,".*")+")":".t-"+e}function u(e,t,n,i){var o="";"undefined"!=typeof w&&(o=String(w));var a={"fkey":StackExchange.options.user.fkey,"key":e,"value":t,"forUserId":o};return i&&(a.render=1),$.post("/users/save-preference",a,n)}function d(e){e.each(function(e,t){var n=$(t);n.is(".post-tag")&&(x[n.text()]=n)})}function h(e,t,n,i){if(window.performance&&window.performance.now){var o=window.performance.now();t();var a=window.performance.now()-o,r=StackExchange.options&&StackExchange.options.user&&StackExchange.options.user.isDeveloper;(r||a>n)&&(console.log("'"+e+"' took "+a.toString()+"ms"),r&&i&&a>n&&console.log(i))}else t()}function f(t,n,i){if(w=i,n)for(var o=0;o<n.length;o++)-1==y.indexOf(n[o])&&y.push(n[o]);n=y;var a=e(".js-ignored-tag-list .post-tag"),r=e(".js-watched-tag-list .post-tag");if(!t||0!=a.length||0!=r.length){$("div.question-summary").removeClass("tagged-ignored tagged-ignored-hidden tagged-interesting");var s=k(a,n),c=k(r,n);if(s.length>0){var l=j()?"tagged-ignored-hidden":"tagged-ignored";h("ignored",function(){$("div.tags").filter(s).closest("div.question-summary").addClass(l)},1500,s)}c.length>0&&h("interesting",function(){$("div.tags").filter(c).closest("div.question-summary").addClass("tagged-interesting")},1500,c)}}function p(e){!$.contains(document.documentElement,e.target)||$(e.target).closest(".js-tag-preferences-container, .js-edit-interesting, .s-modal, .message").length>0||n()}var g;!function(e){e[e.Full=0]="Full",e[e.Watching=1]="Watching",e[e.Ignored=2]="Ignored",e[e.None=3]="None"}(g||(g={}));var m=g.None,v=null,b=function(){$(".js-show-remaining-ignored").addClass("d-none"),$(".js-ignored-tag-list .js-tag").removeClass("d-none")},y=[],k=function(e,t){return e.map(function(e,t){return $(t).text()}).filter(function(e,n){if(!t)return!0;var i;/\*/.test(n)&&(i=new RegExp(n.replace(/([.+])/g,"\\$1").replace(/\*/g,".*")));for(var o=0;o<t.length;o++){var a=t[o];if(n===a)return!1;if(i&&i.test(a))return!1}return!0}).map(function(e,t){return l(t)}).get().join(",")},w=void 0,x={},S=function(e,t,n,a,r,s){void 0===a&&(a=!1),void 0===r&&(r=!1),void 0===s&&(s=!1);var c=$(e),l=$(t),d=c.val(),h=StackExchange.helpers.sanitizeAndSplitTags(d,!0,!1),p=!1;i();for(var g,m,v,b,y=function(e){if(0==$.trim(e).length)return"continue";var t=l.find(".post-tag");t.each(function(){return $(this).text()==e?($(this).fadeTo(500,.1).fadeTo(500,1),p=!0,void 0):void 0}),p||(g=encodeURIComponent(e),m=$(l.find(".js-tag-template").html()),v=x[e],v?m.find(".post-tag").replaceWith(v):m.find(".post-tag").attr({"href":(StackExchange.options.site.routePrefix||"")+"/questions/tagged/"+g,"title":function(e){return"show questions tagged '"+e.tag+"'"}({"tag":e})}).text(e),/~\*/.test(e)&&m.find(".js-tag-frequency-menu-toggle").remove(),b=l.children(".js-tag").filter(function(t,n){var i=$(n).find(".post-tag").text();return i&&e.localeCompare(i)<0}).first(),b.length>0?m.insertBefore(b):l.append(m)),p=!1},k=0,w=h;k<w.length;k++){var S=w[k];y(S)}c.val(""),a&&c.focus();var j=_(l),E=j.join(" ");r||u(n,E,function(e){e&&s&&(e.html&&(l.find(".js-tag").remove(),l.append(e.html),f(),o()),e.error&&C(c,e.error))},s).fail(function(){C(c,"An error occurred; please try again")}),f(),o()},C=function(e,t){m!==g.None&&e.parents("html").length>0&&(v=StackExchange.helpers.showErrorMessage(e,t,{"position":{"my":"top left","at":"bottom left","offsetLeft":10}}))},_=function(e){var t=Array();return e.find(".post-tag").each(function(e,n){var i=$(n).text().trim();i&&t.push(i)}),t},j=function(){return e(".js-hide-ignored").is(":checked")},E=function(t){if(!j())return!1;var n=e(".js-ignored-tag-list .post-tag"),i=k(n,!0);return i.length>0&&$(t).find("div.tags").filter(i).length>0},T=function(t,n){var i=StackExchange.helpers.sanitizeAndSplitTags($(n).val(),!0,!1);e(t).find(".js-tag").filter(function(){return-1!==i.indexOf($(this).data("tag-name")||$(this).find(".post-tag").text())}).remove()},M=function(e,t){var n=$("<input>").val(e);"favorite"==t&&(T(".js-ignored-tag-list",n),S(n,".js-watched-tag-list",20,!1,!0)),"ignore"==t&&(T(".js-watched-tag-list",n),c(),b(),S(n,".js-ignored-tag-list",25,!1,!0)),"clear"==t&&(T(".js-watched-tag-list, .js-ignored-tag-list",n),f(),o())},O=function(){var i=$(".js-tag-preferences-container");i.on("click",".js-show-add-ignored, .js-edit-ignored-tags",function(e){e.preventDefault(),t(g.Ignored),i.find(".js-add-ignored-container input[type=text]").focus()}),i.on("click",".js-show-add-watched, .js-edit-watched-tags",function(e){e.preventDefault(),t(g.Watching),i.find(".js-add-watched-container input[type=text]").focus()}),i.on("click",".js-edit-all-tags",function(e){t(g.Full),e.preventDefault()}),i.on("click",".js-show-remaining-ignored",function(){return b()}),i.on("click",".js-hide-ignored, .js-dim-ignored",function(){u(30,j()),f()}),i.on("click",".js-hide-editor",function(){return n()}),i.on("click",".js-tag-frequency-menu-toggle",function(){var e=$(this);e.find(".dropdown").toggleClass("d-none").find("a").each(function(t,n){var i=$(n);i.data("frequency")===e.find(".js-tag-frequency-label").data("frequency")?i.addClass("selected"):i.removeClass("selected")})}),i.on("click",".dropdown a",function(){var e=$(this),t=e.closest(".js-tag").find(".post-tag").text(),n=e.data("frequency");return t&&P(t,n,function(){e.closest(".dropdown").addClass("d-none")}),!1}),i.on("click",function(t){var n=$(t.target).closest(".js-tag-frequency-menu-toggle").find(".dropdown").get(0);e(".dropdown").filter(function(e,t){return t!=n}).addClass("d-none")}),$(".js-edit-interesting").on("click",function(e){e.preventDefault(),i.length&&(t(g.Watching),$("html, body").animate({"scrollTop":i.offset().top},400,function(){return i.find(".js-add-watched-container input[type=text]").focus()}))})},A=function(){StackExchange.tagmenu.init(),R(),O(),o()},P=function(t,n,i){var o=null;"undefined"!=typeof forUserId&&(o=String(forUserId));var a={"fkey":StackExchange.options.user.fkey,"tagName":t,"notificationFrequencyId":n,"forUserId":o};$.post("/users/tags/subscribe",a,function(o,a,r){o&&e(".js-watched-tag-list.js-has-subscriptions .js-tag").each(function(){var e=$(this);e.find(".post-tag").text()===t&&e.find(".js-tag-frequency-label").text(I(n)).data("frequency",n)}),i&&i(o,a,r)})},I=function(e){switch(e){case StackOverflow.Models.NotificationFrequencyTypeId.None:return"None";case StackOverflow.Models.NotificationFrequencyTypeId.Daily:return"Daily";case StackOverflow.Models.NotificationFrequencyTypeId.FifteenMinutes:return"15 min";default:return"Unknown"}},D=function(e,t){var n=e.data("tag-name"),i=e.data("slug").toString();d(e.find(".js-templates .post-tag")),M(n,t),$.ajax({"type":"POST","url":"/tags/"+encodeURIComponent(i)+"/prefs","data":{"action":t,"fkey":StackExchange.options.user.fkey},"dataType":"html","success":function(e){$(".js-embedded-tag-preferences").each(function(t,n){var o=$(n);if(o.data("slug").toString()===i){var a=$(""+e).addClass(n.className);a.find(".js-tag-frequency-popup").remove(),o.replaceWith(a)}}),F(n,e)},"error":function(){},"complete":function(){e.find(".is-loading").removeClass("is-loading")}})},F=function(e,t){var n=$(""+t),i=n.find(".js-tag-frequency-popup").remove(),o=n.data("new-frequency");i.length>0?(StackExchange.helpers.showModal(i,{"dismissing":function(){P(e,StackOverflow.Models.NotificationFrequencyTypeId.None)}}),i.find(".js-frequency").click(function(){var t=StackOverflow.Models.NotificationFrequencyTypeId[$(this).val()];P(e,t,function(n){n&&(i.fadeOutAndRemove(),L(e,t))})}),i.find(".js-frequency:checked + .js-frequency-label").click(function(){i.fadeOutAndRemove(),L(e,o)})):L(e,o)},L=function(e,t){var n;if(t==StackOverflow.Models.NotificationFrequencyTypeId.Daily)n="You'll receive daily emails when there is new activity in this tag.";else{if(t!=StackOverflow.Models.NotificationFrequencyTypeId.FifteenMinutes)return;n="You'll receive an email within 15 minutes when there is new activity in this tag."}var i=function(e){return"You&#39;re now watching "+e.tag+"."}({"tag":'<span class="d-inline-block bg-green-200 px4 py2 bar-sm">'+e+"</span>"}),o=StackExchange.helpers.showToast(i+" "+n,{"type":"success","actions":[{"labelContents":Svg.UndoSm().add($("<span/>").text("Undo")),"click":function(){return P(e,StackOverflow.Models.NotificationFrequencyTypeId.None,function(e){e&&o.fadeOutAndRemove()})}}]})},R=function(){$(document).on("click",".js-embedded-tag-preferences button",function(){var e=$(this),t=e.closest(".js-embedded-tag-preferences"),n=e.data("action");e.is(".is-loading")||(e.addClass("is-loading"),D(t,n))})};return{"applyPrefs":f,"isIgnored":E,"resetDontApplyCache":function(){y=[]},"init":A}}();var StackExchange;!function(e){var t;!function(t){function n(t,n,i){var o=e.options.user;return $.post("/users/toggle-flag/"+t+"/"+!!n,{"fkey":o.fkey,"userId":i||o.proxiedUserId||o.userId}).then(function(e){return!!e.hasFlags})}function i(t,n,i){var o=e.options.user;return $.post("/account/toggle-preference-flag",{"fkey":o.fkey,"accountId":i||o.accountId,"flag":t,"status":n}).then(function(e){return!!e.hasFlags})}t.toggleUserFlags=n,t.toggleAccountPreferenceFlags=i}(t=e.helpers||(e.helpers={}))}(StackExchange||(StackExchange={}));var __awaiter=this&&this.__awaiter||function(e,t,n,i){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function r(e){try{c(i.next(e))}catch(t){a(t)}}function s(e){try{c(i["throw"](e))}catch(t){a(t)}}function c(e){e.done?n(e.value):o(e.value).then(r,s)}c((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return i([e,t])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,a&&(r=2&n[0]?a["return"]:n[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return c.label++,{"value":n[1],"done":!1};
case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(r=c.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){c.label=n[1];break}if(6===n[0]&&c.label<r[1]){c.label=r[1],r=n;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(n);break}r[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(i){n=[6,i],a=0}finally{o=r=0}if(5&n[0])throw n[1];return{"value":n[0]?n[1]:void 0,"done":!0}}var o,a,r,s,c={"label":0,"sent":function(){if(1&r[0])throw r[1];return r[1]},"trys":[],"ops":[]};return s={"next":n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},StackExchange;!function(e){var t;!function(t){function n(t){return __awaiter(this,void 0,void 0,function(){var n,i,o,a;return __generator(this,function(r){switch(r.label){case 0:return n=t.attr("data-url"),i=t.attr("data-description"),[4,e.helpers.showConfirmModal({"title":"Are you sure you want to rollback?","body":i,"buttonLabel":"Rollback","returnElements":t})];case 1:return o=r.sent(),o?[4,$.post(n,{"fkey":e.options.user.fkey})]:[2];case 2:return a=r.sent(),a.success?window.location.reload():a.message&&e.helpers.showToast(a.message,{"type":"danger"}),[2]}})})}function i(){$(document).on("click",".js-rollback-revision",function(){n($(this))})}t.bindButtons=i}(t=e.rollback||(e.rollback={}))}(StackExchange||(StackExchange={}));var StackOverflow;!function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.FifteenMinutes=1]="FifteenMinutes",e[e.Daily=2]="Daily"}(t=e.NotificationFrequencyTypeId||(e.NotificationFrequencyTypeId={}))}(t=e.Models||(e.Models={}))}(StackOverflow||(StackOverflow={})),function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.HideLeftNavigation=1]="HideLeftNavigation",e[e.EnableKeyboardShortcuts=2]="EnableKeyboardShortcuts",e[e.HideHotNetworkQuestionsSidebar=8]="HideHotNetworkQuestionsSidebar",e[e.DisableNewsletterPersonalization=16]="DisableNewsletterPersonalization",e[e.DismissFreemiumTeamsCreationCTA=32]="DismissFreemiumTeamsCreationCTA",e[e.UnifiedSearchActiveByDefault=64]="UnifiedSearchActiveByDefault",e[e.DismissReviewQueueNoticeCampaign=128]="DismissReviewQueueNoticeCampaign"}(t=e.AccountPreferenceFlags||(e.AccountPreferenceFlags={}))}(t=e.Models||(e.Models={}))}(StackOverflow||(StackOverflow={})),function(e){var t;!function(e){var t;!function(e){e[e.None=0]="None",e[e.DisableSideNav=1073741824]="DisableSideNav",e[e.TeamGuide=1]="TeamGuide",e[e.DismissMarkdownEditorHelp=2]="DismissMarkdownEditorHelp",e[e.HideLeftNavigation=4]="HideLeftNavigation",e[e.DismissMentionsCallout=8]="DismissMentionsCallout",e[e.DismissQuestionPageProductBanner=16]="DismissQuestionPageProductBanner",e[e.DismissWelcomeModal=32]="DismissWelcomeModal",e[e.DismissCloseReopenPrivilegePopover=64]="DismissCloseReopenPrivilegePopover",e[e.DismissCloseReopenPrivilegeExplanationModal=128]="DismissCloseReopenPrivilegeExplanationModal",e[e.DismissPostReactionIntroPopover=256]="DismissPostReactionIntroPopover",e[e.DismissFollowQuestionIntroPopover=512]="DismissFollowQuestionIntroPopover",e[e.DismissClosedEditModal=1024]="DismissClosedEditModal",e[e.DismissModalForCompletedEditOnClosedQuestion=2048]="DismissModalForCompletedEditOnClosedQuestion",e[e.DismissAddAdminNotice=4096]="DismissAddAdminNotice",e[e.ShowReviewQueueNotice=8192]="ShowReviewQueueNotice",e[e.ReviewQueueNoticeIsForCampaign=16384]="ReviewQueueNoticeIsForCampaign",e[e.DismissReviewOnboarding=32768]="DismissReviewOnboarding",e[e.ShowNewReviewerOnboarding=65536]="ShowNewReviewerOnboarding",e[e.DismissModalForFirstPostQueue=131072]="DismissModalForFirstPostQueue",e[e.DismissModalForLateAnswerQueue=262144]="DismissModalForLateAnswerQueue",e[e.DismissModalForCloseVoteQueue=524288]="DismissModalForCloseVoteQueue",e[e.DismissModalForReopenVoteQueue=1048576]="DismissModalForReopenVoteQueue",e[e.DismissModalForTriageQueue=2097152]="DismissModalForTriageQueue",e[e.DismissModalForHelperQueue=4194304]="DismissModalForHelperQueue",e[e.DismissModalForSuggestedEditQueue=8388608]="DismissModalForSuggestedEditQueue",e[e.DismissModalForLowQualityPostQueue=16777216]="DismissModalForLowQualityPostQueue",e[e.DismissModalForFirstQuestionsQueue=33554432]="DismissModalForFirstQuestionsQueue",e[e.DismissModalForFirstAnswersQueue=67108864]="DismissModalForFirstAnswersQueue"}(t=e.UserFlags||(e.UserFlags={}))}(t=e.Models||(e.Models={}))}(StackOverflow||(StackOverflow={})),StackExchange.vote_bounty=function(){function e(e,n,i){if(i.Success){var o=e.data("award-if-applied");e.closest(".js-bounty-award-container").find(".js-bounty-award").removeClass("d-none").text("+"+o).setTooltipText(function(e){return"This answer has been awarded bounties worth "+e.bountyAmount+" reputation"}({"bountyAmount":o}),{"placement":"right"}),$(".js-bounty-notification, .js-bounty-vote, .js-bounty-award-container:not(:has(.js-bounty-award:not(.d-none)))").remove()}else t(!0),StackExchange.helpers.showToast(i.Message,{"type":"danger"})}function t(e){$(".js-bounty-vote").prop("disabled",!e).find(".s-badge").toggleClass("bg-black-500")}function n(n){if(confirm("Are you sure you want to award your bounty to this answer? You can’t undo this!")){var i=StackExchange.vote.getPostId(n);t(!1),n.dispatchEvent("mouseout"),StackExchange.vote.submit({"$target":n,"postId":i,"voteTypeId":StackExchange.vote.voteTypeIds.bountyClose,"success":e})}}var i=function(){$(document).on("click",".js-bounty-vote",function(){n($(this))})},o=function(e,t){return t=$(t||$(".bounty-link")),t=t.off("click",a),e&&t.on("click",a),t},a=function(){var e=o(!1,this),t=$(e).closest(".question").data("questionid");e.loadPopup({"url":"/posts/bounty/"+t}).always(function(){o(!0,e)})},r=function(){o(!0)};return{"init":function(e){e.canOpenBounty&&r(),e.hasOpenBounty&&i()}}}();