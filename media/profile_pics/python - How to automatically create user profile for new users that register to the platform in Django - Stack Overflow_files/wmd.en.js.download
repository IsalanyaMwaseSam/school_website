var Commonmark;Commonmark="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(){return!1}function n(){}function r(e){return e.replace(i,"<!-- language: $1 --><pre><code>")}function o(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],r=0;return e.replace(/[\n\t]/g,function(e,o){return"\n"===e?(r=o+1,e):(t=(o-r)%4,r=o+1,n[t])})}n.prototype={"chain":function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);this[t]=r===e?n:function(){var e=Array.prototype.slice.call(arguments,0);return e[0]=r.apply(null,e),n.apply(null,e)}},"set":function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},"addNoop":function(t){this[t]=e},"addFalse":function(e){this[e]=t}},Commonmark.HookCollection=n,Commonmark.Converter=function(e){e=e||{},Commonmark.markdownit=null;var t=this.hooks=new n;t.addNoop("plainLinkText"),t.addNoop("preConversion"),t.addNoop("postNormalization"),t.addNoop("preBlockGamut"),t.addNoop("postBlockGamut"),t.addNoop("preSpanGamut"),t.addNoop("postSpanGamut"),t.addNoop("postConversion"),this.makeHtmlAsync=function(e){var t=$.Deferred();if(!e)return t.resolve(e),t.promise();if(null===Commonmark.markdownit){var n=this.makeHtml;return this.loadMarkdownRendererAsync().then(function(){return n(e)})}return t.resolve(this.makeHtml(e)),t.promise()},this.loadMarkdownRendererAsync=function(){var t=$.Deferred();return null===Commonmark.markdownit&&StackExchange.using("markdownit",function(){return Commonmark.markdownit=StackExchange.markdownit.init(e),t.resolve()}),t.promise()},this.makeHtml=function(e){if(null===Commonmark.markdownit)throw new Error("Markdown renderer is not initialized");return e=t.preConversion(e),e=o(e),e=e.replace(/^[ \t]+$/gm,""),e=t.postNormalization(e),e=Commonmark.markdownit.render(e),e=r(e),e=t.postConversion(e)}};var i=/<pre><code class="language-([a-z0-9#+\-.]+)">/gi}();var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(){return!1}function n(){}function r(){}n.prototype={"chain":function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);this[t]=r===e?n:function(){var e=Array.prototype.slice.call(arguments,0);return e[0]=r.apply(null,e),n.apply(null,e)}},"set":function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},"addNoop":function(t){this[t]=e},"addFalse":function(e){this[e]=t}},Markdown.HookCollection=n,r.prototype={"set":function(e,t){this["s_"+e]=t},"get":function(e){return this["s_"+e]}}}(),function(){function e(){}function t(e){this.buttonBar=d.getElementById("wmd-button-bar"+e),this.preview=d.getElementById("wmd-preview"+e),this.input=d.getElementById("wmd-input"+e)}function n(e,t){var n,o,i,a=this,s=[],l=0,u="none",d=function(e,t){u!=e&&(u=e,t||p()),g.isIE&&"moving"==u?i=null:o=setTimeout(f,1)},f=function(e){i=new r(t,e),o=void 0};this.setCommandMode=function(){u="command",p(),o=setTimeout(f,0)},this.canUndo=function(){return l>1},this.canRedo=function(){return s[l+1]?!0:!1},this.undo=function(){a.canUndo()&&(n?(n.restore(),n=null):(s[l]=new r(t),s[--l].restore(),e&&e())),u="none",t.input.focus(),f()},this.redo=function(){a.canRedo()&&(s[++l].restore(),e&&e()),u="none",t.input.focus(),f()};var p=function(){var o=i||new r(t);return o?"moving"==u?(n||(n=o),void 0):(n&&(s[l-1].text!=n.text&&(s[l++]=n),n=null),s[l++]=o,s[l+1]=null,e&&e(),void 0):!1},h=function(e){var t=!1;if((e.ctrlKey||e.metaKey)&&!e.altKey){var n=e.charCode||e.keyCode,r=String.fromCharCode(n);switch(r.toLowerCase()){case"y":a.redo(),t=!0;break;case"z":e.shiftKey?a.redo():a.undo(),t=!0}}return t?(e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1),void 0):void 0},m=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?d("moving"):8==t||46==t||127==t?d("deleting"):13==t?d("newlines"):27==t?d("escape"):(16>t||t>20)&&91!=t&&d("typing")}},v=function(){c.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||e.altKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(g.isIE||i&&i.text!=t.input.value)&&void 0==o&&(u="paste",p(),f())};c.addEvent(t.input,"keydown",h),c.addEvent(t.input,"keydown",m),c.addEvent(t.input,"mousedown",function(){d("moving")}),t.input.onpaste=e,t.input.ondrop=e},b=function(){v(),f(!0),p()};b()}function r(t,n){var r=this,o=t.input;this.init=function(){c.isVisible(o)&&(n||!d.activeElement||d.activeElement===o)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=o.scrollTop,(!this.text&&o.selectionStart||0===o.selectionStart)&&(this.text=o.value))},this.setInputAreaSelection=function(){if(c.isVisible(o))if(void 0===o.selectionStart||g.isOpera){if(d.selection){if(d.activeElement&&d.activeElement!==o)return;o.focus();var e=o.createTextRange();e.moveStart("character",-o.value.length),e.moveEnd("character",-o.value.length),e.moveEnd("character",r.end),e.moveStart("character",r.start),e.select()}}else o.focus(),o.selectionStart=r.start,o.selectionEnd=r.end,o.scrollTop=r.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!o.selectionStart&&0!==o.selectionStart){if(d.selection){r.text=c.fixEolChars(o.value);var e=t.ieCachedRange||d.selection.createRange(),n=c.fixEolChars(e.text),i="",a=i+n+i;e.text=a;var s=c.fixEolChars(o.value);e.moveStart("character",-a.length),e.text=n,r.start=s.indexOf(i),r.end=s.lastIndexOf(i)-i.length;var l=r.text.length-c.fixEolChars(o.value).length;if(l){for(e.moveStart("character",-n.length);l--;)n+="\n",r.end+=1;e.text=n}t.ieCachedRange&&(r.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else r.start=o.selectionStart,r.end=o.selectionEnd},this.restore=function(){void 0!=r.text&&r.text!=o.value&&(o.value=r.text),this.setInputAreaSelection(),o.scrollTop=r.scrollTop},this.getChunks=function(){var t=new e;return t.before=c.fixEolChars(r.text.substring(0,r.start)),t.startTag="",t.selection=c.fixEolChars(r.text.substring(r.start,r.end)),t.endTag="",t.after=c.fixEolChars(r.text.substring(r.end)),t.scrollTop=r.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function o(e,t,n){var r,o,i,a=3e3,s="delayed",u=function(e,t){c.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,c.addEvent(e,"keypress",t),c.addEvent(e,"keydown",t)},f=function(){var e=0;return window.innerHeight?e=window.pageYOffset:d.documentElement&&d.documentElement.scrollTop?e=d.documentElement.scrollTop:d.body&&(e=d.body.scrollTop),e},p=function(){if(t.preview){var n=t.input.value;if(!n||n!=i){i=n;var r=(new Date).getTime();e.makeHtmlAsync(n).then(function(e){var t=(new Date).getTime();o=t-r,S(e)})}}},h=function(){if(r&&(clearTimeout(r),r=void 0),"manual"!==s){var e=0;"delayed"===s&&(e=o),e>a&&(e=a),r=setTimeout(p,e)}},m=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*m(t.preview))};this.refresh=function(e){e?(i="",p()):h()},this.processingTime=function(){return o};var b,y=!0,w=function(e){var n=t.preview,r=n.parentNode,o=n.nextSibling;r.removeChild(n),n.innerHTML=e,o?r.insertBefore(n,o):r.appendChild(n)},k=function(e){t.preview.innerHTML=e},x=function(e){if(b)return b(e);try{k(e),b=k}catch(t){b=w,b(e)}},S=function(e){var r=l.getTop(t.input)-f();if(t.preview&&(x(e),n()),v(),y)return y=!1,void 0;var o=l.getTop(t.input)-f();g.isIE?setTimeout(function(){window.scrollBy(0,o-r)},0):window.scrollBy(0,o-r)},C=function(){u(t.input,h),p(),t.preview&&(t.preview.scrollTop=0)};C()}function i(e,t,n,o,i,a,s){function l(e,a){if(v.focus(),e.id&&!a){var s=e.id.replace(/^wmd-(\w+)-.*$/,"$1");if(w[s]&&i.hooks.interceptButtonClick(e,s,function(){l(e,!0)}))return}if(e.textOp){n&&n.setCommandMode();var c=new r(t);if(!c)return;var u=c.getChunks(),d=function(){v.focus(),u&&c.setChunks(u),c.restore(),o.refresh()},f=e.textOp(u,d);f||d()}e.execute&&e.execute(n)}function u(e,n){var r="0px",o="-20px",i="-40px",a=e.getElementsByTagName("span")[0];n?(a.style.backgroundPosition=e.XShift+" "+r,e.onmouseover=function(){a.style.backgroundPosition=this.XShift+" "+i},e.onmouseout=function(){a.style.backgroundPosition=this.XShift+" "+r},g.isIE&&(e.onmousedown=function(){d.activeElement&&d.activeElement!==t.input||(t.ieCachedRange=document.selection.createRange(),t.ieCachedScrollTop=t.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),l(this),!1})):(a.style.backgroundPosition=e.XShift+" "+o,e.onmouseover=e.onmouseout=e.onclick=function(){})}function f(e){return"string"==typeof e&&(e=i[e]),function(){e.apply(i,arguments)}}function h(){var n=t.buttonBar,r=document.createElement("ul");r.id="wmd-button-row"+e,r.className="wmd-button-row",r=n.appendChild(r);var o=function(t,n,o,i){var a=document.createElement("li");a.className="wmd-button";var s=document.createElement("span");return a.id=t+e,a.appendChild(s),a.title=n,a.XShift=o,i&&(a.textOp=i),u(a,!0),r.appendChild(a),a},i=function(t){var n=document.createElement("li");n.className="wmd-spacer wmd-spacer"+t,n.id="wmd-spacer"+t+e,r.appendChild(n)};b.bold=o("wmd-bold-button",s("bold"),"0px",f("doBold")),b.italic=o("wmd-italic-button",s("italic"),"-20px",f("doItalic")),i(1),b.link=o("wmd-link-button",s("link"),"-40px",f(function(e,t){return this.doLinkOrImage(e,t,!1)})),b.quote=o("wmd-quote-button",s("quote"),"-60px",f("doBlockquote")),b.code=o("wmd-code-button",s("code"),"-80px",f("doCode")),b.image=o("wmd-image-button",s("image"),"-100px",f(function(e,t){return this.doLinkOrImage(e,t,!0)})),i(2),b.olist=o("wmd-olist-button",s("olist"),"-120px",f(function(e,t){this.doList(e,t,!0)})),b.ulist=o("wmd-ulist-button",s("ulist"),"-140px",f(function(e,t){this.doList(e,t,!1)})),b.heading=o("wmd-heading-button",s("heading"),"-160px",f("doHeading")),b.hr=o("wmd-hr-button",s("hr"),"-180px",f("doHorizontalRule")),i(3),b.undo=o("wmd-undo-button",s("undo"),"-200px",null),b.undo.execute=function(e){e&&e.undo()};var c=/win/.test(p.platform.toLowerCase())?s("redo"):s("redomac");b.redo=o("wmd-redo-button",c,"-220px",null),b.redo.execute=function(e){e&&e.redo()};var l=document.createElement("li");if(l.className="wmd-spacer wmd-spacer-max",r.appendChild(l),a){var d=$("body").hasClass("js-ask-page-v2"),h=document.createElement("li"),g=document.createElement("span");h.appendChild(g),d?(h.className="s-btn s-btn__muted s-btn__sm as-center",h.innerText="Show formatting tips"):h.className="wmd-button wmd-help-button",h.id="wmd-help-button"+e,h.XShift="-240px",h.isHelp=!0,h.style.right="0px",h.title=s("help"),h.onclick=a.handler,d||u(h,!0),r.appendChild(h),b.help=h}m()}function m(){n&&(u(b.undo,n.canUndo()),u(b.redo,n.canRedo()))}var v=t.input,b={};h();var y="keydown";g.isOpera&&(y="keypress"),c.addEvent(v,y,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":l(b.bold);break;case"i":l(b.italic);break;case"l":l(b.link);break;case"q":l(b.quote);break;case"k":l(b.code);break;case"g":l(b.image);break;case"o":l(b.olist);break;case"u":l(b.ulist);break;case"h":l(b.heading);break;case"r":l(b.hr);break;case"y":l(b.redo);break;case"z":e.shiftKey?l(b.redo):l(b.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),c.addEvent(v,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var n={};n.textOp=f("doAutoindent"),l(n)}}}),g.isIE&&c.addEvent(v,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0});var w={"link":!0,"image":!0};this.setUndoRedoButtonStates=m}function a(e,t,n,r,o){this.hooks=e,this.getString=t,this.converter=n,this.wrapImageInLink=r,this.convertImagesToLinks=o}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){var r=!1;return t=t.replace(/%(?:[\da-fA-F]{2})|\?|\+|[^\w\d-./[\]]/g,function(e){if(3===e.length&&"%"==e.charAt(0))return e.toUpperCase();switch(e){case"?":return r=!0,"?";case"+":if(r)return"%20"}return encodeURI(e)}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var c={},l={},u={},d=window.document,f=window.RegExp,p=window.navigator,h={"lineLength":72},g={"isIE":/msie/.test(p.userAgent.toLowerCase()),"isIE_5or6":/msie 6/.test(p.userAgent.toLowerCase())||/msie 5/.test(p.userAgent.toLowerCase()),"isOpera":/opera/.test(p.userAgent.toLowerCase())},m={"bold":"Strong <strong> Ctrl+B","boldexample":"strong text","italic":"Emphasis <em> Ctrl+I","italicexample":"emphasized text","link":"Hyperlink <a> Ctrl+L","linkdescription":"enter link description here","linkdialog":'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',"quote":"Blockquote <blockquote> Ctrl+Q","quoteexample":"Blockquote","code":"Code Sample <pre><code> Ctrl+K","codeexample":"enter code here","image":"Image <img> Ctrl+G","imagedescription":"enter image description here","imagedialog":'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"</p>',"olist":"Numbered List <ol> Ctrl+O","ulist":"Bulleted List <ul> Ctrl+U","litem":"List item","heading":"Heading <h1>/<h2> Ctrl+H","headingexample":"Heading","hr":"Horizontal Rule <hr> Ctrl+R","undo":"Undo - Ctrl+Z","redo":"Redo - Ctrl+Y","redomac":"Redo - Ctrl+Shift+Z","help":"Markdown Editing Help","ok":"OK","cancel":"Cancel"},v="http://",b="http://";Markdown.Editor=function(e,r,s){s=s||{},"function"==typeof s.handler&&(s={"helpButton":s}),s.strings=s.strings||{},s.helpButton&&(s.strings.help=s.strings.help||s.helpButton.title);var c=function(e){return s.strings[e]||m[e]};r=r||"",this.getPostfix=function(){return r};var l=this.hooks=new Markdown.HookCollection;l.addNoop("onPreviewRefresh"),l.addNoop("postBlockquoteCreation"),l.addFalse("insertImageDialog"),l.addNoop("imageConvertedToLink"),l.addFalse("insertLinkDialog"),l.addFalse("interceptButtonClick"),l.addFalse("skipModalBackground"),this.getConverter=function(){return e};var u,f=this;this.run=function(){if(!u){u=new t(r);var p,h,g=new a(l,c,e,s.wrapImageInLink,s.convertImagesToLinks),m=new o(e,u,function(){l.onPreviewRefresh()});/\?noundo/.test(d.location.href)||(p=new n(function(){m.refresh(),h&&h.setUndoRedoButtonStates()},u),this.textOperation=function(e){p.setCommandMode(),e(),f.refreshPreview()}),h=new i(r,u,p,m,g,s.helpButton,c),h.setUndoRedoButtonStates();var v=f.refreshPreview=function(){m.refresh(!0)};v()}}},e.prototype.findTags=function(e,t){var n,r=this;e&&(n=c.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return r.startTag=r.startTag+e,""}),n=c.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return r.startTag=r.startTag+e,""})),t&&(n=c.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return r.endTag=e+r.endTag,""}),n=c.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return r.endTag=e+r.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,n,r=this;e?t=n="":(t=function(e){return r.before+=e,""},n=function(e){return r.after=e+r.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},e.prototype.skipLines=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var r,o;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+f.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+f.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+f.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+f.$1,this.before){for(r=o="";e--;)r+="\\n?",o+="\n";n&&(r="\\n*"),this.before=this.before.replace(new f(r+"$",""),o)}if(this.after){for(r=o="";t--;)r+="\\n?",o+="\n";n&&(r="\\n*"),this.after=this.after.replace(new f(r,""),o)}},c.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},c.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},c.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},c.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")},c.extendRegExp=function(e,t,n){(null===t||void 0===t)&&(t=""),(null===n||void 0===n)&&(n="");var r,o=e.toString();return o=o.replace(/\/([gim]*)$/,function(e,t){return r=t,""}),o=o.replace(/(^\/|\/$)/g,""),o=t+o+n,new f(o,r)},l.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},l.getHeight=function(e){return e.offsetHeight||e.scrollHeight},l.getWidth=function(e){return e.offsetWidth||e.scrollWidth},l.getPageSize=function(){var e,t,n,r;self.innerHeight&&self.scrollMaxY?(e=d.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):d.body.scrollHeight>d.body.offsetHeight?(e=d.body.scrollWidth,t=d.body.scrollHeight):(e=d.body.offsetWidth,t=d.body.offsetHeight),self.innerHeight?(n=self.innerWidth,r=self.innerHeight):d.documentElement&&d.documentElement.clientHeight?(n=d.documentElement.clientWidth,r=d.documentElement.clientHeight):d.body&&(n=d.body.clientWidth,r=d.body.clientHeight);var o=Math.max(e,n),i=Math.max(t,r);return[o,i,n,r]},u.createBackground=function(){var e=d.createElement("div"),t=e.style;e.className="wmd-prompt-background",t.position="absolute",t.top="0",t.zIndex="8950",g.isIE?t.filter="alpha(opacity=50)":t.opacity="0.5";var n=l.getPageSize();return t.height=n[1]+"px",g.isIE?(t.left=d.documentElement.scrollLeft,t.width=d.documentElement.clientWidth):(t.left="0",t.width="100%"),d.body.appendChild(e),e},u.prompt=function(e,t,n,r,o){var i,a;void 0===t&&(t="");var s=function(e){var t=e.charCode||e.keyCode;return 27===t?(e.stopPropagation&&e.stopPropagation(),u(!0),!1):void 0},u=function(e){c.removeEvent(d.body,"keyup",s);var t=a.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),i.parentNode.removeChild(i),o(t),!1},f=function(){i=d.createElement("div"),i.className="wmd-prompt-dialog",i.style.padding="10px;",i.style.position="fixed",i.style.width="400px",i.style.zIndex="9000";var n=d.createElement("div");n.innerHTML=e,n.style.padding="5px",i.appendChild(n);var r=d.createElement("form"),o=r.style;r.onsubmit=function(){return u(!1)},o.padding="0",o.margin="0",o.cssFloat="left",o.width="100%",o.textAlign="center",o.position="relative",i.appendChild(r),a=d.createElement("input"),a.type="text",a.className="s-input mb16",a.value=t,o=a.style,o.display="block",o.width="80%",o.marginLeft=o.marginRight="auto",r.appendChild(a);var f=d.createElement("button");f.className="s-btn s-btn__primary",f.type="button",f.onclick=function(){return u(!1)},f.innerText="Insert";var p=d.createElement("button");p.type="button",p.onclick=function(){return u(!0)},p.className="s-btn ml8",p.innerText="Cancel",r.appendChild(f),r.appendChild(p),c.addEvent(d.body,"keyup",s),i.style.top="50%",i.style.left="50%",i.style.display="block",g.isIE_5or6&&(i.style.position="absolute",i.style.top=d.documentElement.scrollTop+200+"px",i.style.left="50%"),d.body.appendChild(i),i.style.marginTop=-(l.getHeight(i)/2)+"px",i.style.marginLeft=-(l.getWidth(i)/2)+"px"};setTimeout(function(){f(n,r);var e=t.length;if(void 0!==a.selectionStart)a.selectionStart=0,a.selectionEnd=e;else if(a.createTextRange){var o=a.createTextRange();o.collapse(!1),o.moveStart("character",-e),o.moveEnd("character",e),o.select()}a.focus()},0)};var y=a.prototype;y.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",y.unwrap=function(e){var t=new f("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},y.wrap=function(e,t){this.unwrap(e);var n=new f("(.{1,"+t+"})( +|$\\n?)","gm"),r=this;e.selection=e.selection.replace(n,function(e,t){return new f("^"+r.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},y.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))},y.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))},y.doBorI=function(e,t,n,r){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var o=/(\**$)/.exec(e.before)[0],i=/(^\**)/.exec(e.after)[0],a=Math.min(o.length,i.length);if(a>=n&&(2!=a||1!=n))e.before=e.before.replace(f("[*]{"+n+"}$",""),""),e.after=e.after.replace(f("^[*]{"+n+"}",""),"");else if(!e.selection&&i){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=f.$1;e.before=e.before+i+s}else{e.selection||i||(e.selection=r);var c=1>=n?"*":"**";e.before=e.before+c,e.after=c+e.after}},y.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,r,o,i){return t[n]=e.replace(/\s*$/,""),o?(t[n]=e.replace(/["(](.+?)[")]$/,""),o+i):""})},y.addLinkDef=function(e,t){var n=0,r={};e.before=this.stripLinkDefs(e.before,r),e.selection=this.stripLinkDefs(e.selection,r),e.after=this.stripLinkDefs(e.after,r);for(var o="",i=/\[(\d+)\]/g,a=e.before+e.selection+e.after,s=this.converter.makeHtml(a),c="https://this-is-a-real-link.biz/";-1!=s.indexOf(c);)c+="nicetry/";var l="\n\n",u=a.replace(i,function(e,t,n){return l+=" ["+n+"]: "+c+n+"/unicorn\n","["+n+"]"});s=this.converter.makeHtml(u+l);var d=function(e){return-1!==s.indexOf(c+e+"/unicorn")},f={},p=function(e){var t=e.replace(/^[ ]{0,3}\[(\d+)\]:/,""),r="L_"+t;return r in f?f[r]:(n++,e="  ["+n+"]:"+t,o+="\n"+e,f[r]=n,n)},h=0,g=function(e,t,n){if(!d(h+n))return e;if(r[t]){var o=p(r[t]);return"["+o+"]"}return e},m=e.before.length;e.before=e.before.replace(i,g),h+=m,m=e.selection.length;var v;return t?v=p(t):e.selection=e.selection.replace(i,g),h+=m,e.after=e.after.replace(i,g),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+o,v},y.doLinkOrImage=function(e,t,n){this.converter.loadMarkdownRendererAsync(),e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var r,o=this.wrapImageInLink,i=this.convertImagesToLinks;if(!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return this.addLinkDef(e,null),void 0;var a=this,c=function(c){if(r&&r.parentNode&&r.parentNode.removeChild(r),null!==c){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var l=" [999]: "+s(c),u=a.addLinkDef(e,l);(!n||o&&!i)&&(e.startTag="[",e.endTag="]["+u+"]"),n&&(e.startTag+=i?"[":"![",e.endTag="]["+u+"]"+e.endTag),e.selection||(e.selection=n?a.getString("imagedescription"):a.getString("linkdescription")),n&&i&&a.hooks.imageConvertedToLink()}t()};return this.hooks.skipModalBackground(n?"image":"link")||(r=u.createBackground()),n?this.hooks.insertImageDialog(c)||u.prompt(this.getString("imagedialog"),v,this.getString("ok"),this.getString("cancel"),c):this.hooks.insertLinkDialog(c)||u.prompt(this.getString("linkdialog"),b,this.getString("ok"),this.getString("cancel"),c),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},y.doAutoindent=function(e){var t=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&t.doList&&t.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&t.doBlockquote&&t.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&t.doCode&&t.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},y.doBlockquote=function(e){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,r,o){return e.before+=n,e.after=o+e.after,r}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||this.getString("quoteexample");var t,n="",r="";if(e.before){for(var o=e.before.replace(/\n$/,"").split("\n"),i=!1,a=0;a<o.length;a++){var s=!1;t=o[a],i=i&&t.length>0,/^>/.test(t)?(s=!0,!i&&t.length>1&&(i=!0)):s=/^[ \t]*$/.test(t)?!0:i,s?n+=t+"\n":(r+=n+t,n="\n")}/(^|\n)>/.test(n)||(r+=n,n="")}e.startTag=n,e.before=r,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var c=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,h.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),c(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),c(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},y.doCode=function(e){var t=/\S[ ]*$/.test(e.before),n=/^[ ]*\S/.test(e.after);if(!n&&!t||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var r=1,o=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(r=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(o=0),e.skipLines(r,o),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(e.startTag="    ",e.selection=this.getString("codeexample"))}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=this.getString("codeexample")))},y.doList=function(e,t,n){var r=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,o=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,i="-",a=1,s=function(){var e;return n?(e=" "+a+". ",a++):e=" "+i+" ",e},c=function(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var l=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),l&&(e.after=e.after.replace(o,c)),n==l)return}var u=1;e.before=e.before.replace(r,function(e){return/^\s*([*+-])/.test(e)&&(i=f.$1),u=/[^\n]\n\n[^\n]/.test(e)?1:0,c(e)}),e.selection||(e.selection=this.getString("litem"));var d=s(),p=1;e.after=e.after.replace(o,function(e){return p=/[^\n]\n\n[^\n]/.test(e)?1:0,c(e)}),e.trimWhitespace(!0),e.skipLines(u,p,!0),e.startTag=d;var g=d.replace(/./g," ");this.wrap(e,h.lineLength-g.length),e.selection=e.selection.replace(/\n/g,"\n"+g)},y.doHeading=function(e){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection=this.getString("headingexample"),e.endTag=" ##",void 0;var t=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=f.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=0==t?2:t-1;if(n>0){var r=n>=2?"-":"=",o=e.selection.length;for(o>h.lineLength&&(o=h.lineLength),e.endTag="\n";o--;)e.endTag+=r}},y.doHorizontalRule=function(e){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}(),function(){function e(){for(var e=0;e<S.length;e++)S[e].refreshPreview()}function t(e){var t='<p>http://example.com/ "optional title"</p>',n="Insert Hyperlink";return{"bold":"Strong <strong> Ctrl+B","boldexample":"strong text","italic":"Emphasis <em> Ctrl+I","italicexample":"emphasized text","link":"Hyperlink <a> Ctrl+L","linkdescription":"enter link description here","linkdialog":"<p><b>"+n+"</b></p>"+t,"linktabtitle":n,"quote":"Blockquote <blockquote> Ctrl+Q","quoteexample":"Blockquote","code":e?"Preformatted text <pre><code> Ctrl-K":"Code Sample <pre><code> Ctrl+K","codeexample":e?"enter preformatted text here":"enter code here","image":"Image <img> Ctrl+G","imagedescription":"enter image description here","imagedialog":'<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg "optional title"</p>',"olist":"Numbered List <ol> Ctrl+O","ulist":"Bulleted List <ul> Ctrl+U","litem":"List item","heading":"Heading <h1>/<h2> Ctrl+H","headingexample":"Heading","hr":"Horizontal Rule <hr> Ctrl+R","undo":"Undo - Ctrl+Z","redo":"Redo - Ctrl+Y","redomac":"Redo - Ctrl+Shift+Z","help":"Markdown Editing Help","ok":"OK","cancel":"Cancel"}}function n(e){var t=e.match(/^\s*>\s*!/gm);if(t&&t.length==e.split("\n").length){var n=!1;e=e.replace(/(.*) (\w)/,function(e,t,r){return n=!0,t+"\n> "+r}),n||(e=e.replace(/^(\s*>\s*)!/m,"$1&#33;"))}return e}function r(e){var t=/\<blockquote\>[\n\s]*?\<p\>[\n\s]*?(![\s\S]*?)\<\/p\>[\n\s]*?\<\/blockquote\>/g,n=/^\s*?[^\s!]/m,r=/^\s*?!/gm;return e=e.replace(t,function(e,t){return n.test(t)?e:(e=e.replace(t,t.replace(r,"").replace(/[$]/g,"$$$$")),e=e.replace("<blockquote>",'<blockquote class="spoiler" data-spoiler="Reveal spoiler">'))})}function o(e){for(var t,n=[],r=/<(a|code)[^>]*>/gi;null!=(t=r.exec(e));){n.push(t.index);var o=new RegExp("</"+t[1]+">","ig");o.lastIndex=r.lastIndex;var i=o.exec(e);if(null==i)break;n.push(o.lastIndex),r.lastIndex=o.lastIndex}return n}function i(e){if(!window.tagRendererRaw)return e;var t,n,r=StackExchange.settings.tags.allowNonAsciiTags?/\[(meta-)?tag:([a-z0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF#+.-]+)\]/gi:/\[(meta-)?tag:([a-z0-9#+.-]+)\]/gi;return e=e.replace(r,function(r,i,a,s){if(!x&&i)return r;t||(t=o(e),n=t.length);for(var c=!1,l=0;n>l&&!(t[l]>s);l++)c=!c;if(c)return r;var u=null;StackExchange.options.site.parentUrl&&!i&&(u=StackExchange.options.site.parentUrl),StackExchange.options.site.routePrefix&&!u&&(u=StackExchange.options.site.routePrefix);var d=StackExchange.helpers.sanitizeAndSplitTags(a);return 1!==d.length?r:tagRendererRaw(d[0],u)})}function a(e){var t,n,r;"undefined"==typeof _&&(_=StackExchange.settings.site.styleCode),_&&(t=u(e),n=u(t+e),e=p(e,t,n));var r=s(e);return _&&(r=h(r,t,n)),r}function s(e){return e.replace(/<[^>]*>?/gi,c)}function c(e){if(e.match(I)||e.match(A)||e.match(O)||StackExchange.settings.markdown.linkEmails===!0&&e.match(P)||enableTables===!0&&e.match(M))return e;var t=!1,n=e.replace(/^(<a href="|<img src=")([^"]*)/i,function(e,n,r){return n+r.replace(/[^-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]/g,function(e){return t=!0,"'"==e?"%27":encodeURIComponent(e)})});return t&&(n.match(A)||n.match(O))?n:""}function l(e){if(""==e)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,n=e.toLowerCase().match(t),r=(n||[]).length;if(0==r)return e;for(var o,i,a,s="<p><img><br><li><hr>",c=[],l=[],u=!1,d=0;r>d;d++)if(o=n[d].replace(/<\/?(\w+).*/,"$1"),!(c[d]||s.search("<"+o+">")>-1)){if(i=n[d],a=-1,!/^<\//.test(i))for(var f=d+1;r>f;f++)if(!c[f]&&n[f]=="</"+o+">"){a=f;break}-1==a?u=l[d]=!0:c[a]=!0}if(!u)return e;
var d=0;return e=e.replace(t,function(e){var t=l[d]?"":e;return d++,t})}function u(e){var t=(e.match(/~/g)||[]).length;return new Array(t+2).join("~")}function d(e){var t=R.length;t>0&&0===e.indexOf(R[t-1])?R[t-1]=e:R.push(e),N.trigger()}function f(e){if(/^lang-/.test(e))return e;var t="c_"+e,n=D[t];return n?n:L[t]?null:(L[t]=!0,d(e),null)}function p(e,t,n){return e=e.replace(F,function(e,n,r){return t+n+t+r}),e.replace(q,function(e,t){return n+t+n})}function h(e,t,n){var r=new RegExp(t+"([a-z0-9#+.-]+)"+t+"(\\s*?<pre)","gi");e=e.replace(r,function(e,t,n){var r=f(t);return r?n+" class='"+r+" prettyprint-override'":n});var o,i=new RegExp("("+n+"([a-z0-9#+.-]+)"+n+")|(<pre><code>)","gi");return e.replace(i,function(e,t,n){if(t)return o=n,"";if(!o)return e;var r=f(o);return r?"<pre class='"+r+" prettyprint-override'><code>":e})}function g(e){function t(e){e.is(":animated")||e.animate({"marginTop":-15},400).animate({"marginTop":0},400).animate({"marginTop":-8},300).animate({"marginTop":0},300).animate({"marginTop":-4},200).animate({"marginTop":0},200).animate({"marginTop":-2},100).animate({"marginTop":0},100).animate({"marginTop":-1},50).animate({"marginTop":0},50)}function n(e){if(c)return e(),void 0;if(!u){u=!0;var n=p.offset();l=$("#wmd-help-button"+d);{var r=l.offset().left+l.outerWidth(),o=n.left,i=p.outerWidth()+o;Math.max(r,i)}s(!0);var a=f?" bg-black-025 ":"";c=$('<div id="mdhelp'+d+'" class="mdhelp"><ul id="mdhelp-tabs'+d+'" class="mdhelp-tabs'+a+'"><li /></ul></div>').find("li").addSpinner().end().hide().insertAfter(l.parent().parent()).slideDown("fast"),$.get("/posts/markdown-help",{"postfix":d,"useV2":f}).done(function(n){c.remove(),c=$(n).insertAfter(l.parent().parent()),$("#mdhelp-tabs"+d).delegate("li:not(:last-child)","click",function(){var e=$(this).hasClass("selected");if(c.find(".mdhelp-tab").slideUp("fast"),$("#mdhelp-tabs"+d+" li").removeClass("selected fw-bold"),!e){$("#"+$(this).attr("data-tab")).slideDown("fast"),$(this).addClass("selected fw-bold"+a);var n=$(this).attr("data-buttons");if(n)for(var r=n.split(","),o=0;o<r.length;o++)t($("#wmd-"+r[o]+"-button"+d))}}),StackExchange.gps.bindTrackClicks(c),u=!1,e()})}}function r(){h=!0,n(function(){s(!0),c.slideDown("fast")})}function o(){h||r()}function i(e){c.slideUp("fast"),s(!1),e||StackExchange.options.user.isAnonymous||StackExchange.helpers.toggleUserFlags(StackOverflow.Models.UserFlags.DismissMarkdownEditorHelp,!0)}function a(){c&&c.is(":visible")?i():r()}function s(e){l.toggleClass("active-help",e),f&&(e?l.addClass("is-selected").text("Hide formatting tips"):l.removeClass("is-selected").text("Show formatting tips"))}var c,l,u=!1;e=e||{};var d=e.postfix||"",f=$("body").hasClass("js-ask-page-v2"),p=$("#wmd-input"+d),h=!1;this.toggle=a,this.showOnce=o,this.hide=function(){c&&c.is(":visible")&&i(!0)}}function m(e){function t(e,t){var r=d[e+"|"+t];return r?r:(n(e,t),null)}function n(e,t){if(!f[e+"|"+t]&&!r(e)){f[e+"|"+t]=!0;var n=p[e];n||(n=p[e]=[]),n.push(t),m.trigger()}}function r(e){return e===s?!1:v["s_"+e]?!0:u&&e===u?!1:l&&e===l?!1:StackExchange.options.site.isMetaSite&&e===StackExchange.options.networkMetaHostname?!1:s===StackExchange.options.networkMetaHostname?!1:!0}function o(e){var t=e.toLowerCase().replace(/\./g,"$").replace(/-/g,"_").replace(/[^_$a-z]/,"");return window.apiCallbacks[t]||(window.apiCallbacks[t]=function(t){b(t,e)}),"apiCallbacks."+t}function i(e,t){if(e===s)return!0;var n=y[e];return n||(n=y[e]={"count":0,"ids":{}}),n.ids[t]?!0:n.count>=w?!1:(n.count++,n.ids[t]=!0,!0)}var a=/<a href="((\S+)\/q(?:uestions)?\/(\d+)(?:|\/\S*?))">\1<\/a>/g,s=window.location.hostname.toLowerCase(),c=StackExchange.options.site,l=c.parentUrl&&StackExchange.helpers.parseUrl(c.parentUrl).hostname,u=c.childUrl&&StackExchange.helpers.parseUrl(c.childUrl).hostname,d={},f={},p={},h="6AU78DZ)GcdjNjAszYmTLQ((",g="!6G7RPxWUNTleV",m=StackExchange.helpers.DelayedReaction(function(){var e=!1;for(var t in p)if(p.hasOwnProperty(t)){var n,r=o(t);p[t].length>30?n=p[t].splice(0,30).join(";"):(n=p[t].join(";"),delete p[t]),e=!0,$.ajax({"url":"https://api.stackexchange.com/2.0/questions/"+n+"?pagesize=30&key="+h+"&filter="+g+"&site="+t,"crossDomain":!0,"jsonpCallback":r,"dataType":"jsonp"});break}e&&m.trigger()},1e3,{"sliding":!0}),v={};window.apiCallbacks={};var b=function(t,n){if(t){if(t.error_message)return/^No site found/.test(t.error_message)&&(v["s_"+n]=!0),void 0;if(t.items){for(var r=t.items,o=r.length,i=0;o>i;i++){var a=r[i];d[n+"|"+a.question_id]=a.title}e&&e()}}},y={},w=StackExchange.options.site.isMetaSite?40:10;return function(e){return y={},e.replace(a,function(e,n,r,o){if(r=r.toLowerCase().replace(/^https?:\/\//,""),/[^a-z0-9.]/.test(r))return e;if(!i(r,o))return e;var a=t(r,o);return a?'<a href="'+n+'">'+a+"</a>":e})}}function v(){return function(e){return e.replace(/<(a\shref|img\ssrc)="(http:)?(\/\/([^""\/]+?\.)?imgur.com\/[^""]+?)"/gi,'<$1="https:$3"')}}function b(e,t,n,r){function o(e){p=null,$("#wmd-button-bar"+n+" .wmd-button__active").removeClass("wmd-button__active"),e?$(".js-wmd-inline-dialog-"+n).remove():$(".js-wmd-inline-dialog-"+n).slideUp(100,function(){$(this).remove()}),$("#wmd-input"+n).prop("disabled",!1).focus(),$("#wmd-button-bar"+n).removeClass("has-active-button"),d&&(d(),d=null)}function i(e){$("#wmd-image-button"+n+".wmd-button__active").length?p(e):(f=e,setTimeout(function(){f=null},500),$("#wmd-image-button"+n).click())}function a(e){e=e.originalEvent||e;var t=e.dataTransfer.items,n=!1;if(t)for(var r=0;r<t.length;r++){if(/^image\//.test(t[r].type))return"yes";"file"===t[r].kind&&(n=!0)}if(n)return"no";var o=e.dataTransfer.types;if(o)for(var r=0;r<o.length;r++)if("Files"===o[r])return"maybe";return"no"}function s(e){var t=c(e);return t?t.getAsFile?t.getAsFile():t:null}function c(e){if(!e)return null;e=e.originalEvent||e;var t;try{switch(e.type){case"change":t=e.target.files;break;case"paste":t=e.clipboardData.items;break;case"drop":case"dragover":case"dragenter":t=e.dataTransfer.items||e.dataTransfer.files}}catch(n){}if(!t||!t.length)return null;for(var r,o=0;o<t.length;o++)if(/^image\//.test(t[o].type)){r=t[o];break}return r}function l(e){var t=$("#wmd-button-bar"+n);o(!0),r.hide(),e.addClass("wmd-button__active"),t.addClass("has-active-button")}function u(e){e.find(".js-cancel-button").click(function(){return o(),!1}),e.keydown(function(e){return 27===e.which?(o(),!1):void 0})}var d;e.hooks.set("skipModalBackground",function(){return!0});var f,p,h,g=$("#post-editor"+n);return $(document).on("paste",function(e){if($(e.target).add(":focus").closest(g).length){var t=s(e);if(t)return i(t),!1;if($("#wmd-image-button"+n+".wmd-button__active").length&&!$(e.target).is("input[type=text], textarea")){var r=e.originalEvent.clipboardData.getData("text/plain");if(r)return h(r),!1}}}),$("#wmd-input"+n).on("dragenter dragover",function(e){var t="no"!==a(e);return e.originalEvent.dataTransfer.dropEffect=t?"copy":"none",!1}).on("drop",function(e){var t=s(e);return t&&i(t),!1}),e.hooks.set("interceptButtonClick",function(e,t){return"image"!==t&&"link"!==t?!1:$(e).hasClass("wmd-button__active")?(o(),!0):!1}),e.hooks.set("insertLinkDialog",function(e){var t=$("#wmd-link-button"+n);l(t);var r=$("#wmd-button-bar"+n),i=$("<div class='wmd-inline-dialog js-wmd-inline-dialog-"+n+"'><p><b>Insert Hyperlink</p></b><div class='d-flex'><input class='s-input' /><button class='s-btn s-btn__outlined ws-nowrap ml16 js-insert-link-button'/><button class=\"s-btn ml4 js-cancel-button\">Cancel</button></div></div>");return i.find(".js-insert-link-button").text("Add link").click(function(){var t=$(this).parent().find("input").val();return t=t.replace(/^https:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t),d=null,o(),e(t),!1}).end().insertAfter(r).hide().slideDown(100).find("input").val("https://").keydown(function(e){return 13===e.which?(i.find(".js-insert-link-button").click(),!1):void 0}),$("#wmd-input"+n).prop("disabled",!0),setTimeout(function(){var e=i.find("input");e.caret(0,8),e.focus()},0),d=function(){e(null)},u(i),!0}),e.hooks.set("insertImageDialog",function(e){function r(){y&&(URL.revokeObjectURL(y),y=null)}var i=$("#wmd-image-button"+n);l(i);var c=$("#wmd-button-bar"+n),g=$("<div class='wmd-inline-dialog p0 js-wmd-inline-dialog-"+n+'\'><input class="ps-absolute o0" type="file" name="file" accept="image/*" id="image-upload-file-input'+n+"\" /><div class='d-flex fd-column js-stacks-validation'>"+(t.imageUploader.showLowRepImageUploadWarning?"<div class='s-notice s-notice__warning m16 mb0'>Images are useful in a post, but <b>make sure the post is still clear without them</b>.  If you post images of code or error messages, copy and paste or type the actual code or message into the post directly.</div>":"")+"<div class='flex--item d-flex ps-relative p16 hmn1 js-drop-target'><div class='flex--item d-flex ai-center fl-grow1 js-pseudo-input'><img class='flex--item hmx1 wmx2 mr32 d-none js-image-upload-preview' /><div class='flex--item d-flex fl-grow1 ai-baseline sm:fd-column sm:ai-stretch d-none js-url-input-container'><label class='s-label mr8 sm:mr0 sm:mb4' for='image-upload-url-input"+n+"'>"+(t.imageUploader.allowUrls?"Paste image or link:":"Paste image:")+"</label><div class='fl1 ps-relative'><input type='text' class='s-input' id='image-upload-url-input"+n+"' /></div><button class='s-btn sm:as-start js-cancel-url'>Cancel</button></div><div class='flex--item d-flex gs8 gsy fd-column js-cta-container'><div class='flex--item fs-body2'>"+(t.imageUploader.allowUrls?function(e){return e.browseStart+"Browse"+e.browseEnd+", drag &amp; drop, or "+e.pasteStart+"paste"+e.pasteEnd+" an image or link"}({"browseStart":"<label class='s-link js-image-upload-label' for='image-upload-file-input"+n+"'>","browseEnd":"</label>","pasteStart":"<button class='s-btn s-btn__link js-show-url-input'>","pasteEnd":"</button>"}):function(e){return e.browseStart+"Browse"+e.browseEnd+", drag &amp; drop, or "+e.pasteStart+"paste"+e.pasteEnd+" an image"}({"browseStart":"<label class='s-link js-image-upload-label' for='image-upload-file-input"+n+"'>","browseEnd":"</label>","pasteStart":"<button class='s-btn s-btn__link js-show-url-input'>","pasteEnd":"</button>"}))+'</div><div class=\'fs-caption fc-black-300\'>(max 2 MiB)</div></div></div></div><p class=\'flex--item px16 s-input-message d-none js-stacks-validation-message\' /><div class=\'d-flex ai-center p16 bt bc-black-200\'><div class="d-flex gs8 gsx"><button class="flex--item s-btn s-btn__primary ws-nowrap js-add-picture" disabled>Add picture</button><button class="flex--item s-btn ws-nowrap js-cancel-button">Cancel</button></div><div class="ml64 d-flex fd-column fs-caption fc-black-300 s-anchors s-anchors__muted">'+(t.imageUploader.brandingHtml?"<span>"+t.imageUploader.brandingHtml+"</span>":"")+(t.imageUploader.contentPolicyHtml?"<span>"+t.imageUploader.contentPolicyHtml+"</span>":"")+"</div></div></div></div>");g.insertAfter(c).hide().slideDown(100,function(){var e=g.find(".js-add-picture");e.prop("disabled")?setTimeout(function(){$("#image-upload-file-input"+n).focus()},100):e.focus()}),g.find(".js-url-input-container input").keydown(function(e){return 13===e.which?(g.find(".js-add-picture").click(),!1):void 0});var m=StackExchange.stacksValidation.handlerFor(g.find(".js-pseudo-input")),v=!1;$("#wmd-input"+n).prop("disabled",!0);var b,y,w,k="file";h=function(e){(!e||t.imageUploader.allowUrls)&&(e&&!/^https?:\/\//i.test(e)&&(e="https://"+e),m.clear(),m=StackExchange.stacksValidation.handlerFor($("#image-upload-url-input"+n)),r(),k="url",w=e,g.find(".js-image-upload-preview, .js-cta-container").addClass("d-none"),g.find(".js-url-input-container").removeClass("d-none").find("input").val(e).trigger("input").focus())},p=function(e){if(!v){if(m.clear(),m=StackExchange.stacksValidation.handlerFor(g.find(".js-pseudo-input")),r(),k="file",g.find(".js-url-input-container").addClass("d-none"),g.find(".js-cta-container").removeClass("d-none"),e){y=URL.createObjectURL(e),g.find(".js-image-upload-preview").attr("src",y).removeClass("d-none");var t=e.size>=2097152;t&&m.add("error","Your image is too large to upload (over 2 MiB)."),g.find(".js-add-picture").prop("disabled",t).focus()}else g.find(".js-image-upload-preview").removeAttr("src").addClass("d-none"),g.find(".js-add-picture").prop("disabled",!0);b=e}};var x=!1;d=function(){x=!0,r(),e(null)},f&&(p(f),f=null);var S=$("#image-upload-file-input"+n).on("change",function(e){p(s(e))});return $("#image-upload-url-input"+n).on("input",function(){var e;t.imageUploader.allowUrls?e=!$(this).val():(m.clear(),$(this).val()&&m.add("error",function(e){return"Uploading images via web links is not supported on this site. Paste an image from the clipboard or "+e.browseStart+"browse"+e.browseEnd+" files on your device."}({"browseStart":"<label class='s-link fc-red-800 td-underline' for='image-upload-file-input"+n+"'>","browseEnd":"</label>"}))),g.find(".js-add-picture").prop("disabled",e)}),g.find(".js-show-url-input").click(function(){return h(""),!1}),g.find(".js-cancel-url").click(function(){return p(null),!1}),g.find(".js-drop-target").on("drop",function(e){return v||p(s(e)),!1}).on("dragenter dragover",function(e){var t="no"!==a(e);return e.originalEvent.dataTransfer.dropEffect=t&&!v?"copy":"none",!1}),g.find(".js-add-picture").on("click",function(t){t.preventDefault(),v=!0,m.clear();var i=S.add("#image-upload-url-input"+n).prop("disabled",!0),a=new FormData;"file"===k?a.append("file",b):(h($("#image-upload-url-input"+n).val()),a.append("upload-url",w));var s=$(this).addClass("is-loading").prop("disabled",!0);a.append("fkey",StackExchange.options.user.fkey),$.ajax({"url":"/upload/image?method=json","data":a,"cache":!1,"contentType":!1,"processData":!1,"type":"POST"}).done(function(t){if(!x)if(t.Success){var n=t.UploadedImage;d=null,r(),o(),e(n)}else t.ErrorMessage?m.add("error",$("<span/>").text(t.ErrorMessage).html()):m.add("error","An error occured when uploading the image.")}).fail(function(e,t,n){m.add("error",function(e){return"An error occured when uploading the image: "+e.message}({"message":n}))}).always(function(){s.removeClass("is-loading").prop("disabled",!1),i.prop("disabled",!1),v=!1})}),u(g),!0}),{"closeInlineDialog":o}}function y(e){clearTimeout(z),w(e)}function w(e){$(e).find("p > a:not(a:has(img))").each(function(){var e=$(this),t=$(this).attr("href"),n=e.closest("p").text().trim();t==n&&(C.hasOwnProperty(t)?e.parent().html(C[t]):(e.parent().addSpinner({"padding-left":"3px"}),z=setTimeout(k,1e3,e.parent(),t)))})}function k(e,t){$.post("/posts/onebox",{"url":t,"fkey":StackExchange.options.user.fkey}).done(function(n){n.success?(C[t]=n.data,e.html(C[t]),n.poll&&(e.addSpinner({"padding-left":"3px"}),setTimeout(k,3e3,e,t))):(C[t]=n.data,e.removeSpinner())})}if(!StackExchange.MarkdownEditor){var x,S=[],C={},E=m(e),j=v(),T=$.Callbacks();StackExchange.MarkdownEditor=function(e){function o(){return new Commonmark.Converter({"autoNewlines":StackExchange.settings.markdown.autoNewlines,"enableTables":e.enableTables})}var s=e.postfix||"";x=StackExchange.options.site.isMetaSite,enableTables=e.enableTables;var c=o(e);e.mutateConverter&&(c=e.mutateConverter(c));var u=e.sanitizeAndHighlight||a,d=c.hooks;d.addNoop("preSafe"),e.disableAutoQuestionLinks||d.chain("postConversion",E),d.chain("postConversion",function(e){return d.preSafe(e)}),d.chain("postConversion",u),d.chain("postConversion",l),d.chain("postConversion",r),d.chain("postConversion",i),window.modSuspendTokens&&d.chain("postConversion",window.modSuspendTokens);var f,p=new g({"postfix":s,"userId":e.userId});!e.imageUploader||"showLowRepImageUploadWarning"in e.imageUploader||(e.imageUploader.showLowRepImageUploadWarning=e.showLowRepImageUploadWarning);var h={"helpButton":{"handler":function(){f&&f(),p.toggle()}},"strings":t(e.noCode),"wrapImageInLink":!e.disableImageLinkWrapping,"convertImagesToLinks":e.convertImagesToLinks,"imageUploader":e.imageUploader},m=new Markdown.Editor(c,s,h);m.hooks.chain("postBlockquoteCreation",n),StackExchange.settings.site.allowImageUploads&&!e.noModals&&(e.showLowRepImageUploadWarning&&StackExchange.imageUploader.enableLowRepWarning(),m.hooks.set("insertImageDialog",StackExchange.imageUploader.uploadImageDialog)),e.noModals&&(f=b(m,h,s,p).closeInlineDialog),StackExchange.settings.site.enableImgurHttps&&d.chain("postConversion",j),T.fire(m,e.postfix);var v=$("#wmd-preview"+s);return m.hooks.chain("onPreviewRefresh",function(){v.trigger("wmdrefresh"),e.oneboxEnabled&&y(v)}),S.push(m),m.run(),e.immediatelyShowMarkdownHelp?p.showOnce(e):e.autoShowMarkdownHelp&&$("#wmd-input"+s).one("focus",function(){p.showOnce(e)}),m.disableSubmission=function(){$("#submit-button"+s).attr("disabled","disabled"),StackExchange.navPrevention.stop()},m},StackExchange.MarkdownEditor.creationCallbacks=T,StackExchange.MarkdownEditor.refreshAllPreviews=e;var _;StackExchange.MarkdownEditor.sanitizeHtml=s;var I=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|h4|h5|h6|i|kbd|li|ol(?: start="\d+")?|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,A=/^(<a\s(class="s-link"\s)?href="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,O=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)*[\]$]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i,P=/^(<a\shref="mailto:[-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+">$)/i,M=/^<table\sclass="s-table">|<\/table>|<\/?(t(head|body|r|[dh](?:[ ]style=['"]text-align:[ ]?(center|left|right);?['"])?))>|<\/div>|<div\sclass="s-table-container">$/i;StackExchange.MarkdownEditor.balanceTags=l;var D={},L={},R=[],N=StackExchange.helpers.DelayedReaction(function(){0!=R.length&&($.ajax("/api/tags/"+encodeURIComponent(R.join(";"))+"/syntax-highlight",{"cache":!0}).done(function(e){var t=!1;for(var n in e)e.hasOwnProperty(n)&&(D["c_"+n]=e[n],t=!0);t&&(StackExchange.MarkdownEditor.refreshAllPreviews(),styleCode())}),R=[])},2e3,{"sliding":!0}),F=/<!-- language: ([a-z0-9#+\-.]+) -->(\s*?<pre>\s*?<code>)/gi,q=/<!-- language-all: ([a-z0-9#+\-.]+) -->/gi;if(StackExchange.settings.site.forceHttpsImages&&StackExchange.MarkdownEditor.creationCallbacks.add(function(e,t){t=t||"";var n=e.getConverter().hooks,r=$("#wmd-input"+t),o=$("#wmd-preview"+t);n.chain("postConversion",function(e){return e=e.replace(new RegExp(/<a[^>]*?>/.source+/(?!.*?<a)/.source+/(?=.*?<img\ssrc="(?:http:)?\/\/)/.source+/(.*?)<\/a>/.source,"gi"),"$1"),e=e.replace(/<img\ssrc="((?:http:)?\/\/[^"]*)"[^>]*?>/gi,function(e,t){return'<span class="message error centered-block ta-center" >All image URLs must start with <strong>https://</strong><br /><a href="javascript: void(0)" data-image-url="'+t+'" class="js-wmd-upload-image">Upload to imgur</a> or specify an HTTPS URL</span>'})}),o.on("click",".js-wmd-upload-image",function(t){var n=$(t.target).data("image-url");return StackExchange.imageUploader.createImageUploadBackground(),StackExchange.imageUploader.uploadImageDialog(function(t){t&&e.textOperation(function(){var e=r.val();e=e.replace(n,t),r.val(e)}),StackExchange.imageUploader.removeImageUploadBackground(),r.focus()},{"imageUrl":n}),t.preventDefault(),!1})}),"undefined"!=typeof MathJax){var B=MathJax.Hub.config,U=!1,V=$.Callbacks(),H=function(e,t){StackExchange.mathjaxEditing.prepareWmdForMathJax(e,t,B.tex2jax.inlineMath)};StackExchange.MarkdownEditor.creationCallbacks.add(function(e,t){U?H(e,t):V.add(function(){H(e,t),e.refreshPreview()})}),StackExchange.using(B.SEEditor,function(){U=!0,V.fire(),V.empty()},"mathjax-editing")}var z}}(),StackExchange.editor=function(){var e=function(e){e=e||{};var t,n,r=e.postfix||"",o=void 0===e.resize?!0:e.resize,i=e.heartbeatType,a=e.bindNavPrevention,s=$("#post-form"+r),c=$("#wmd-input"+r);n=$("#title, #edit-comment, #m-address, .edit-comment"),t=n.add(".tag-editor input"),s.submit(function(){var e=$.Event("post:will-submit");return s.trigger(e),e.isDefaultPrevented()?!1:(StackExchange.helpers.disableSubmitButton(s),StackExchange.navPrevention.stop(),!0)}),o&&($(".original-question").not(".processed").TextAreaResizer(),c.not(".processed").TextAreaResizer()),c.typeWatch({"highlight":!1,"wait":5e3,"captureLength":5,"callback":styleCode});var l=new StackExchange.MarkdownEditor(e);if(i){var u=e.discardSelector?$(e.discardSelector):null;StackExchange.cardiologist.addHeart(i,c,l,u,e.postId,e.autoActivateHeartbeat)}if(l.hooks.chain("imageConvertedToLink",function(){var t=c.parent(),n="You're not allowed to embed images in your posts yet, so we've included a link instead.";e.reputationToPostImages&&(n+="<br/><br/>"+function(e){return"As soon as you earn "+e.rep+" reputation on the site, you'll be able to embed images."}({"rep":e.reputationToPostImages})),StackExchange.helpers.showInfoMessage(t,n,{"position":{"at":"right top","my":"left bottom"},"cssClass":"convert-image-to-link"})}),"ask"==i||"answer"==i){var d=c.add(t),f=function(){return StackExchange.helpers.loadTicks(s),d.unbind("keydown",f),!0};d.bind("keydown",f)}if(a){var p="edit"==i||"ask"==i?c.add("#title").add("#tagnames"):c;StackExchange.navPrevention.init(p)}if(s.find(".js-wmd-preview").click(function(e){if("show-hide"!==e.target.className&&!e.target.localName.startsWith("input")){if(window.getSelection){var t=window.getSelection();if(t.anchorNode!==t.focusNode||t.anchorOffset!==t.focusOffset)return}2!=e.which&&$(this).siblings().find("textarea").focus()}}),0==$("#ask-page-has-errors").length&&$("#title").is("input")&&0===s.find(":focus").length,e.onCreated&&e.onCreated(l),e.discardSelector&&("ask"==i||"answer"==i||"moderatormessage"==i||"article"==i)){var h=$(e.discardSelector);h.click(function(t){if(t.preventDefault(),confirm("Are you sure you want to discard your draft?")){$("#title").val("").blur(),$("#question-suggestions").empty(),$("#wmd-input-42").val(""),$("#wmd-preview-42").html(""),$(".js-post-answer-while-asking-checkbox").filter(":visible").filter(":checked").click();var n="article"==i?$(".js-edit-article-form #tagnames"):h.closest(".post-form").find("#tagnames");return n.length>0&&n[0].func_clear&&(n[0].func_clear(),n.blur()),c.val("").blur(),l.refreshPreview(),$.post("/post/discard-draft",{"fkey":StackExchange.options.user.fkey,"postType":i},function(){$("#draft-saved").hide(),$("#draft-discarded").show();var e=null;e=function(){$("#draft-discarded").hide(),$("#title").unbind("keypress",e),c.unbind("keypress",e)},$("#title").bind("keypress",e),c.bind("keypress",e)}),h.hide(),e.onDraftDiscarded&&e.onDraftDiscarded(),!1}})}StackExchange.bindCommunityWikiConfirmation($(".js-post-editor"))},t=function(t){var n=(t||{}).postfix||"",r=0!=$("#wmd-preview"+n).length&&("-42"!==n||0===$(".js-post-answer-while-asking-checkbox").length)&&0===$("#show-editor-button"+n).length;r?(e(t),StackExchange.editor.finallyInit||(StackExchange.editor.finallyInit=function(){})):StackExchange.editor.finallyInit=function(){e(t)}};return{"init":e,"initIfShown":t}}(),StackExchange.cardiologist=function(){function e(e){var n="number"==typeof e?e:1e3*(v+b);p&&(n=Math.max(n,6e3-((new Date).getTime()-p))),h&&clearTimeout(h),h=setTimeout(t,n)}function t(){if(h=null,m.length||n(),!m.length)return e(),void 0;var t=m.shift();t.checkActive()?t.beat():e()}function n(){var e;m=[],d&&!d.isDisabled&&d.beatCount<30&&m.push(d);for(var t=0;t<g.length;t++)e=g[t],e!=d&&!e.isDisabled&&e.beatCount<30&&m.push(e);v=Math.max(15,Math.min(45,60/(m.length||1)))}function r(e){return"content"in e}function o(){}function i(e){var t=[];$.get("/questions/"+e,function(n){var r=$(n);if(r.find("div.answer").each(function(){var e=this.id.substring("answer-".length);0==$("#answer-"+e).length&&t.push(this.id)}),t.length>0){var o="#"+t.join(",#"),i=r.find(o),a=$("div.answer:last");0==a.length&&(a=$("#answers-header")),i.hide(),a.after(i),i.fadeIn("slow");var s=r.find("#answers-header .answers-subheader h2"),c=$("#answers-header .answers-subheader h2");s.length&&c.length&&c.replaceWith(s),StackExchange.vote.init(e),StackExchange.comments.init({"post":i})}StackExchange.notify.close(w),y=!1},"html")}function a(e,t,n,r,i,a){var s,c=new o;switch(c.type=e,c.jTextarea=t,c.discardDraftLink=r,e){case"ask":case"article":s=0;break;case"answer":s=$("#post-id").val()||location.href.match(/\/questions\/(\d+)/i)[1];break;case"edit":s=i||$("#post-id").val()||t.closest(".question, .answer").find(".vote input").val();var l=t.closest(".inline-post"),u=null;l.length>0&&(u=l[0].action.split("/").pop()),u||(u=$("#client-revision-guid").val()),c.revisionGuid=u;break;case"moderatormessage":s=+$("#moderator-message-to-user").attr("data-userid")}c.postId=s,c.editor=n,t.on("keypress paste input",function(){c.activate()}),a&&c.activate()}function s(e,t){return d&&d.checkActive()?(d.beat(t).done(e),void 0):(e(),void 0)}function c(){e(1)}function l(){y=!0}function u(){if(null==g)return!1;for(var e=0;e<g.length;e++)if(1==g[e].checkActive())return!0;return!1}var d,f,p,h,g=[],m=[],v=45,b=0,y=!1,w=-2,k={"ask":function(e){if(e.relatedQuestions){var t=$(".js-similar-questions");t.empty().append(e.relatedQuestions),StackExchange.gps.bindTrackClicks($(".js-similar-questions-data-track")),$(".js-similar-questions-outer-div").removeClass("d-none"),$(".js-question-summary-scroll").one("scroll",function(){StackExchange.using("gps",function(){StackExchange.gps.track("similarquestions.body_scroll")})})}e.suggestedTags&&StackExchange.tagSuggestions&&StackExchange.tagSuggestions.suggest(e.suggestedTags)},"answer":function(e,t){if(e&&!y)if(e.disableEditor)StackExchange.notify.show(e.message,w),y=!0;else{var n=parseInt(e.message);if(n>0){var r=function(e){return 1==e.count?e.count+" new answer has been posted - "+e.startAnchor+"load new answers."+e.endAnchor:e.count+" new answers have been posted - "+e.startAnchor+"load new answers."+e.endAnchor}({"count":n,"startAnchor":'<a id="load-new-answers">',"endAnchor":"</a>"});StackExchange.notify.show(r,w),y=!0,$("#load-new-answers").click(function(){i(t.postId)})}}},"edit":function(e){if(e&&e.message){var t=StackExchange.notify.getMessageText(w);t!=$("<span />").html(e.message).text()&&(StackExchange.notify.close(w),StackExchange.notify.show(e.message,w))}},"moderatormessage":function(){},"article":function(){}};o.prototype={"activate":function(){d=this,this.isActive||(this.isActive=!0,this.beatCount=0,g.push(this),1===g.length&&e())},"checkActive":function(){return!this.isActive||this.isDisabled?!1:this.jTextarea.closest("body").length?!0:(delete this.jTextarea,this.isDisabled=!0,!1)},"beat":function(e){var t=this,n={"type":"POST","url":"/posts/"+this.postId+"/editor-heartbeat/"+this.type,"dataType":"json","data":{"fkey":StackExchange.options.user.fkey}};if(e||(n.success=function(e){t.success(e)},n.error=function(){t.error()},n.complete=function(){t.complete()}),this.shouldSendDraft()){var r=this.jTextarea.val(),o={"text":r};"ask"===this.type&&(o.title=$("#title").val(),o.tagnames=$("#tagnames").val(),o.answertext=$("#wmd-input-42").val()),"article"===this.type&&(o.title=$("#title").val(),o.tagnames=$("#tagnames").val(),o.articletype=$('input[name="articleType"]:checked').val()),f&&f.heart===this&&f.title===o.title&&f.tagnames===o.tagnames&&f.text===o.text&&f.answertext===o.answertext||(n.data=o,f={"heart":this,"title":o.title,"tagnames":o.tagnames,"text":o.text,"answertext":o.answertext})}if(e&&!("text"in n.data))return $.Deferred().resolve().promise();if(this.revisionGuid&&(n.data.clientRevisionGuid=this.revisionGuid),"answer"===this.type){var i=$("#answers-header .answers-subheader h2"),a=i.data("answercount");null==a&&(a=i.text().replace(/ answers?/i,"")||"0"),n.data.clientCount=a}return n.data.fkey=StackExchange.options.user.fkey,p=(new Date).getTime(),$.ajax(n).promise()},"shouldSendDraft":function(){return"edit"!==this.type&&d===this},"success":function(e){k[this.type](e,this),e.disableEditor&&(r(this.editor)?this.editor.disable():this.editor.disableSubmission(),this.isDisabled=!0),e.draftSaved&&x(this.jTextarea,this.discardDraftLink),this.beatCount++,b=0},"error":function(){$("#draft-saved").hide(),d===this&&m.unshift(this),b=(new Date).getTime()%100/10},"complete":function(){e()}};var x=function(e,t){var n=$("#draft-saved"),r=function(){n.text("Draft saved").fadeIn("fast")};n.is(":visible")?n.fadeOut("fast",r):r(),t&&t.removeClass("dno").removeClass("d-none").show();var o=function(t){(115!=t.which||!t.ctrlKey||t.shiftKey||t.altKey)&&(e.unbind("keypress",o),$("#draft-saved").fadeOut("fast"))};e.bind("keypress",o),$("#draft-discarded").hide()};return{"addHeart":a,"ensureDraftSaved":s,"beatASAP":c,"notifiedOfNewAnswer":l,"isHeartBeating":u}}(),StackExchange.navPrevention=function(){var e,t,n,r,o=function(){var o=!1;return e.each(function(e){o=o||$(this).val().replace(/\s+$/g,"")!==t[e].replace(/\s+$/g,"")}),n&&(o=o||n.content.replace(/\s+$/g,"")!==r.replace(/\s+$/g,"")),o},i=function(t){window.onbeforeunload=t?function(){return e&&o()?t:void 0}:null},a=function(){i("You have started writing or editing a post.")};return{"init":function(o,i){e=o.one("keypress",a),t=[],o.each(function(){t.push($(this).val())}),i&&"content"in i&&($(i.target).one("keypress",a),n=i,r=i.content)},"start":function(){e&&a()},"stop":function(){e&&(e.unbind("keypress",a),i(null),e=null)},"confirm":function(t){return e&&o()?confirm(t):!0}}}(),function(e){function t(t){return i=e(t.data.el),i.blur(),s=o(t).y,a=i.height()-s,e(document).mousemove(n).mouseup(r),!1}function n(e){var t=o(e).y,n=a+t;return s>=t&&(n-=5),s=t,n=Math.max(c,n),i.height(n+"px"),c>n&&r(e),!1}function r(){e(document).unbind("mousemove",n).unbind("mouseup",r),i.focus(),i=null,a=null,s=0}function o(e){return{"x":e.clientX+document.documentElement.scrollLeft,"y":e.clientY+document.documentElement.scrollTop}}var i,a,s=0,c=32;e.fn.TextAreaResizer=function(){return this.each(function(){i=e(this).addClass("processed"),a=null,e(this).parent().append(e('<div class="grippie bbr-sm"></div>').bind("mousedown",{"el":this},t));var n=e("div.grippie",e(this).parent())[0];n.style.marginRight=n.offsetWidth-e(this)[0].offsetWidth+"px"})}}(jQuery),StackExchange.imageUploader=function(){var e=window.URL||window.webkitURL,t={},n=function(){var e,t,n,r,o=window.document,i=window.self;i.innerHeight&&i.scrollMaxY?(e=o.body.scrollWidth,t=i.innerHeight+i.scrollMaxY):o.body.scrollHeight>o.body.offsetHeight?(e=o.body.scrollWidth,t=o.body.scrollHeight):(e=o.body.offsetWidth,t=o.body.offsetHeight),i.innerHeight?(n=i.innerWidth,r=i.innerHeight):o.documentElement&&o.documentElement.clientHeight?(n=o.documentElement.clientWidth,r=o.documentElement.clientHeight):o.body&&(n=o.body.clientWidth,r=o.body.clientHeight);var a=Math.max(e,n),s=Math.max(t,r);return[a,s,n,r]},r={"uploadUrl":"/upload/image","showLowRepWarning":!1},o=function(){$(".wmd-prompt-background").remove()},i=function(){var e=window.document,t=(window.navigator,e.createElement("div")),r=t.style;t.className="wmd-prompt-background",r.position="absolute",r.top="0",r.zIndex="1000",r.opacity="0.5";var o=n();return r.height=o[1]+"px",r.left="0",r.width="100%",e.body.appendChild(t),t};return{"createImageUploadBackground":i,"removeImageUploadBackground":o,"enableLowRepWarning":function(){r.showLowRepWarning=!0},"uploadImageDialog":function(n,o){"string"===$.type(o)&&(o={"uploadUrl":o}),o=$.extend(r,o);var i,a="upload-iframe-"+(new Date).getTime(),s="/render/image-upload?uploadUrl={0}&showLowRepWarning={2}".formatUnicorn(encodeURIComponent(o.uploadUrl),o.showLowRepWarning?"true":"false"),c=$('<div class="modal image-upload wmd-prompt-dialog auto-center" tabindex="-1"></div>').addClass("async-load").data("load-url",s),l=0,u=function(e){c&&c.fadeOutAndRemove(),$("body").off("keydown",v.checkEscape).off("paste",v.paste),void 0!==e&&n(e)},d=function(e){return 0===e.type.indexOf("image/")},f=function(e){var t;return e.items&&(t=$.grep(e.items,d),t.length>0)?t[0].getAsFile():e.files&&(t=$.grep(e.files,d),t.length>0)?t[0]:void 0},p=function(e,t){var n=c.find("."+e);n.find(".tab-page").hide(),n.find("."+e+"-"+t).show(),n.data("active-tab",t)
},h=function(e){var t=c.find("."+e);return t.data("active-tab")},g=function(){window.closeDialog=u,window.displayUploadError=m.uploadError},m={"resetInputs":function(){c.find(".js-modal-input-file, .js-modal-input-url").prop("disabled",!1).attr("value","")},"uploadError":function(e){m.resetInputs(),c.find(".modal-options-error .modal-options-error-message").text(e),p("modal-options","error")},"ajaxResult":function(e){$("#"+a).contents().find("html").html(e)},"ajaxError":function(e,t,n){m.uploadError(function(e){return"Request returned an error: ["+e.status+"] "+e.error}({"status":t,"error":n}))}},v={"showLink":function(e){e&&e.preventDefault(),p("modal-options","url"),c.find(".js-modal-input-url").focus()},"resetView":function(e){e&&e.preventDefault(),p("modal-dropzone","default"),p("modal-options","default"),c.find(".js-modal-cta-submit").prop("disabled",!0),c.find(".modal-dropzone-preview").empty(),c.find(".js-modal-input-file").val(""),m.resetInputs(),l=0,i.removeClass("hover"),c.find("form").off("submit").on("submit",v.oldSchoolSubmit),c.find("form input[name=fkey]").val(StackExchange.options.user.fkey)},"inputFileOrUrl":function(){var e=!!c.find(".js-user-input").filter(function(){return this.value.length}).length;c.find(".js-modal-cta-submit").prop("disabled",!e)},"disablePasteHandling":function(){$("body").off("paste",v.previewImage)},"enablePasteHandling":function(){$("body").on("paste",{"property":"clipboardData"},v.previewImage)},"selectFile":function(e){e.preventDefault(),c.find(".js-modal-input-file").click()},"clickFile":function(e){e.stopPropagation()},"previewImage":function(t){t.preventDefault();var n,r,o,i=f(t.originalEvent[t.data.property]);i&&(n=i.size>=2097152,r=c.find(".modal-dropzone-preview"),r.empty(),o=e.createObjectURL(i),$("<img>").attr("src",o).css({"maxWidth":r.css("width"),"maxHeight":r.css("height")}).on("load",{"url":o},v.loadPreviewImage).appendTo(r),c.find("form").off("submit").on("submit",i,v.ajaxSubmit),c.find(".js-modal-cta-submit").prop("disabled",n),p("modal-dropzone","preview"),p("modal-options",n?"toobig":"preview"))},"dragEnter":function(e){e.preventDefault(),l++,i.addClass("hover")},"dragLeave":function(){0===--l&&i.removeClass("hover")},"clickClose":function(e){e.preventDefault(),u(null)},"loadPreviewImage":function(t){e.revokeObjectURL(t.data.url)},"oldSchoolSubmit":function(e){var t="url"===h("modal-options");p("modal-options","uploading"),c.find(".js-modal-input-file").prop("disabled",t),c.find(".js-modal-input-url").prop("disabled",!t),e.target.target=a,g()},"ajaxSubmit":function(e){e.preventDefault(),p("modal-options","uploading");var t=new window.FormData;t.append("file",e.data),t.append("fkey",StackExchange.options.user.fkey),g(),$.ajax({"url":o.uploadUrl,"data":t,"cache":!1,"contentType":!1,"processData":!1,"type":"POST","success":m.ajaxResult,"error":m.ajaxError})},"checkEscape":function(e){27===e.which&&(e.preventDefault(),u(null))}},b=function(){c.css("height","auto"),c.find(".modal-options-uploading p").addSpinner(),c.find(".modal-options-default a").click(v.showLink),c.find(".modal-options-cancel").click(v.resetView),c.find(".js-modal-input-file").on("click",v.clickFile).on("change",v.inputFileOrUrl);var e=c.find(".js-modal-input-url").on("input keydown",v.inputFileOrUrl);c.find(".modal-dropzone-default").click(v.selectFile),c.find(".js-modal-input-file").change({"property":"target"},v.previewImage),c.find(".js-modal-input-url").focus(v.disablePasteHandling).blur(v.enablePasteHandling),v.enablePasteHandling(),i=c.find(".modal-dropzone-default").on("dragenter",v.dragEnter).on("dragleave",v.dragLeave).on("dragover",!1).on("drop",{"property":"dataTransfer"},v.previewImage),c.find(".js-modal-close").click(v.clickClose),v.resetView(),c.focus(),o.imageUrl&&(v.showLink(),e.val(o.imageUrl),v.inputFileOrUrl())},y=function(){c.asyncLoad({"callback":function(){w(c),b()},"cache":t})},w=function(e){$('<iframe style="display: none;" src="about:blank" />').attr("id",a).attr("name",a).appendTo(e)};return c.appendTo("body").center().fadeIn("fast").promise().done(y),c.on("popupClose",v.disablePasteHandling),$("body").on("keydown",v.checkEscape),!0}}}(),StackExchange.postValidation=function(){function e(e,t,n){var r={"Title":".js-post-title-field","Body":".js-post-body-field[data-post-type-id="+t+"]","Tags":".js-post-tags-field","Mentions":".js-post-mentions-field","EditComment":".js-post-edit-comment-field","Excerpt":".js-post-excerpt-field","Email":".js-post-email-field","ArticleType":".js-article-type-field"};return r[n]?e.find(r[n]):$()}function t(t,n,r){var o=e(t,n,r);return r===L||r===R?t.find(".js-tag-editor").filter(function(){return $(this).data("target-field")===o.get(0)}):o}function n(e,t,n,r){var o=e.find('input[type="submit"]:visible, button[type="submit"]:visible'),i=o.length&&o.is(":enabled");i&&o.prop("disabled",!0),l(e,t,n),u(e,t,n,r),p(e,t,n),h(e,t,n),g(e,t,n),k(e,t,function(){d(e,t,n),i&&o.prop("disabled",!1)})}function r(r,s,c,l,u){n(r,s,c,l);var d,p=function(e){if(r.trigger("post:submit-completed",[{"formType":c,"postTypeId":s,"response":e}]),e.success)if(u)u(e);else{var t=window.location.href.split("#")[0],n=e.redirectTo.split("#")[0];0===n.indexOf("/")&&(n=window.location.protocol+"//"+window.location.hostname+n),window.onbeforeunload=null,d=!0,window.location=e.redirectTo,t.toLowerCase()===n.toLowerCase()&&window.location.reload(!0)}else e.captchaHtml?StackExchange.nocaptcha.init(e.captchaHtml,p):e.errors?(r.find(".js-post-prior-attempt-count").val(function(e,t){return(+t+1||0).toString()}),w(r,s,c,e.errors,e.warnings)):b(r,s,c,{"General":[$("<span/>").text(e.message).html()]},0)};r.submit(function(){if(r.find(".js-post-answer-while-asking-checkbox").is(":checked"))return!0;if(f(r,s,c))return StackExchange.helpers.enableSubmitButton(r),!1;if(a(),StackExchange.navPrevention&&StackExchange.navPrevention.stop(),r.find('input[type="submit"]:visible, button[type="submit"]').addClass("is-loading"),StackExchange.helpers.disableSubmitButton(r),StackExchange.options.site.enableNewTagCreationWarning){var n=e(r,s,L),l=n.prop("defaultValue");if(n.val()!==l)return $.ajax({"type":"GET","url":"/posts/new-tags-warning","dataType":"json","data":{"tags":n.val()},"success":function(e){if(e.showWarning){var n={"closeOthers":!0,"shown":function(){$(".js-confirm-tag-creation").on("click",function(e){return StackExchange.helpers.closePopups(),i(r,s,c,d,p),e.preventDefault(),!1})},"dismissing":function(){o(r,d)},"returnElements":t(r,s,L).find("input:visible")};StackExchange.helpers.showModal($(e.html).elementNodesOnly(),n),StackExchange.helpers.bindMovablePopups()}else i(r,s,c,d,p)}}),!1}return setTimeout(function(){i(r,s,c,d,p)},0),!1})}function o(e,t){e.find('input[type="submit"]:visible, button[type="submit"]').removeClass("is-loading"),t||StackExchange.helpers.enableSubmitButton(e)}function i(e,t,n,r,i){$.ajax({"type":"POST","dataType":"json","data":e.serialize(),"url":e.attr("action"),"success":i,"error":function(){var r=v(n,0);b(e,t,n,{"General":[$("<span/>").text(r).html()]},0)},"complete":function(){o(e,r)}})}function a(){for(var e=0;e<V.length;e++)clearTimeout(V[e]);V=[]}function s(t,n,r,o,i){e(t,n,o).blur(function(){var e=this,a=$(this),s=function(e){C(t,n,r,o,e)},c=function(e){return x(e,t,n,r,[o])};V.push(setTimeout(function(){var t=StackExchange.stacksValidation.handlerFor(a);t&&!P&&t.clear(),i.call(e,a,s,c)},H))})}function c(t,n,r,o,i){if(1===n)return x({"type":"POST","url":"/posts/validate-question","data":{"title":e(t,n,M).val(),"body":e(t,n,D).val(),"tags":e(t,n,L).val(),"fkey":StackExchange.options.user.fkey}},t,n,r,[M,D,L],i).promise();if(2===n)return x({"type":"POST","url":"/posts/validate-body","data":{"body":e(t,n,D).val(),"oldBody":e(t,n,D).prop("defaultValue"),"isQuestion":!1,"isSuggestedEdit":o||!1,"fkey":StackExchange.options.user.fkey}},t,n,r,[D],i).promise();var a=$.Deferred();return a.reject(),a.promise()}function l(e,t,n){s(e,t,n,M,function(e,t,n){var r=e.val(),o=$.trim(r).length,i=e.data("min-length"),a=e.data("max-length");return 0!==o||P?i&&i>o?(t(function(e){return 1==e.minLength?"Title must be at least "+e.minLength+" character.":"Title must be at least "+e.minLength+" characters."}({"minLength":i})),void 0):a&&o>a?(t(function(e){return 1==e.maxLength?"Title cannot be longer than "+e.maxLength+" character.":"Title cannot be longer than "+e.maxLength+" characters."}({"maxLength":a})),void 0):(n({"type":"POST","url":"/posts/validate-title","data":{"title":r,"fkey":StackExchange.options.user.fkey}}),void 0):(t(),void 0)})}function u(e,t,n,r){s(e,t,n,D,function(e,n,o){var i=e.val(),a=$.trim(i).length,s=e.data("min-length");return 0!==a||P?5===t?(s&&s>a?n(function(e){return"Wiki Body must be at least "+e.minLength+" characters. You entered "+e.actual+"."}({"minLength":s,"actual":a})):n(),void 0):((1===t||2===t)&&o({"type":"POST","url":"/posts/validate-body","data":{"body":i,"oldBody":e.prop("defaultValue"),"isQuestion":1===t,"isSuggestedEdit":r,"fkey":StackExchange.options.user.fkey}}),void 0):(n(),void 0)})}function d(e,t,n){s(e,t,n,L,function(e,t,n){var r=e.val(),o=$.trim(r).length;return 0!==o||P?(n({"type":"POST","url":"/posts/validate-tags","data":{"tags":r,"oldTags":e.prop("defaultValue"),"fkey":StackExchange.options.user.fkey},"success":function(t){var n=e.closest(".js-post-form").find(".js-warned-tags-field");if(n.length){var r=n.val(),o=n.data("warned-tags")||[],i=((t.source||{}).Tags||[]).filter(function(e){return e&&-1===o.indexOf(e)});i.length>0&&StackExchange.using("gps",function(){i.forEach(function(e){StackExchange.gps.track("tag_warning.show",{"tag":e},!0),r+=" "+e,o.push(e)}),n.val($.trim(r)).data("warned-tags",o),StackExchange.gps.sendPending()})}}}),void 0):(t(),void 0)})}function f(t,n,r){return"[Edit removed during grace period]"===$.trim(e(t,n,N).val())?(C(t,n,r,N,"Comment reserved for system use. Please use an appropriate comment."),!0):!1}function p(e,t,n){s(e,t,n,N,function(r,o){var i=r.val(),a=$.trim(i).length,s=r.data("min-length"),c=r.data("max-length");return 0===a?(o(),void 0):s&&s>a?(o(function(e){return 1==e.minLength?"Your edit summary must be at least "+e.minLength+" character.":"Your edit summary must be at least "+e.minLength+" characters."}({"minLength":s})),void 0):c&&a>c?(o(function(e){return 1==e.maxLength?"Your edit summary cannot be longer than "+e.maxLength+" character.":"Your edit summary cannot be longer than "+e.maxLength+" characters."}({"maxLength":c})),void 0):(f(e,t,n)||o(),void 0)})}function h(e,t,n){s(e,t,n,F,function(e,t){var n=e.val(),r=$.trim(n).length,o=e.data("min-length"),i=e.data("max-length");return 0===r?(t(),void 0):o&&o>r?(t(function(e){return"Wiki Excerpt must be at least "+e.minLength+" characters; you entered "+e.actual+"."}({"minLength":o,"actual":r})),void 0):i&&r>i?(t(function(e){return"Wiki Excerpt cannot be longer than "+e.maxLength+" characters; you entered "+e.actual+"."}({"maxLength":i,"actual":r})),void 0):(t(),void 0)})}function g(e,t,n){s(e,t,n,q,function(e,t){var n=e.val(),r=$.trim(n),o=r.length;return 0===o?(t(),void 0):StackExchange.helpers.isEmailAddress(r)?(t(),void 0):(t("This email does not appear to be valid."),void 0)})}function m(e,t){var n=$("#sidebar, .sidebar").first().width()||270,r="lg"===StackExchange.responsive.currentRange();return e===B?{"position":"inline","css":{"display":"inline-block","margin-bottom":"10px"},"closeOthers":!1,"dismissable":!1,"type":t}:{"position":{"my":r?"left top":"top center","at":r?"right center":"bottom center"},"css":{"max-width":n,"min-width":n},"closeOthers":!1,"type":t}}function v(e,t){if(t>0)switch(e){case"question":return function(e){return 1==e.specificErrorCount?"Your question couldn't be submitted. Please see the error above.":"Your question couldn't be submitted. Please see the errors above."}({"specificErrorCount":t});case"answer":return function(e){return 1==e.specificErrorCount?"Your answer couldn't be submitted. Please see the error above.":"Your answer couldn't be submitted. Please see the errors above."}({"specificErrorCount":t});case"edit":return function(e){return 1==e.specificErrorCount?"Your edit couldn't be submitted. Please see the error above.":"Your edit couldn't be submitted. Please see the errors above."}({"specificErrorCount":t});case"tags":return function(e){return 1==e.specificErrorCount?"Your tags couldn't be submitted. Please see the error above.":"Your tags couldn't be submitted. Please see the errors above."}({"specificErrorCount":t});case"article":return function(e){return 1==e.specificErrorCount,"Your article couldn't be submitted. Please see the errors above."}({"specificErrorCount":t});default:return function(e){return 1==e.specificErrorCount?"Your post couldn't be submitted. Please see the error above.":"Your post couldn't be submitted. Please see the errors above."}({"specificErrorCount":t})}else switch(e){case"question":return"An error occurred submitting the question.";case"answer":return"An error occurred submitting the answer.";case"edit":return"An error occurred submitting the edit.";case"tags":return"An error occurred submitting the tags.";case"article":return"An error occurred submitting the article.";default:return"An error occurred submitting the post."}}function b(e,t,n,r,o){var i=e.find(".js-general-error").text("").removeClass("d-none");if(!E(e,i,r,null,B,t,n))return o>0?(i.text(v(n,o)),void 0):(i.addClass("d-none"),void 0)}function y(e){var t=$(".js-post-review-summary").closest(".js-post-review-summary-container");if(t.length>0)return t.filter(":visible").scrollIntoView(),void 0;var n;O()&&($("#sidebar").animate({"opacity":.4},500),n=setInterval(function(){O()||($("#sidebar").animate({"opacity":1},500),clearInterval(n))},500));var r;e.find(".validation-error, .js-stacks-validation.has-error").each(function(){var e=$(this).offset().top;(!r||r>e)&&(r=e)});var o=function(){for(var t=0;3>t;t++)e.find(".message").animate({"left":"+=5px"},100).animate({"left":"-=5px"},100)};if(r){var i=$(".review-bar").length;r=Math.max(0,r-(i?125:30)),$("html, body").animate({"scrollTop":r},o)}else o()}function w(e,t,n,r,o){r&&k(e,t,function(){var i=S(e,t,n,[M,D,L,R,N,F,q,U],r,o).length;b(e,t,n,r,i),y(e)})}function k(e,n,r){var o=function(){1!==n||t(e,n,L).length?r():setTimeout(o,250)};o()}function x(e,t,n,r,o,i){return $.ajax(e).then(function(e){return i?$.when(i()).then(function(){return e}):e}).done(function(e){S(t,n,r,o,e.errors,e.warnings)}).fail(function(){S(t,n,r,o,{},{})})}function S(e,n,r,o,i,a){for(var s=[],c=0;c<o.length;c++){var l=o[c];E(e,t(e,n,l),i,a,l,n,r)&&s.push(l)}return s}function C(e,n,r,o,i){j(e,t(e,n,o),i?[$("<span/>").text(i).html()]:[],[],o,n,r)}function E(e,t,n,r,o,i,a){var s=n[o]||[],c=(r||{})[o]||[];return j(e,t,s,c,o,i,a)}function j(e,t,n,r,o,i,a){var s=StackExchange.stacksValidation.handlerFor(t);return s?T(s,i,a,n,r,o):_(t,o,n),e.find(".validation-error, .js-stacks-validation.has-error").length||e.find(".js-general-error").text(""),t.trigger("post:validated-field",[{"errors":n,"warnings":r,"field":o,"postTypeId":i,"formType":a}]),n.length>0}function T(e,t,n,r,o){e.clear("error"),r.forEach(function(t){e.add("error",t)}),"edit"===n||"question"===n&&P||(e.clear("warning"),o.forEach(function(t){e.add("warning",t)}))}function _(e,t,n){e&&e.length&&(0===n.length||1===n.length&&""===n[0]||!$("html").has(e).length?A(e):I(e,n,m(t,"error")))}function I(e,t,n){var r=1===t.length?t[0]:"<ul><li>"+t.join("</li><li>")+"</li></ul>",o=e.data("error-popup");if(o&&o.is(":visible")){var i=e.data("error-message");if(i===r)return o.animateOffsetTop&&o.animateOffsetTop(0),void 0;o.fadeOutAndRemove()}var s=StackExchange.helpers.showMessage(e,r,n);s.find("a").attr("target","_blank"),s.click(a),e.addClass("validation-error").data("error-popup",s).data("error-message",r)}function A(e){var t=e.data("error-popup");t&&t.is(":visible")&&t.fadeOutAndRemove(),e.removeClass("validation-error"),e.removeData("error-popup"),e.removeData("error-message")}function O(){var e=!1,t=$("#sidebar, .sidebar").first();if(!t.length)return!1;var n=t.offset().left;return $(".message").each(function(){var t=$(this);return t.offset().left+t.outerWidth()>n?(e=!0,!1):void 0}),e}var P=$("body").hasClass("js-ask-page-v2"),M="Title",D="Body",L="Tags",R="Mentions",N="EditComment",F="Excerpt",q="Email",B="General",U="ArticleType",V=[],H=250;return{"initOnBlur":n,"initOnBlurAndSubmit":r,"showErrorsAfterSubmission":w,"validatePostFields":c,"scrollToErrors":y}}();